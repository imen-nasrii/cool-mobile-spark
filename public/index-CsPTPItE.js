var Xx=e=>{throw TypeError(e)};var hf=(e,t,n)=>t.has(e)||Xx("Cannot "+n);var I=(e,t,n)=>(hf(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?Xx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),fe=(e,t,n,s)=>(hf(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Te=(e,t,n)=>(hf(e,t,"access private method"),n);var nu=(e,t,n,s)=>({set _(o){fe(e,t,o,n)},get _(){return I(e,t,s)}});function xk(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var yk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lw={exports:{}},Fd={},Aw={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),wk=Symbol.for("react.portal"),bk=Symbol.for("react.fragment"),_k=Symbol.for("react.strict_mode"),jk=Symbol.for("react.profiler"),Nk=Symbol.for("react.provider"),Ck=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),Pk=Symbol.for("react.suspense"),kk=Symbol.for("react.memo"),Ek=Symbol.for("react.lazy"),Jx=Symbol.iterator;function Tk(e){return e===null||typeof e!="object"?null:(e=Jx&&e[Jx]||e["@@iterator"],typeof e=="function"?e:null)}var Iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Ow={};function _a(e,t,n){this.props=e,this.context=t,this.refs=Ow,this.updater=n||Iw}_a.prototype.isReactComponent={};_a.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zw(){}zw.prototype=_a.prototype;function Hp(e,t,n){this.props=e,this.context=t,this.refs=Ow,this.updater=n||Iw}var Wp=Hp.prototype=new zw;Wp.constructor=Hp;Dw(Wp,_a.prototype);Wp.isPureReactComponent=!0;var ey=Array.isArray,Fw=Object.prototype.hasOwnProperty,qp={current:null},$w={key:!0,ref:!0,__self:!0,__source:!0};function Bw(e,t,n){var s,o={},a=null,c=null;if(t!=null)for(s in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)Fw.call(t,s)&&!$w.hasOwnProperty(s)&&(o[s]=t[s]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];o.children=d}if(e&&e.defaultProps)for(s in u=e.defaultProps,u)o[s]===void 0&&(o[s]=u[s]);return{$$typeof:dc,type:e,key:a,ref:c,props:o,_owner:qp.current}}function Mk(e,t){return{$$typeof:dc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zp(e){return typeof e=="object"&&e!==null&&e.$$typeof===dc}function Rk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ty=/\/+/g;function ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rk(""+e.key):t.toString(36)}function Au(e,t,n,s,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case dc:case wk:c=!0}}if(c)return c=e,o=o(c),e=s===""?"."+ff(c,0):s,ey(o)?(n="",e!=null&&(n=e.replace(ty,"$&/")+"/"),Au(o,t,n,"",function(f){return f})):o!=null&&(Zp(o)&&(o=Mk(o,n+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(ty,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=s===""?".":s+":",ey(e))for(var u=0;u<e.length;u++){a=e[u];var d=s+ff(a,u);c+=Au(a,t,n,d,o)}else if(d=Tk(e),typeof d=="function")for(e=d.call(e),u=0;!(a=e.next()).done;)a=a.value,d=s+ff(a,u++),c+=Au(a,t,n,d,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function ru(e,t,n){if(e==null)return e;var s=[],o=0;return Au(e,s,"","",function(a){return t.call(n,a,o++)}),s}function Lk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},Iu={transition:null},Ak={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Iu,ReactCurrentOwner:qp};function Uw(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:ru,forEach:function(e,t,n){ru(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ru(e,function(){t++}),t},toArray:function(e){return ru(e,function(t){return t})||[]},only:function(e){if(!Zp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=_a;Ae.Fragment=bk;Ae.Profiler=jk;Ae.PureComponent=Hp;Ae.StrictMode=_k;Ae.Suspense=Pk;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;Ae.act=Uw;Ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Dw({},e.props),o=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=qp.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Fw.call(t,d)&&!$w.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];s.children=u}return{$$typeof:dc,type:e.type,key:o,ref:a,props:s,_owner:c}};Ae.createContext=function(e){return e={$$typeof:Ck,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nk,_context:e},e.Consumer=e};Ae.createElement=Bw;Ae.createFactory=function(e){var t=Bw.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:Sk,render:e}};Ae.isValidElement=Zp;Ae.lazy=function(e){return{$$typeof:Ek,_payload:{_status:-1,_result:e},_init:Lk}};Ae.memo=function(e,t){return{$$typeof:kk,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=Iu.transition;Iu.transition={};try{e()}finally{Iu.transition=t}};Ae.unstable_act=Uw;Ae.useCallback=function(e,t){return tn.current.useCallback(e,t)};Ae.useContext=function(e){return tn.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return tn.current.useEffect(e,t)};Ae.useId=function(){return tn.current.useId()};Ae.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};Ae.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return tn.current.useMemo(e,t)};Ae.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};Ae.useRef=function(e){return tn.current.useRef(e)};Ae.useState=function(e){return tn.current.useState(e)};Ae.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};Ae.useTransition=function(){return tn.current.useTransition()};Ae.version="18.3.1";Aw.exports=Ae;var p=Aw.exports;const Y=Vp(p),Kp=xk({__proto__:null,default:Y},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=p,Dk=Symbol.for("react.element"),Ok=Symbol.for("react.fragment"),zk=Object.prototype.hasOwnProperty,Fk=Ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function Vw(e,t,n){var s,o={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)zk.call(t,s)&&!$k.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:Dk,type:e,key:a,ref:c,props:o,_owner:Fk.current}}Fd.Fragment=Ok;Fd.jsx=Vw;Fd.jsxs=Vw;Lw.exports=Fd;var r=Lw.exports,Hw={exports:{}},Pn={},Ww={exports:{}},qw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,H){var q=O.length;O.push(H);e:for(;0<q;){var $=q-1>>>1,ee=O[$];if(0<o(ee,H))O[$]=H,O[q]=ee,q=$;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var H=O[0],q=O.pop();if(q!==H){O[0]=q;e:for(var $=0,ee=O.length,se=ee>>>1;$<se;){var J=2*($+1)-1,ge=O[J],te=J+1,ue=O[te];if(0>o(ge,q))te<ee&&0>o(ue,ge)?(O[$]=ue,O[te]=q,$=te):(O[$]=ge,O[J]=q,$=J);else if(te<ee&&0>o(ue,q))O[$]=ue,O[te]=q,$=te;else break e}}return H}function o(O,H){var q=O.sortIndex-H.sortIndex;return q!==0?q:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],f=[],g=1,m=null,v=3,y=!1,j=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var H=n(f);H!==null;){if(H.callback===null)s(f);else if(H.startTime<=O)s(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=n(f)}}function P(O){if(w=!1,S(O),!j)if(n(d)!==null)j=!0,Z(k);else{var H=n(f);H!==null&&W(P,H.startTime-O)}}function k(O,H){j=!1,w&&(w=!1,b(T),T=-1),y=!0;var q=v;try{for(S(H),m=n(d);m!==null&&(!(m.expirationTime>H)||O&&!D());){var $=m.callback;if(typeof $=="function"){m.callback=null,v=m.priorityLevel;var ee=$(m.expirationTime<=H);H=e.unstable_now(),typeof ee=="function"?m.callback=ee:m===n(d)&&s(d),S(H)}else s(d);m=n(d)}if(m!==null)var se=!0;else{var J=n(f);J!==null&&W(P,J.startTime-H),se=!1}return se}finally{m=null,v=q,y=!1}}var M=!1,R=null,T=-1,z=5,B=-1;function D(){return!(e.unstable_now()-B<z)}function K(){if(R!==null){var O=e.unstable_now();B=O;var H=!0;try{H=R(!0,O)}finally{H?X():(M=!1,R=null)}}else M=!1}var X;if(typeof _=="function")X=function(){_(K)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=K,X=function(){de.postMessage(null)}}else X=function(){C(K,0)};function Z(O){R=O,M||(M=!0,X())}function W(O,H){T=C(function(){O(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,Z(k))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(O){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var q=v;v=H;try{return O()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=v;v=O;try{return H()}finally{v=q}},e.unstable_scheduleCallback=function(O,H,q){var $=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?$+q:$):q=$,O){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=q+ee,O={id:g++,callback:H,priorityLevel:O,startTime:q,expirationTime:ee,sortIndex:-1},q>$?(O.sortIndex=q,t(f,O),n(d)===null&&O===n(f)&&(w?(b(T),T=-1):w=!0,W(P,q-$))):(O.sortIndex=ee,t(d,O),j||y||(j=!0,Z(k))),O},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(O){var H=v;return function(){var q=v;v=H;try{return O.apply(this,arguments)}finally{v=q}}}})(qw);Ww.exports=qw;var Bk=Ww.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk=p,Sn=Bk;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zw=new Set,Al={};function ro(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(Al[e]=t,e=0;e<t.length;e++)Zw.add(t[e])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),om=Object.prototype.hasOwnProperty,Vk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},ry={};function Hk(e){return om.call(ry,e)?!0:om.call(ny,e)?!1:Vk.test(e)?ry[e]=!0:(ny[e]=!0,!1)}function Wk(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qk(e,t,n,s){if(t===null||typeof t>"u"||Wk(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,s,o,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gp=/[\-:]([a-z])/g;function Qp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gp,Qp);Lt[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gp,Qp);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gp,Qp);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yp(e,t,n,s){var o=Lt.hasOwnProperty(t)?Lt[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qk(t,n,o,s)&&(n=null),s||o===null?Hk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var us=Uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),No=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),Kw=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),cm=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),Qw=Symbol.for("react.offscreen"),sy=Symbol.iterator;function sl(e){return e===null||typeof e!="object"?null:(e=sy&&e[sy]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,mf;function pl(e){if(mf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mf=t&&t[1]||""}return`
`+mf+e}var pf=!1;function gf(e,t){if(!e||pf)return"";pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var s=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){s=f}e.call(t.prototype)}else{try{throw Error()}catch(f){s=f}e()}}catch(f){if(f&&s&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),a=s.stack.split(`
`),c=o.length-1,u=a.length-1;1<=c&&0<=u&&o[c]!==a[u];)u--;for(;1<=c&&0<=u;c--,u--)if(o[c]!==a[u]){if(c!==1||u!==1)do if(c--,u--,0>u||o[c]!==a[u]){var d=`
`+o[c].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=c&&0<=u);break}}}finally{pf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pl(e):""}function Zk(e){switch(e.tag){case 5:return pl(e.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return e=gf(e.type,!1),e;case 11:return e=gf(e.type.render,!1),e;case 1:return e=gf(e.type,!0),e;default:return""}}function um(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Co:return"Fragment";case No:return"Portal";case am:return"Profiler";case Xp:return"StrictMode";case lm:return"Suspense";case cm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gw:return(e.displayName||"Context")+".Consumer";case Kw:return(e._context.displayName||"Context")+".Provider";case Jp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eg:return t=e.displayName||null,t!==null?t:um(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return um(e(t))}catch{}}return null}function Kk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(t);case 8:return t===Xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gk(e){var t=Yw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(c){s=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(c){s=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iu(e){e._valueTracker||(e._valueTracker=Gk(e))}function Xw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Yw(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function td(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dm(e,t){var n=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function iy(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Xs(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jw(e,t){t=t.checked,t!=null&&Yp(e,"checked",t,!1)}function hm(e,t){Jw(e,t);var n=Xs(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fm(e,t.type,n):t.hasOwnProperty("defaultValue")&&fm(e,t.type,Xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fm(e,t,n){(t!=="number"||td(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gl=Array.isArray;function Fo(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Xs(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function mm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ay(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(gl(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xs(n)}}function eb(e,t){var n=Xs(t.value),s=Xs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ly(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ou,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qk=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){Qk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function rb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function sb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=rb(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var Yk=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gm(e,t){if(t){if(Yk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function vm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ym=null,$o=null,Bo=null;function cy(e){if(e=mc(e)){if(typeof ym!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Hd(t),ym(e.stateNode,e.type,t))}}function ib(e){$o?Bo?Bo.push(e):Bo=[e]:$o=e}function ob(){if($o){var e=$o,t=Bo;if(Bo=$o=null,cy(e),t)for(e=0;e<t.length;e++)cy(t[e])}}function ab(e,t){return e(t)}function lb(){}var vf=!1;function cb(e,t,n){if(vf)return e(t,n);vf=!0;try{return ab(e,t,n)}finally{vf=!1,($o!==null||Bo!==null)&&(lb(),ob())}}function Dl(e,t){var n=e.stateNode;if(n===null)return null;var s=Hd(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var wm=!1;if(ts)try{var il={};Object.defineProperty(il,"passive",{get:function(){wm=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{wm=!1}function Xk(e,t,n,s,o,a,c,u,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(g){this.onError(g)}}var Nl=!1,nd=null,rd=!1,bm=null,Jk={onError:function(e){Nl=!0,nd=e}};function eE(e,t,n,s,o,a,c,u,d){Nl=!1,nd=null,Xk.apply(Jk,arguments)}function tE(e,t,n,s,o,a,c,u,d){if(eE.apply(this,arguments),Nl){if(Nl){var f=nd;Nl=!1,nd=null}else throw Error(ne(198));rd||(rd=!0,bm=f)}}function so(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ub(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uy(e){if(so(e)!==e)throw Error(ne(188))}function nE(e){var t=e.alternate;if(!t){if(t=so(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return uy(o),e;if(a===s)return uy(o),t;a=a.sibling}throw Error(ne(188))}if(n.return!==s.return)n=o,s=a;else{for(var c=!1,u=o.child;u;){if(u===n){c=!0,n=o,s=a;break}if(u===s){c=!0,s=o,n=a;break}u=u.sibling}if(!c){for(u=a.child;u;){if(u===n){c=!0,n=a,s=o;break}if(u===s){c=!0,s=a,n=o;break}u=u.sibling}if(!c)throw Error(ne(189))}}if(n.alternate!==s)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function db(e){return e=nE(e),e!==null?hb(e):null}function hb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hb(e);if(t!==null)return t;e=e.sibling}return null}var fb=Sn.unstable_scheduleCallback,dy=Sn.unstable_cancelCallback,rE=Sn.unstable_shouldYield,sE=Sn.unstable_requestPaint,gt=Sn.unstable_now,iE=Sn.unstable_getCurrentPriorityLevel,ng=Sn.unstable_ImmediatePriority,mb=Sn.unstable_UserBlockingPriority,sd=Sn.unstable_NormalPriority,oE=Sn.unstable_LowPriority,pb=Sn.unstable_IdlePriority,$d=null,kr=null;function aE(e){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot($d,e,void 0,(e.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:uE,lE=Math.log,cE=Math.LN2;function uE(e){return e>>>=0,e===0?32:31-(lE(e)/cE|0)|0}var au=64,lu=4194304;function vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function id(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var u=c&~o;u!==0?s=vl(u):(a&=c,a!==0&&(s=vl(a)))}else c=n&~o,c!==0?s=vl(c):a!==0&&(s=vl(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-nr(t),o=1<<n,s|=e[n],t&=~o;return s}function dE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hE(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-nr(a),u=1<<c,d=o[c];d===-1?(!(u&n)||u&s)&&(o[c]=dE(u,t)):d<=t&&(e.expiredLanes|=u),a&=~u}}function _m(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gb(){var e=au;return au<<=1,!(au&4194240)&&(au=64),e}function xf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nr(t),e[t]=n}function fE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-nr(n),a=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~a}}function rg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-nr(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var Ke=0;function vb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xb,sg,yb,wb,bb,jm=!1,cu=[],Bs=null,Us=null,Vs=null,Ol=new Map,zl=new Map,Ss=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hy(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function ol(e,t,n,s,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[o]},t!==null&&(t=mc(t),t!==null&&sg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function pE(e,t,n,s,o){switch(t){case"focusin":return Bs=ol(Bs,e,t,n,s,o),!0;case"dragenter":return Us=ol(Us,e,t,n,s,o),!0;case"mouseover":return Vs=ol(Vs,e,t,n,s,o),!0;case"pointerover":var a=o.pointerId;return Ol.set(a,ol(Ol.get(a)||null,e,t,n,s,o)),!0;case"gotpointercapture":return a=o.pointerId,zl.set(a,ol(zl.get(a)||null,e,t,n,s,o)),!0}return!1}function _b(e){var t=_i(e.target);if(t!==null){var n=so(t);if(n!==null){if(t=n.tag,t===13){if(t=ub(n),t!==null){e.blockedOn=t,bb(e.priority,function(){yb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Du(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);xm=s,n.target.dispatchEvent(s),xm=null}else return t=mc(n),t!==null&&sg(t),e.blockedOn=n,!1;t.shift()}return!0}function fy(e,t,n){Du(e)&&n.delete(t)}function gE(){jm=!1,Bs!==null&&Du(Bs)&&(Bs=null),Us!==null&&Du(Us)&&(Us=null),Vs!==null&&Du(Vs)&&(Vs=null),Ol.forEach(fy),zl.forEach(fy)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,jm||(jm=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,gE)))}function Fl(e){function t(o){return al(o,e)}if(0<cu.length){al(cu[0],e);for(var n=1;n<cu.length;n++){var s=cu[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Bs!==null&&al(Bs,e),Us!==null&&al(Us,e),Vs!==null&&al(Vs,e),Ol.forEach(t),zl.forEach(t),n=0;n<Ss.length;n++)s=Ss[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)_b(n),n.blockedOn===null&&Ss.shift()}var Uo=us.ReactCurrentBatchConfig,od=!0;function vE(e,t,n,s){var o=Ke,a=Uo.transition;Uo.transition=null;try{Ke=1,ig(e,t,n,s)}finally{Ke=o,Uo.transition=a}}function xE(e,t,n,s){var o=Ke,a=Uo.transition;Uo.transition=null;try{Ke=4,ig(e,t,n,s)}finally{Ke=o,Uo.transition=a}}function ig(e,t,n,s){if(od){var o=Nm(e,t,n,s);if(o===null)kf(e,t,s,ad,n),hy(e,s);else if(pE(o,e,t,n,s))s.stopPropagation();else if(hy(e,s),t&4&&-1<mE.indexOf(e)){for(;o!==null;){var a=mc(o);if(a!==null&&xb(a),a=Nm(e,t,n,s),a===null&&kf(e,t,s,ad,n),a===o)break;o=a}o!==null&&s.stopPropagation()}else kf(e,t,s,null,n)}}var ad=null;function Nm(e,t,n,s){if(ad=null,e=tg(s),e=_i(e),e!==null)if(t=so(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ub(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ad=e,null}function jb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iE()){case ng:return 1;case mb:return 4;case sd:case oE:return 16;case pb:return 536870912;default:return 16}default:return 16}}var Os=null,og=null,Ou=null;function Nb(){if(Ou)return Ou;var e,t=og,n=t.length,s,o="value"in Os?Os.value:Os.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var c=n-e;for(s=1;s<=c&&t[n-s]===o[a-s];s++);return Ou=o.slice(e,1<s?1-s:void 0)}function zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function my(){return!1}function kn(e){function t(n,s,o,a,c){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uu:my,this.isPropagationStopped=my,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ag=kn(ja),fc=ut({},ja,{view:0,detail:0}),yE=kn(fc),yf,wf,ll,Bd=ut({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ll&&(ll&&e.type==="mousemove"?(yf=e.screenX-ll.screenX,wf=e.screenY-ll.screenY):wf=yf=0,ll=e),yf)},movementY:function(e){return"movementY"in e?e.movementY:wf}}),py=kn(Bd),wE=ut({},Bd,{dataTransfer:0}),bE=kn(wE),_E=ut({},fc,{relatedTarget:0}),bf=kn(_E),jE=ut({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),NE=kn(jE),CE=ut({},ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SE=kn(CE),PE=ut({},ja,{data:0}),gy=kn(PE),kE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ME(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TE[e])?!!t[e]:!1}function lg(){return ME}var RE=ut({},fc,{key:function(e){if(e.key){var t=kE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lg,charCode:function(e){return e.type==="keypress"?zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LE=kn(RE),AE=ut({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vy=kn(AE),IE=ut({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lg}),DE=kn(IE),OE=ut({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),zE=kn(OE),FE=ut({},Bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=kn(FE),BE=[9,13,27,32],cg=ts&&"CompositionEvent"in window,Cl=null;ts&&"documentMode"in document&&(Cl=document.documentMode);var UE=ts&&"TextEvent"in window&&!Cl,Cb=ts&&(!cg||Cl&&8<Cl&&11>=Cl),xy=" ",yy=!1;function Sb(e,t){switch(e){case"keyup":return BE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var So=!1;function VE(e,t){switch(e){case"compositionend":return Pb(t);case"keypress":return t.which!==32?null:(yy=!0,xy);case"textInput":return e=t.data,e===xy&&yy?null:e;default:return null}}function HE(e,t){if(So)return e==="compositionend"||!cg&&Sb(e,t)?(e=Nb(),Ou=og=Os=null,So=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cb&&t.locale!=="ko"?null:t.data;default:return null}}var WE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WE[e.type]:t==="textarea"}function kb(e,t,n,s){ib(s),t=ld(t,"onChange"),0<t.length&&(n=new ag("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Sl=null,$l=null;function qE(e){Fb(e,0)}function Ud(e){var t=Eo(e);if(Xw(t))return e}function ZE(e,t){if(e==="change")return t}var Eb=!1;if(ts){var _f;if(ts){var jf="oninput"in document;if(!jf){var by=document.createElement("div");by.setAttribute("oninput","return;"),jf=typeof by.oninput=="function"}_f=jf}else _f=!1;Eb=_f&&(!document.documentMode||9<document.documentMode)}function _y(){Sl&&(Sl.detachEvent("onpropertychange",Tb),$l=Sl=null)}function Tb(e){if(e.propertyName==="value"&&Ud($l)){var t=[];kb(t,$l,e,tg(e)),cb(qE,t)}}function KE(e,t,n){e==="focusin"?(_y(),Sl=t,$l=n,Sl.attachEvent("onpropertychange",Tb)):e==="focusout"&&_y()}function GE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ud($l)}function QE(e,t){if(e==="click")return Ud(t)}function YE(e,t){if(e==="input"||e==="change")return Ud(t)}function XE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:XE;function Bl(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!om.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function jy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ny(e,t){var n=jy(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jy(n)}}function Mb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rb(){for(var e=window,t=td();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=td(e.document)}return t}function ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JE(e){var t=Rb(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mb(n.ownerDocument.documentElement,n)){if(s!==null&&ug(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(s.start,o);s=s.end===void 0?a:Math.min(s.end,o),!e.extend&&a>s&&(o=s,s=a,a=o),o=Ny(n,a);var c=Ny(n,s);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eT=ts&&"documentMode"in document&&11>=document.documentMode,Po=null,Cm=null,Pl=null,Sm=!1;function Cy(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sm||Po==null||Po!==td(s)||(s=Po,"selectionStart"in s&&ug(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pl&&Bl(Pl,s)||(Pl=s,s=ld(Cm,"onSelect"),0<s.length&&(t=new ag("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Po)))}function du(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ko={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Nf={},Lb={};ts&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Vd(e){if(Nf[e])return Nf[e];if(!ko[e])return e;var t=ko[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lb)return Nf[e]=t[n];return e}var Ab=Vd("animationend"),Ib=Vd("animationiteration"),Db=Vd("animationstart"),Ob=Vd("transitionend"),zb=new Map,Sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(e,t){zb.set(e,t),ro(t,[e])}for(var Cf=0;Cf<Sy.length;Cf++){var Sf=Sy[Cf],tT=Sf.toLowerCase(),nT=Sf[0].toUpperCase()+Sf.slice(1);oi(tT,"on"+nT)}oi(Ab,"onAnimationEnd");oi(Ib,"onAnimationIteration");oi(Db,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(Ob,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function Py(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,tE(s,t,void 0,e),e.currentTarget=null}function Fb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var c=s.length-1;0<=c;c--){var u=s[c],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==a&&o.isPropagationStopped())break e;Py(o,u,f),a=d}else for(c=0;c<s.length;c++){if(u=s[c],d=u.instance,f=u.currentTarget,u=u.listener,d!==a&&o.isPropagationStopped())break e;Py(o,u,f),a=d}}}if(rd)throw e=bm,rd=!1,bm=null,e}function tt(e,t){var n=t[Mm];n===void 0&&(n=t[Mm]=new Set);var s=e+"__bubble";n.has(s)||($b(t,e,2,!1),n.add(s))}function Pf(e,t,n){var s=0;t&&(s|=4),$b(n,e,s,t)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Ul(e){if(!e[hu]){e[hu]=!0,Zw.forEach(function(n){n!=="selectionchange"&&(rT.has(n)||Pf(n,!1,e),Pf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hu]||(t[hu]=!0,Pf("selectionchange",!1,t))}}function $b(e,t,n,s){switch(jb(t)){case 1:var o=vE;break;case 4:o=xE;break;default:o=ig}n=o.bind(null,t,n,e),o=void 0,!wm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function kf(e,t,n,s,o){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var c=s.tag;if(c===3||c===4){var u=s.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(c===4)for(c=s.return;c!==null;){var d=c.tag;if((d===3||d===4)&&(d=c.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;c=c.return}for(;u!==null;){if(c=_i(u),c===null)return;if(d=c.tag,d===5||d===6){s=a=c;continue e}u=u.parentNode}}s=s.return}cb(function(){var f=a,g=tg(n),m=[];e:{var v=zb.get(e);if(v!==void 0){var y=ag,j=e;switch(e){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":y=LE;break;case"focusin":j="focus",y=bf;break;case"focusout":j="blur",y=bf;break;case"beforeblur":case"afterblur":y=bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=bE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=DE;break;case Ab:case Ib:case Db:y=NE;break;case Ob:y=zE;break;case"scroll":y=yE;break;case"wheel":y=$E;break;case"copy":case"cut":case"paste":y=SE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vy}var w=(t&4)!==0,C=!w&&e==="scroll",b=w?v!==null?v+"Capture":null:v;w=[];for(var _=f,S;_!==null;){S=_;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,b!==null&&(P=Dl(_,b),P!=null&&w.push(Vl(_,P,S)))),C)break;_=_.return}0<w.length&&(v=new y(v,j,null,n,g),m.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",v&&n!==xm&&(j=n.relatedTarget||n.fromElement)&&(_i(j)||j[ns]))break e;if((y||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=f,j=j?_i(j):null,j!==null&&(C=so(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=f),y!==j)){if(w=py,P="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(w=vy,P="onPointerLeave",b="onPointerEnter",_="pointer"),C=y==null?v:Eo(y),S=j==null?v:Eo(j),v=new w(P,_+"leave",y,n,g),v.target=C,v.relatedTarget=S,P=null,_i(g)===f&&(w=new w(b,_+"enter",j,n,g),w.target=S,w.relatedTarget=C,P=w),C=P,y&&j)t:{for(w=y,b=j,_=0,S=w;S;S=yo(S))_++;for(S=0,P=b;P;P=yo(P))S++;for(;0<_-S;)w=yo(w),_--;for(;0<S-_;)b=yo(b),S--;for(;_--;){if(w===b||b!==null&&w===b.alternate)break t;w=yo(w),b=yo(b)}w=null}else w=null;y!==null&&ky(m,v,y,w,!1),j!==null&&C!==null&&ky(m,C,j,w,!0)}}e:{if(v=f?Eo(f):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var k=ZE;else if(wy(v))if(Eb)k=YE;else{k=GE;var M=KE}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(k=QE);if(k&&(k=k(e,f))){kb(m,k,n,g);break e}M&&M(e,v,f),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&fm(v,"number",v.value)}switch(M=f?Eo(f):window,e){case"focusin":(wy(M)||M.contentEditable==="true")&&(Po=M,Cm=f,Pl=null);break;case"focusout":Pl=Cm=Po=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Cy(m,n,g);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":Cy(m,n,g)}var R;if(cg)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else So?Sb(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Cb&&n.locale!=="ko"&&(So||T!=="onCompositionStart"?T==="onCompositionEnd"&&So&&(R=Nb()):(Os=g,og="value"in Os?Os.value:Os.textContent,So=!0)),M=ld(f,T),0<M.length&&(T=new gy(T,e,null,n,g),m.push({event:T,listeners:M}),R?T.data=R:(R=Pb(n),R!==null&&(T.data=R)))),(R=UE?VE(e,n):HE(e,n))&&(f=ld(f,"onBeforeInput"),0<f.length&&(g=new gy("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:f}),g.data=R))}Fb(m,t)})}function Vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ld(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Dl(e,n),a!=null&&s.unshift(Vl(e,a,o)),a=Dl(e,t),a!=null&&s.push(Vl(e,a,o))),e=e.return}return s}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ky(e,t,n,s,o){for(var a=t._reactName,c=[];n!==null&&n!==s;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===s)break;u.tag===5&&f!==null&&(u=f,o?(d=Dl(n,a),d!=null&&c.unshift(Vl(n,d,u))):o||(d=Dl(n,a),d!=null&&c.push(Vl(n,d,u)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var sT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace(sT,`
`).replace(iT,"")}function fu(e,t,n){if(t=Ey(t),Ey(e)!==t&&n)throw Error(ne(425))}function cd(){}var Pm=null,km=null;function Em(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,oT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(e){return Ty.resolve(null).then(e).catch(lT)}:Tm;function lT(e){setTimeout(function(){throw e})}function Ef(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),Fl(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);Fl(t)}function Hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function My(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Na=Math.random().toString(36).slice(2),jr="__reactFiber$"+Na,Hl="__reactProps$"+Na,ns="__reactContainer$"+Na,Mm="__reactEvents$"+Na,cT="__reactListeners$"+Na,uT="__reactHandles$"+Na;function _i(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ns]||n[jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=My(e);e!==null;){if(n=e[jr])return n;e=My(e)}return t}e=n,n=e.parentNode}return null}function mc(e){return e=e[jr]||e[ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Hd(e){return e[Hl]||null}var Rm=[],To=-1;function ai(e){return{current:e}}function nt(e){0>To||(e.current=Rm[To],Rm[To]=null,To--)}function Ye(e,t){To++,Rm[To]=e.current,e.current=t}var Js={},Ht=ai(Js),fn=ai(!1),Fi=Js;function da(e,t){var n=e.type.contextTypes;if(!n)return Js;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mn(e){return e=e.childContextTypes,e!=null}function ud(){nt(fn),nt(Ht)}function Ry(e,t,n){if(Ht.current!==Js)throw Error(ne(168));Ye(Ht,t),Ye(fn,n)}function Bb(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(ne(108,Kk(e)||"Unknown",o));return ut({},n,s)}function dd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Js,Fi=Ht.current,Ye(Ht,e),Ye(fn,fn.current),!0}function Ly(e,t,n){var s=e.stateNode;if(!s)throw Error(ne(169));n?(e=Bb(e,t,Fi),s.__reactInternalMemoizedMergedChildContext=e,nt(fn),nt(Ht),Ye(Ht,e)):nt(fn),Ye(fn,n)}var Zr=null,Wd=!1,Tf=!1;function Ub(e){Zr===null?Zr=[e]:Zr.push(e)}function dT(e){Wd=!0,Ub(e)}function li(){if(!Tf&&Zr!==null){Tf=!0;var e=0,t=Ke;try{var n=Zr;for(Ke=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Zr=null,Wd=!1}catch(o){throw Zr!==null&&(Zr=Zr.slice(e+1)),fb(ng,li),o}finally{Ke=t,Tf=!1}}return null}var Mo=[],Ro=0,hd=null,fd=0,In=[],Dn=0,$i=null,Qr=1,Yr="";function wi(e,t){Mo[Ro++]=fd,Mo[Ro++]=hd,hd=e,fd=t}function Vb(e,t,n){In[Dn++]=Qr,In[Dn++]=Yr,In[Dn++]=$i,$i=e;var s=Qr;e=Yr;var o=32-nr(s)-1;s&=~(1<<o),n+=1;var a=32-nr(t)+o;if(30<a){var c=o-o%5;a=(s&(1<<c)-1).toString(32),s>>=c,o-=c,Qr=1<<32-nr(t)+o|n<<o|s,Yr=a+e}else Qr=1<<a|n<<o|s,Yr=e}function dg(e){e.return!==null&&(wi(e,1),Vb(e,1,0))}function hg(e){for(;e===hd;)hd=Mo[--Ro],Mo[Ro]=null,fd=Mo[--Ro],Mo[Ro]=null;for(;e===$i;)$i=In[--Dn],In[Dn]=null,Yr=In[--Dn],In[Dn]=null,Qr=In[--Dn],In[Dn]=null}var Nn=null,jn=null,rt=!1,er=null;function Hb(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ay(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nn=e,jn=Hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nn=e,jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$i!==null?{id:Qr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nn=e,jn=null,!0):!1;default:return!1}}function Lm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Am(e){if(rt){var t=jn;if(t){var n=t;if(!Ay(e,t)){if(Lm(e))throw Error(ne(418));t=Hs(n.nextSibling);var s=Nn;t&&Ay(e,t)?Hb(s,n):(e.flags=e.flags&-4097|2,rt=!1,Nn=e)}}else{if(Lm(e))throw Error(ne(418));e.flags=e.flags&-4097|2,rt=!1,Nn=e}}}function Iy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nn=e}function mu(e){if(e!==Nn)return!1;if(!rt)return Iy(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Em(e.type,e.memoizedProps)),t&&(t=jn)){if(Lm(e))throw Wb(),Error(ne(418));for(;t;)Hb(e,t),t=Hs(t.nextSibling)}if(Iy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jn=Hs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jn=null}}else jn=Nn?Hs(e.stateNode.nextSibling):null;return!0}function Wb(){for(var e=jn;e;)e=Hs(e.nextSibling)}function ha(){jn=Nn=null,rt=!1}function fg(e){er===null?er=[e]:er.push(e)}var hT=us.ReactCurrentBatchConfig;function cl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var s=n.stateNode}if(!s)throw Error(ne(147,e));var o=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var u=o.refs;c===null?delete u[a]:u[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function pu(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dy(e){var t=e._init;return t(e._payload)}function qb(e){function t(b,_){if(e){var S=b.deletions;S===null?(b.deletions=[_],b.flags|=16):S.push(_)}}function n(b,_){if(!e)return null;for(;_!==null;)t(b,_),_=_.sibling;return null}function s(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function o(b,_){return b=Ks(b,_),b.index=0,b.sibling=null,b}function a(b,_,S){return b.index=S,e?(S=b.alternate,S!==null?(S=S.index,S<_?(b.flags|=2,_):S):(b.flags|=2,_)):(b.flags|=1048576,_)}function c(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,_,S,P){return _===null||_.tag!==6?(_=Of(S,b.mode,P),_.return=b,_):(_=o(_,S),_.return=b,_)}function d(b,_,S,P){var k=S.type;return k===Co?g(b,_,S.props.children,P,S.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===js&&Dy(k)===_.type)?(P=o(_,S.props),P.ref=cl(b,_,S),P.return=b,P):(P=Wu(S.type,S.key,S.props,null,b.mode,P),P.ref=cl(b,_,S),P.return=b,P)}function f(b,_,S,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=zf(S,b.mode,P),_.return=b,_):(_=o(_,S.children||[]),_.return=b,_)}function g(b,_,S,P,k){return _===null||_.tag!==7?(_=Di(S,b.mode,P,k),_.return=b,_):(_=o(_,S),_.return=b,_)}function m(b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Of(""+_,b.mode,S),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case su:return S=Wu(_.type,_.key,_.props,null,b.mode,S),S.ref=cl(b,null,_),S.return=b,S;case No:return _=zf(_,b.mode,S),_.return=b,_;case js:var P=_._init;return m(b,P(_._payload),S)}if(gl(_)||sl(_))return _=Di(_,b.mode,S,null),_.return=b,_;pu(b,_)}return null}function v(b,_,S,P){var k=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:u(b,_,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case su:return S.key===k?d(b,_,S,P):null;case No:return S.key===k?f(b,_,S,P):null;case js:return k=S._init,v(b,_,k(S._payload),P)}if(gl(S)||sl(S))return k!==null?null:g(b,_,S,P,null);pu(b,S)}return null}function y(b,_,S,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(S)||null,u(_,b,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case su:return b=b.get(P.key===null?S:P.key)||null,d(_,b,P,k);case No:return b=b.get(P.key===null?S:P.key)||null,f(_,b,P,k);case js:var M=P._init;return y(b,_,S,M(P._payload),k)}if(gl(P)||sl(P))return b=b.get(S)||null,g(_,b,P,k,null);pu(_,P)}return null}function j(b,_,S,P){for(var k=null,M=null,R=_,T=_=0,z=null;R!==null&&T<S.length;T++){R.index>T?(z=R,R=null):z=R.sibling;var B=v(b,R,S[T],P);if(B===null){R===null&&(R=z);break}e&&R&&B.alternate===null&&t(b,R),_=a(B,_,T),M===null?k=B:M.sibling=B,M=B,R=z}if(T===S.length)return n(b,R),rt&&wi(b,T),k;if(R===null){for(;T<S.length;T++)R=m(b,S[T],P),R!==null&&(_=a(R,_,T),M===null?k=R:M.sibling=R,M=R);return rt&&wi(b,T),k}for(R=s(b,R);T<S.length;T++)z=y(R,b,T,S[T],P),z!==null&&(e&&z.alternate!==null&&R.delete(z.key===null?T:z.key),_=a(z,_,T),M===null?k=z:M.sibling=z,M=z);return e&&R.forEach(function(D){return t(b,D)}),rt&&wi(b,T),k}function w(b,_,S,P){var k=sl(S);if(typeof k!="function")throw Error(ne(150));if(S=k.call(S),S==null)throw Error(ne(151));for(var M=k=null,R=_,T=_=0,z=null,B=S.next();R!==null&&!B.done;T++,B=S.next()){R.index>T?(z=R,R=null):z=R.sibling;var D=v(b,R,B.value,P);if(D===null){R===null&&(R=z);break}e&&R&&D.alternate===null&&t(b,R),_=a(D,_,T),M===null?k=D:M.sibling=D,M=D,R=z}if(B.done)return n(b,R),rt&&wi(b,T),k;if(R===null){for(;!B.done;T++,B=S.next())B=m(b,B.value,P),B!==null&&(_=a(B,_,T),M===null?k=B:M.sibling=B,M=B);return rt&&wi(b,T),k}for(R=s(b,R);!B.done;T++,B=S.next())B=y(R,b,T,B.value,P),B!==null&&(e&&B.alternate!==null&&R.delete(B.key===null?T:B.key),_=a(B,_,T),M===null?k=B:M.sibling=B,M=B);return e&&R.forEach(function(K){return t(b,K)}),rt&&wi(b,T),k}function C(b,_,S,P){if(typeof S=="object"&&S!==null&&S.type===Co&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case su:e:{for(var k=S.key,M=_;M!==null;){if(M.key===k){if(k=S.type,k===Co){if(M.tag===7){n(b,M.sibling),_=o(M,S.props.children),_.return=b,b=_;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===js&&Dy(k)===M.type){n(b,M.sibling),_=o(M,S.props),_.ref=cl(b,M,S),_.return=b,b=_;break e}n(b,M);break}else t(b,M);M=M.sibling}S.type===Co?(_=Di(S.props.children,b.mode,P,S.key),_.return=b,b=_):(P=Wu(S.type,S.key,S.props,null,b.mode,P),P.ref=cl(b,_,S),P.return=b,b=P)}return c(b);case No:e:{for(M=S.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(b,_.sibling),_=o(_,S.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else t(b,_);_=_.sibling}_=zf(S,b.mode,P),_.return=b,b=_}return c(b);case js:return M=S._init,C(b,_,M(S._payload),P)}if(gl(S))return j(b,_,S,P);if(sl(S))return w(b,_,S,P);pu(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(b,_.sibling),_=o(_,S),_.return=b,b=_):(n(b,_),_=Of(S,b.mode,P),_.return=b,b=_),c(b)):n(b,_)}return C}var fa=qb(!0),Zb=qb(!1),md=ai(null),pd=null,Lo=null,mg=null;function pg(){mg=Lo=pd=null}function gg(e){var t=md.current;nt(md),e._currentValue=t}function Im(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){pd=e,mg=Lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(mg!==e)if(e={context:e,memoizedValue:t,next:null},Lo===null){if(pd===null)throw Error(ne(308));Lo=e,pd.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var ji=null;function vg(e){ji===null?ji=[e]:ji.push(e)}function Kb(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,vg(t)):(n.next=o.next,o.next=n),t.interleaved=n,rs(e,s)}function rs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ns=!1;function xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Fe&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,rs(e,n)}return o=s.interleaved,o===null?(t.next=t,vg(s)):(t.next=o.next,o.next=t),s.interleaved=t,rs(e,n)}function Fu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,rg(e,n)}}function Oy(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gd(e,t,n,s){var o=e.updateQueue;Ns=!1;var a=o.firstBaseUpdate,c=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var d=u,f=d.next;d.next=null,c===null?a=f:c.next=f,c=d;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==c&&(u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=d))}if(a!==null){var m=o.baseState;c=0,g=f=d=null,u=a;do{var v=u.lane,y=u.eventTime;if((s&v)===v){g!==null&&(g=g.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var j=e,w=u;switch(v=t,y=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){m=j.call(y,m,v);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,v=typeof j=="function"?j.call(y,m,v):j,v==null)break e;m=ut({},m,v);break e;case 2:Ns=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,v=o.effects,v===null?o.effects=[u]:v.push(u))}else y={eventTime:y,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(f=g=y,d=m):g=g.next=y,c|=v;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;v=u,u=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(g===null&&(d=m),o.baseState=d,o.firstBaseUpdate=f,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do c|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Ui|=c,e.lanes=c,e.memoizedState=m}}function zy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(ne(191,o));o.call(s)}}}var pc={},Er=ai(pc),Wl=ai(pc),ql=ai(pc);function Ni(e){if(e===pc)throw Error(ne(174));return e}function yg(e,t){switch(Ye(ql,t),Ye(Wl,e),Ye(Er,pc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pm(t,e)}nt(Er),Ye(Er,t)}function ma(){nt(Er),nt(Wl),nt(ql)}function Qb(e){Ni(ql.current);var t=Ni(Er.current),n=pm(t,e.type);t!==n&&(Ye(Wl,e),Ye(Er,n))}function wg(e){Wl.current===e&&(nt(Er),nt(Wl))}var at=ai(0);function vd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mf=[];function bg(){for(var e=0;e<Mf.length;e++)Mf[e]._workInProgressVersionPrimary=null;Mf.length=0}var $u=us.ReactCurrentDispatcher,Rf=us.ReactCurrentBatchConfig,Bi=0,lt=null,_t=null,Pt=null,xd=!1,kl=!1,Zl=0,fT=0;function Ft(){throw Error(ne(321))}function _g(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function jg(e,t,n,s,o,a){if(Bi=a,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$u.current=e===null||e.memoizedState===null?vT:xT,e=n(s,o),kl){a=0;do{if(kl=!1,Zl=0,25<=a)throw Error(ne(301));a+=1,Pt=_t=null,t.updateQueue=null,$u.current=yT,e=n(s,o)}while(kl)}if($u.current=yd,t=_t!==null&&_t.next!==null,Bi=0,Pt=_t=lt=null,xd=!1,t)throw Error(ne(300));return e}function Ng(){var e=Zl!==0;return Zl=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?lt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Vn(){if(_t===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Pt===null?lt.memoizedState:Pt.next;if(t!==null)Pt=t,_t=e;else{if(e===null)throw Error(ne(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Pt===null?lt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Kl(e,t){return typeof t=="function"?t(e):t}function Lf(e){var t=Vn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var s=_t,o=s.baseQueue,a=n.pending;if(a!==null){if(o!==null){var c=o.next;o.next=a.next,a.next=c}s.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,s=s.baseState;var u=c=null,d=null,f=a;do{var g=f.lane;if((Bi&g)===g)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),s=f.hasEagerState?f.eagerState:e(s,f.action);else{var m={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,c=s):d=d.next=m,lt.lanes|=g,Ui|=g}f=f.next}while(f!==null&&f!==a);d===null?c=s:d.next=u,sr(s,t.memoizedState)||(dn=!0),t.memoizedState=s,t.baseState=c,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do a=o.lane,lt.lanes|=a,Ui|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Af(e){var t=Vn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var c=o=o.next;do a=e(a,c.action),c=c.next;while(c!==o);sr(a,t.memoizedState)||(dn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Yb(){}function Xb(e,t){var n=lt,s=Vn(),o=t(),a=!sr(s.memoizedState,o);if(a&&(s.memoizedState=o,dn=!0),s=s.queue,Cg(t_.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Gl(9,e_.bind(null,n,s,o,t),void 0,null),kt===null)throw Error(ne(349));Bi&30||Jb(n,t,o)}return o}function Jb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function e_(e,t,n,s){t.value=n,t.getSnapshot=s,n_(t)&&r_(e)}function t_(e,t,n){return n(function(){n_(t)&&r_(e)})}function n_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch{return!0}}function r_(e){var t=rs(e,1);t!==null&&rr(t,e,1,-1)}function Fy(e){var t=vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:e},t.queue=e,e=e.dispatch=gT.bind(null,lt,e),[t.memoizedState,e]}function Gl(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function s_(){return Vn().memoizedState}function Bu(e,t,n,s){var o=vr();lt.flags|=e,o.memoizedState=Gl(1|t,n,void 0,s===void 0?null:s)}function qd(e,t,n,s){var o=Vn();s=s===void 0?null:s;var a=void 0;if(_t!==null){var c=_t.memoizedState;if(a=c.destroy,s!==null&&_g(s,c.deps)){o.memoizedState=Gl(t,n,a,s);return}}lt.flags|=e,o.memoizedState=Gl(1|t,n,a,s)}function $y(e,t){return Bu(8390656,8,e,t)}function Cg(e,t){return qd(2048,8,e,t)}function i_(e,t){return qd(4,2,e,t)}function o_(e,t){return qd(4,4,e,t)}function a_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l_(e,t,n){return n=n!=null?n.concat([e]):null,qd(4,4,a_.bind(null,t,e),n)}function Sg(){}function c_(e,t){var n=Vn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&_g(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function u_(e,t){var n=Vn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&_g(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function d_(e,t,n){return Bi&21?(sr(n,t)||(n=gb(),lt.lanes|=n,Ui|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=n)}function mT(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var s=Rf.transition;Rf.transition={};try{e(!1),t()}finally{Ke=n,Rf.transition=s}}function h_(){return Vn().memoizedState}function pT(e,t,n){var s=Zs(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},f_(e))m_(t,n);else if(n=Kb(e,t,n,s),n!==null){var o=Jt();rr(n,e,s,o),p_(n,t,s)}}function gT(e,t,n){var s=Zs(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(f_(e))m_(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,u=a(c,n);if(o.hasEagerState=!0,o.eagerState=u,sr(u,c)){var d=t.interleaved;d===null?(o.next=o,vg(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=Kb(e,t,o,s),n!==null&&(o=Jt(),rr(n,e,s,o),p_(n,t,s))}}function f_(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function m_(e,t){kl=xd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function p_(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,rg(e,n)}}var yd={readContext:Un,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},vT={readContext:Un,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:$y,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bu(4194308,4,a_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bu(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=vr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=pT.bind(null,lt,e),[s.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:Fy,useDebugValue:Sg,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Fy(!1),t=e[0];return e=mT.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=lt,o=vr();if(rt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),kt===null)throw Error(ne(349));Bi&30||Jb(s,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,$y(t_.bind(null,s,a,e),[e]),s.flags|=2048,Gl(9,e_.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=vr(),t=kt.identifierPrefix;if(rt){var n=Yr,s=Qr;n=(s&~(1<<32-nr(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xT={readContext:Un,useCallback:c_,useContext:Un,useEffect:Cg,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:o_,useMemo:u_,useReducer:Lf,useRef:s_,useState:function(){return Lf(Kl)},useDebugValue:Sg,useDeferredValue:function(e){var t=Vn();return d_(t,_t.memoizedState,e)},useTransition:function(){var e=Lf(Kl)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:Yb,useSyncExternalStore:Xb,useId:h_,unstable_isNewReconciler:!1},yT={readContext:Un,useCallback:c_,useContext:Un,useEffect:Cg,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:o_,useMemo:u_,useReducer:Af,useRef:s_,useState:function(){return Af(Kl)},useDebugValue:Sg,useDeferredValue:function(e){var t=Vn();return _t===null?t.memoizedState=e:d_(t,_t.memoizedState,e)},useTransition:function(){var e=Af(Kl)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:Yb,useSyncExternalStore:Xb,useId:h_,unstable_isNewReconciler:!1};function Yn(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dm(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zd={isMounted:function(e){return(e=e._reactInternals)?so(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Jt(),o=Zs(e),a=Xr(s,o);a.payload=t,n!=null&&(a.callback=n),t=Ws(e,a,o),t!==null&&(rr(t,e,o,s),Fu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Jt(),o=Zs(e),a=Xr(s,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ws(e,a,o),t!==null&&(rr(t,e,o,s),Fu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jt(),s=Zs(e),o=Xr(n,s);o.tag=2,t!=null&&(o.callback=t),t=Ws(e,o,s),t!==null&&(rr(t,e,s,n),Fu(t,e,s))}};function By(e,t,n,s,o,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,c):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,s)||!Bl(o,a):!0}function g_(e,t,n){var s=!1,o=Js,a=t.contextType;return typeof a=="object"&&a!==null?a=Un(a):(o=mn(t)?Fi:Ht.current,s=t.contextTypes,a=(s=s!=null)?da(e,o):Js),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Uy(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Zd.enqueueReplaceState(t,t.state,null)}function Om(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},xg(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Un(a):(a=mn(t)?Fi:Ht.current,o.context=da(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Dm(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Zd.enqueueReplaceState(o,o.state,null),gd(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function pa(e,t){try{var n="",s=t;do n+=Zk(s),s=s.return;while(s);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function If(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wT=typeof WeakMap=="function"?WeakMap:Map;function v_(e,t,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){bd||(bd=!0,Km=s),zm(e,t)},n}function x_(e,t,n){n=Xr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){zm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zm(e,t),typeof s!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function Vy(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new wT;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=AT.bind(null,e,t,n),t.then(e,e))}function Hy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wy(e,t,n,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xr(-1,1),t.tag=2,Ws(n,t,1))),n.lanes|=1),e)}var bT=us.ReactCurrentOwner,dn=!1;function Yt(e,t,n,s){t.child=e===null?Zb(t,null,n,s):fa(t,e.child,n,s)}function qy(e,t,n,s,o){n=n.render;var a=t.ref;return Vo(t,o),s=jg(e,t,n,s,a,o),n=Ng(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ss(e,t,o)):(rt&&n&&dg(t),t.flags|=1,Yt(e,t,s,o),t.child)}function Zy(e,t,n,s,o){if(e===null){var a=n.type;return typeof a=="function"&&!Ag(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,y_(e,t,a,s,o)):(e=Wu(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(c,s)&&e.ref===t.ref)return ss(e,t,o)}return t.flags|=1,e=Ks(a,s),e.ref=t.ref,e.return=t,t.child=e}function y_(e,t,n,s,o){if(e!==null){var a=e.memoizedProps;if(Bl(a,s)&&e.ref===t.ref)if(dn=!1,t.pendingProps=s=a,(e.lanes&o)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,ss(e,t,o)}return Fm(e,t,n,s,o)}function w_(e,t,n){var s=t.pendingProps,o=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Io,bn),bn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(Io,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Ye(Io,bn),bn|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Ye(Io,bn),bn|=s;return Yt(e,t,o,n),t.child}function b_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fm(e,t,n,s,o){var a=mn(n)?Fi:Ht.current;return a=da(t,a),Vo(t,o),n=jg(e,t,n,s,a,o),s=Ng(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ss(e,t,o)):(rt&&s&&dg(t),t.flags|=1,Yt(e,t,n,o),t.child)}function Ky(e,t,n,s,o){if(mn(n)){var a=!0;dd(t)}else a=!1;if(Vo(t,o),t.stateNode===null)Uu(e,t),g_(t,n,s),Om(t,n,s,o),s=!0;else if(e===null){var c=t.stateNode,u=t.memoizedProps;c.props=u;var d=c.context,f=n.contextType;typeof f=="object"&&f!==null?f=Un(f):(f=mn(n)?Fi:Ht.current,f=da(t,f));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";m||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==s||d!==f)&&Uy(t,c,s,f),Ns=!1;var v=t.memoizedState;c.state=v,gd(t,s,c,o),d=t.memoizedState,u!==s||v!==d||fn.current||Ns?(typeof g=="function"&&(Dm(t,n,g,s),d=t.memoizedState),(u=Ns||By(t,n,u,s,v,d,f))?(m||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),c.props=s,c.state=d,c.context=f,s=u):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,Gb(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Yn(t.type,u),c.props=f,m=t.pendingProps,v=c.context,d=n.contextType,typeof d=="object"&&d!==null?d=Un(d):(d=mn(n)?Fi:Ht.current,d=da(t,d));var y=n.getDerivedStateFromProps;(g=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==m||v!==d)&&Uy(t,c,s,d),Ns=!1,v=t.memoizedState,c.state=v,gd(t,s,c,o);var j=t.memoizedState;u!==m||v!==j||fn.current||Ns?(typeof y=="function"&&(Dm(t,n,y,s),j=t.memoizedState),(f=Ns||By(t,n,f,s,v,j,d)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,j,d),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,j,d)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),c.props=s,c.state=j,c.context=d,s=f):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),s=!1)}return $m(e,t,n,s,a,o)}function $m(e,t,n,s,o,a){b_(e,t);var c=(t.flags&128)!==0;if(!s&&!c)return o&&Ly(t,n,!1),ss(e,t,a);s=t.stateNode,bT.current=t;var u=c&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&c?(t.child=fa(t,e.child,null,a),t.child=fa(t,null,u,a)):Yt(e,t,u,a),t.memoizedState=s.state,o&&Ly(t,n,!0),t.child}function __(e){var t=e.stateNode;t.pendingContext?Ry(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ry(e,t.context,!1),yg(e,t.containerInfo)}function Gy(e,t,n,s,o){return ha(),fg(o),t.flags|=256,Yt(e,t,n,s),t.child}var Bm={dehydrated:null,treeContext:null,retryLane:0};function Um(e){return{baseLanes:e,cachePool:null,transitions:null}}function j_(e,t,n){var s=t.pendingProps,o=at.current,a=!1,c=(t.flags&128)!==0,u;if((u=c)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ye(at,o&1),e===null)return Am(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=s.children,e=s.fallback,a?(s=t.mode,a=t.child,c={mode:"hidden",children:c},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=Qd(c,s,0,null),e=Di(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Um(n),t.memoizedState=Bm,e):Pg(t,c));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return _T(e,t,c,s,u,o,n);if(a){a=s.fallback,c=t.mode,o=e.child,u=o.sibling;var d={mode:"hidden",children:s.children};return!(c&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Ks(o,d),s.subtreeFlags=o.subtreeFlags&14680064),u!==null?a=Ks(u,a):(a=Di(a,c,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,c=e.child.memoizedState,c=c===null?Um(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Bm,s}return a=e.child,e=a.sibling,s=Ks(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Pg(e,t){return t=Qd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gu(e,t,n,s){return s!==null&&fg(s),fa(t,e.child,null,n),e=Pg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _T(e,t,n,s,o,a,c){if(n)return t.flags&256?(t.flags&=-257,s=If(Error(ne(422))),gu(e,t,c,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,o=t.mode,s=Qd({mode:"visible",children:s.children},o,0,null),a=Di(a,o,c,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&fa(t,e.child,null,c),t.child.memoizedState=Um(c),t.memoizedState=Bm,a);if(!(t.mode&1))return gu(e,t,c,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;return s=u,a=Error(ne(419)),s=If(a,s,void 0),gu(e,t,c,s)}if(u=(c&e.childLanes)!==0,dn||u){if(s=kt,s!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|c)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,rs(e,o),rr(s,e,o,-1))}return Lg(),s=If(Error(ne(421))),gu(e,t,c,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=IT.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,jn=Hs(o.nextSibling),Nn=t,rt=!0,er=null,e!==null&&(In[Dn++]=Qr,In[Dn++]=Yr,In[Dn++]=$i,Qr=e.id,Yr=e.overflow,$i=t),t=Pg(t,s.children),t.flags|=4096,t)}function Qy(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Im(e.return,t,n)}function Df(e,t,n,s,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=o)}function N_(e,t,n){var s=t.pendingProps,o=s.revealOrder,a=s.tail;if(Yt(e,t,s.children,n),s=at.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qy(e,n,t);else if(e.tag===19)Qy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ye(at,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&vd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Df(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Df(t,!0,n,null,a);break;case"together":Df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ss(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ui|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Ks(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ks(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jT(e,t,n){switch(t.tag){case 3:__(t),ha();break;case 5:Qb(t);break;case 1:mn(t.type)&&dd(t);break;case 4:yg(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Ye(md,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ye(at,at.current&1),t.flags|=128,null):n&t.child.childLanes?j_(e,t,n):(Ye(at,at.current&1),e=ss(e,t,n),e!==null?e.sibling:null);Ye(at,at.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return N_(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ye(at,at.current),s)break;return null;case 22:case 23:return t.lanes=0,w_(e,t,n)}return ss(e,t,n)}var C_,Vm,S_,P_;C_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vm=function(){};S_=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,Ni(Er.current);var a=null;switch(n){case"input":o=dm(e,o),s=dm(e,s),a=[];break;case"select":o=ut({},o,{value:void 0}),s=ut({},s,{value:void 0}),a=[];break;case"textarea":o=mm(e,o),s=mm(e,s),a=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=cd)}gm(n,s);var c;n=null;for(f in o)if(!s.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var u=o[f];for(c in u)u.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Al.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in s){var d=s[f];if(u=o!=null?o[f]:void 0,s.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(c in u)!u.hasOwnProperty(c)||d&&d.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in d)d.hasOwnProperty(c)&&u[c]!==d[c]&&(n||(n={}),n[c]=d[c])}else n||(a||(a=[]),a.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(a=a||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Al.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&tt("scroll",e),a||u===d||(a=[])):(a=a||[]).push(f,d))}n&&(a=a||[]).push("style",n);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};P_=function(e,t,n,s){n!==s&&(t.flags|=4)};function ul(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function NT(e,t,n){var s=t.pendingProps;switch(hg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return mn(t.type)&&ud(),$t(t),null;case 3:return s=t.stateNode,ma(),nt(fn),nt(Ht),bg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(mu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,er!==null&&(Ym(er),er=null))),Vm(e,t),$t(t),null;case 5:wg(t);var o=Ni(ql.current);if(n=t.type,e!==null&&t.stateNode!=null)S_(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ne(166));return $t(t),null}if(e=Ni(Er.current),mu(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[jr]=t,s[Hl]=a,e=(t.mode&1)!==0,n){case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":case"embed":tt("load",s);break;case"video":case"audio":for(o=0;o<xl.length;o++)tt(xl[o],s);break;case"source":tt("error",s);break;case"img":case"image":case"link":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"input":iy(s,a),tt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},tt("invalid",s);break;case"textarea":ay(s,a),tt("invalid",s)}gm(n,a),o=null;for(var c in a)if(a.hasOwnProperty(c)){var u=a[c];c==="children"?typeof u=="string"?s.textContent!==u&&(a.suppressHydrationWarning!==!0&&fu(s.textContent,u,e),o=["children",u]):typeof u=="number"&&s.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&fu(s.textContent,u,e),o=["children",""+u]):Al.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&tt("scroll",s)}switch(n){case"input":iu(s),oy(s,a,!0);break;case"textarea":iu(s),ly(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=cd)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=c.createElement(n,{is:s.is}):(e=c.createElement(n),n==="select"&&(c=e,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):e=c.createElementNS(e,n),e[jr]=t,e[Hl]=s,C_(e,t,!1,!1),t.stateNode=e;e:{switch(c=vm(n,s),n){case"dialog":tt("cancel",e),tt("close",e),o=s;break;case"iframe":case"object":case"embed":tt("load",e),o=s;break;case"video":case"audio":for(o=0;o<xl.length;o++)tt(xl[o],e);o=s;break;case"source":tt("error",e),o=s;break;case"img":case"image":case"link":tt("error",e),tt("load",e),o=s;break;case"details":tt("toggle",e),o=s;break;case"input":iy(e,s),o=dm(e,s),tt("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=ut({},s,{value:void 0}),tt("invalid",e);break;case"textarea":ay(e,s),o=mm(e,s),tt("invalid",e);break;default:o=s}gm(n,o),u=o;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];a==="style"?sb(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&nb(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Il(e,d):typeof d=="number"&&Il(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Al.hasOwnProperty(a)?d!=null&&a==="onScroll"&&tt("scroll",e):d!=null&&Yp(e,a,d,c))}switch(n){case"input":iu(e),oy(e,s,!1);break;case"textarea":iu(e),ly(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Xs(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Fo(e,!!s.multiple,a,!1):s.defaultValue!=null&&Fo(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=cd)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)P_(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ne(166));if(n=Ni(ql.current),Ni(Er.current),mu(t)){if(s=t.stateNode,n=t.memoizedProps,s[jr]=t,(a=s.nodeValue!==n)&&(e=Nn,e!==null))switch(e.tag){case 3:fu(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[jr]=t,t.stateNode=s}return $t(t),null;case 13:if(nt(at),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&jn!==null&&t.mode&1&&!(t.flags&128))Wb(),ha(),t.flags|=98560,a=!1;else if(a=mu(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[jr]=t}else ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),a=!1}else er!==null&&(Ym(er),er=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?Nt===0&&(Nt=3):Lg())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return ma(),Vm(e,t),e===null&&Ul(t.stateNode.containerInfo),$t(t),null;case 10:return gg(t.type._context),$t(t),null;case 17:return mn(t.type)&&ud(),$t(t),null;case 19:if(nt(at),a=t.memoizedState,a===null)return $t(t),null;if(s=(t.flags&128)!==0,c=a.rendering,c===null)if(s)ul(a,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=vd(e),c!==null){for(t.flags|=128,ul(a,!1),s=c.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ye(at,at.current&1|2),t.child}e=e.sibling}a.tail!==null&&gt()>ga&&(t.flags|=128,s=!0,ul(a,!1),t.lanes=4194304)}else{if(!s)if(e=vd(c),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ul(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!rt)return $t(t),null}else 2*gt()-a.renderingStartTime>ga&&n!==1073741824&&(t.flags|=128,s=!0,ul(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=gt(),t.sibling=null,n=at.current,Ye(at,s?n&1|2:n&1),t):($t(t),null);case 22:case 23:return Rg(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?bn&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function CT(e,t){switch(hg(t),t.tag){case 1:return mn(t.type)&&ud(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(),nt(fn),nt(Ht),bg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wg(t),null;case 13:if(nt(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(at),null;case 4:return ma(),null;case 10:return gg(t.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var vu=!1,Vt=!1,ST=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ft(e,t,s)}else n.current=null}function Hm(e,t,n){try{n()}catch(s){ft(e,t,s)}}var Yy=!1;function PT(e,t){if(Pm=od,e=Rb(),ug(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,u=-1,d=-1,f=0,g=0,m=e,v=null;t:for(;;){for(var y;m!==n||o!==0&&m.nodeType!==3||(u=c+o),m!==a||s!==0&&m.nodeType!==3||(d=c+s),m.nodeType===3&&(c+=m.nodeValue.length),(y=m.firstChild)!==null;)v=m,m=y;for(;;){if(m===e)break t;if(v===n&&++f===o&&(u=c),v===a&&++g===s&&(d=c),(y=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=y}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:e,selectionRange:n},od=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,C=j.memoizedState,b=t.stateNode,_=b.getSnapshotBeforeUpdate(t.elementType===t.type?w:Yn(t.type,w),C);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(P){ft(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return j=Yy,Yy=!1,j}function El(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Hm(t,n,a)}o=o.next}while(o!==s)}}function Kd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Wm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function k_(e){var t=e.alternate;t!==null&&(e.alternate=null,k_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[Hl],delete t[Mm],delete t[cT],delete t[uT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E_(e){return e.tag===5||e.tag===3||e.tag===4}function Xy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qm(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cd));else if(s!==4&&(e=e.child,e!==null))for(qm(e,t,n),e=e.sibling;e!==null;)qm(e,t,n),e=e.sibling}function Zm(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Zm(e,t,n),e=e.sibling;e!==null;)Zm(e,t,n),e=e.sibling}var Tt=null,Jn=!1;function vs(e,t,n){for(n=n.child;n!==null;)T_(e,t,n),n=n.sibling}function T_(e,t,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:Vt||Ao(n,t);case 6:var s=Tt,o=Jn;Tt=null,vs(e,t,n),Tt=s,Jn=o,Tt!==null&&(Jn?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Jn?(e=Tt,n=n.stateNode,e.nodeType===8?Ef(e.parentNode,n):e.nodeType===1&&Ef(e,n),Fl(e)):Ef(Tt,n.stateNode));break;case 4:s=Tt,o=Jn,Tt=n.stateNode.containerInfo,Jn=!0,vs(e,t,n),Tt=s,Jn=o;break;case 0:case 11:case 14:case 15:if(!Vt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var a=o,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Hm(n,t,c),o=o.next}while(o!==s)}vs(e,t,n);break;case 1:if(!Vt&&(Ao(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(u){ft(n,t,u)}vs(e,t,n);break;case 21:vs(e,t,n);break;case 22:n.mode&1?(Vt=(s=Vt)||n.memoizedState!==null,vs(e,t,n),Vt=s):vs(e,t,n);break;default:vs(e,t,n)}}function Jy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ST),t.forEach(function(s){var o=DT.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var a=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 5:Tt=u.stateNode,Jn=!1;break e;case 3:Tt=u.stateNode.containerInfo,Jn=!0;break e;case 4:Tt=u.stateNode.containerInfo,Jn=!0;break e}u=u.return}if(Tt===null)throw Error(ne(160));T_(a,c,o),Tt=null,Jn=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(f){ft(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M_(t,e),t=t.sibling}function M_(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),pr(e),s&4){try{El(3,e,e.return),Kd(3,e)}catch(w){ft(e,e.return,w)}try{El(5,e,e.return)}catch(w){ft(e,e.return,w)}}break;case 1:Gn(t,e),pr(e),s&512&&n!==null&&Ao(n,n.return);break;case 5:if(Gn(t,e),pr(e),s&512&&n!==null&&Ao(n,n.return),e.flags&32){var o=e.stateNode;try{Il(o,"")}catch(w){ft(e,e.return,w)}}if(s&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&Jw(o,a),vm(u,c);var f=vm(u,a);for(c=0;c<d.length;c+=2){var g=d[c],m=d[c+1];g==="style"?sb(o,m):g==="dangerouslySetInnerHTML"?nb(o,m):g==="children"?Il(o,m):Yp(o,g,m,f)}switch(u){case"input":hm(o,a);break;case"textarea":eb(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Fo(o,!!a.multiple,y,!1):v!==!!a.multiple&&(a.defaultValue!=null?Fo(o,!!a.multiple,a.defaultValue,!0):Fo(o,!!a.multiple,a.multiple?[]:"",!1))}o[Hl]=a}catch(w){ft(e,e.return,w)}}break;case 6:if(Gn(t,e),pr(e),s&4){if(e.stateNode===null)throw Error(ne(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(w){ft(e,e.return,w)}}break;case 3:if(Gn(t,e),pr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(w){ft(e,e.return,w)}break;case 4:Gn(t,e),pr(e);break;case 13:Gn(t,e),pr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Tg=gt())),s&4&&Jy(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Vt=(f=Vt)||g,Gn(t,e),Vt=f):Gn(t,e),pr(e),s&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!g&&e.mode&1)for(me=e,g=e.child;g!==null;){for(m=me=g;me!==null;){switch(v=me,y=v.child,v.tag){case 0:case 11:case 14:case 15:El(4,v,v.return);break;case 1:Ao(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){s=v,n=v.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){ft(s,n,w)}}break;case 5:Ao(v,v.return);break;case 22:if(v.memoizedState!==null){t0(m);continue}}y!==null?(y.return=v,me=y):t0(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{o=m.stateNode,f?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=m.stateNode,d=m.memoizedProps.style,c=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=rb("display",c))}catch(w){ft(e,e.return,w)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(w){ft(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Gn(t,e),pr(e),s&4&&Jy(e);break;case 21:break;default:Gn(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(E_(n)){var s=n;break e}n=n.return}throw Error(ne(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(Il(o,""),s.flags&=-33);var a=Xy(e);Zm(e,a,o);break;case 3:case 4:var c=s.stateNode.containerInfo,u=Xy(e);qm(e,u,c);break;default:throw Error(ne(161))}}catch(d){ft(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kT(e,t,n){me=e,R_(e)}function R_(e,t,n){for(var s=(e.mode&1)!==0;me!==null;){var o=me,a=o.child;if(o.tag===22&&s){var c=o.memoizedState!==null||vu;if(!c){var u=o.alternate,d=u!==null&&u.memoizedState!==null||Vt;u=vu;var f=Vt;if(vu=c,(Vt=d)&&!f)for(me=o;me!==null;)c=me,d=c.child,c.tag===22&&c.memoizedState!==null?n0(o):d!==null?(d.return=c,me=d):n0(o);for(;a!==null;)me=a,R_(a),a=a.sibling;me=o,vu=u,Vt=f}e0(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,me=a):e0(e)}}function e0(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Kd(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Vt)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Yn(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zy(t,a,s);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zy(t,c,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&Fl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Vt||t.flags&512&&Wm(t)}catch(v){ft(t,t.return,v)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function t0(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function n0(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kd(4,t)}catch(d){ft(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(d){ft(t,o,d)}}var a=t.return;try{Wm(t)}catch(d){ft(t,a,d)}break;case 5:var c=t.return;try{Wm(t)}catch(d){ft(t,c,d)}}}catch(d){ft(t,t.return,d)}if(t===e){me=null;break}var u=t.sibling;if(u!==null){u.return=t.return,me=u;break}me=t.return}}var ET=Math.ceil,wd=us.ReactCurrentDispatcher,kg=us.ReactCurrentOwner,$n=us.ReactCurrentBatchConfig,Fe=0,kt=null,wt=null,Rt=0,bn=0,Io=ai(0),Nt=0,Ql=null,Ui=0,Gd=0,Eg=0,Tl=null,un=null,Tg=0,ga=1/0,qr=null,bd=!1,Km=null,qs=null,xu=!1,zs=null,_d=0,Ml=0,Gm=null,Vu=-1,Hu=0;function Jt(){return Fe&6?gt():Vu!==-1?Vu:Vu=gt()}function Zs(e){return e.mode&1?Fe&2&&Rt!==0?Rt&-Rt:hT.transition!==null?(Hu===0&&(Hu=gb()),Hu):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:jb(e.type)),e):1}function rr(e,t,n,s){if(50<Ml)throw Ml=0,Gm=null,Error(ne(185));hc(e,n,s),(!(Fe&2)||e!==kt)&&(e===kt&&(!(Fe&2)&&(Gd|=n),Nt===4&&Ps(e,Rt)),pn(e,s),n===1&&Fe===0&&!(t.mode&1)&&(ga=gt()+500,Wd&&li()))}function pn(e,t){var n=e.callbackNode;hE(e,t);var s=id(e,e===kt?Rt:0);if(s===0)n!==null&&dy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&dy(n),t===1)e.tag===0?dT(r0.bind(null,e)):Ub(r0.bind(null,e)),aT(function(){!(Fe&6)&&li()}),n=null;else{switch(vb(s)){case 1:n=ng;break;case 4:n=mb;break;case 16:n=sd;break;case 536870912:n=pb;break;default:n=sd}n=$_(n,L_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function L_(e,t){if(Vu=-1,Hu=0,Fe&6)throw Error(ne(327));var n=e.callbackNode;if(Ho()&&e.callbackNode!==n)return null;var s=id(e,e===kt?Rt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=jd(e,s);else{t=s;var o=Fe;Fe|=2;var a=I_();(kt!==e||Rt!==t)&&(qr=null,ga=gt()+500,Ii(e,t));do try{RT();break}catch(u){A_(e,u)}while(!0);pg(),wd.current=a,Fe=o,wt!==null?t=0:(kt=null,Rt=0,t=Nt)}if(t!==0){if(t===2&&(o=_m(e),o!==0&&(s=o,t=Qm(e,o))),t===1)throw n=Ql,Ii(e,0),Ps(e,s),pn(e,gt()),n;if(t===6)Ps(e,s);else{if(o=e.current.alternate,!(s&30)&&!TT(o)&&(t=jd(e,s),t===2&&(a=_m(e),a!==0&&(s=a,t=Qm(e,a))),t===1))throw n=Ql,Ii(e,0),Ps(e,s),pn(e,gt()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(ne(345));case 2:bi(e,un,qr);break;case 3:if(Ps(e,s),(s&130023424)===s&&(t=Tg+500-gt(),10<t)){if(id(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){Jt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Tm(bi.bind(null,e,un,qr),t);break}bi(e,un,qr);break;case 4:if(Ps(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var c=31-nr(s);a=1<<c,c=t[c],c>o&&(o=c),s&=~a}if(s=o,s=gt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ET(s/1960))-s,10<s){e.timeoutHandle=Tm(bi.bind(null,e,un,qr),s);break}bi(e,un,qr);break;case 5:bi(e,un,qr);break;default:throw Error(ne(329))}}}return pn(e,gt()),e.callbackNode===n?L_.bind(null,e):null}function Qm(e,t){var n=Tl;return e.current.memoizedState.isDehydrated&&(Ii(e,t).flags|=256),e=jd(e,t),e!==2&&(t=un,un=n,t!==null&&Ym(t)),e}function Ym(e){un===null?un=e:un.push.apply(un,e)}function TT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t){for(t&=~Eg,t&=~Gd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nr(t),s=1<<n;e[n]=-1,t&=~s}}function r0(e){if(Fe&6)throw Error(ne(327));Ho();var t=id(e,0);if(!(t&1))return pn(e,gt()),null;var n=jd(e,t);if(e.tag!==0&&n===2){var s=_m(e);s!==0&&(t=s,n=Qm(e,s))}if(n===1)throw n=Ql,Ii(e,0),Ps(e,t),pn(e,gt()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bi(e,un,qr),pn(e,gt()),null}function Mg(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(ga=gt()+500,Wd&&li())}}function Vi(e){zs!==null&&zs.tag===0&&!(Fe&6)&&Ho();var t=Fe;Fe|=1;var n=$n.transition,s=Ke;try{if($n.transition=null,Ke=1,e)return e()}finally{Ke=s,$n.transition=n,Fe=t,!(Fe&6)&&li()}}function Rg(){bn=Io.current,nt(Io)}function Ii(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oT(n)),wt!==null)for(n=wt.return;n!==null;){var s=n;switch(hg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ud();break;case 3:ma(),nt(fn),nt(Ht),bg();break;case 5:wg(s);break;case 4:ma();break;case 13:nt(at);break;case 19:nt(at);break;case 10:gg(s.type._context);break;case 22:case 23:Rg()}n=n.return}if(kt=e,wt=e=Ks(e.current,null),Rt=bn=t,Nt=0,Ql=null,Eg=Gd=Ui=0,un=Tl=null,ji!==null){for(t=0;t<ji.length;t++)if(n=ji[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,a=n.pending;if(a!==null){var c=a.next;a.next=o,s.next=c}n.pending=s}ji=null}return e}function A_(e,t){do{var n=wt;try{if(pg(),$u.current=yd,xd){for(var s=lt.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}xd=!1}if(Bi=0,Pt=_t=lt=null,kl=!1,Zl=0,kg.current=null,n===null||n.return===null){Nt=1,Ql=t,wt=null;break}e:{var a=e,c=n.return,u=n,d=t;if(t=Rt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var y=Hy(c);if(y!==null){y.flags&=-257,Wy(y,c,u,a,t),y.mode&1&&Vy(a,f,t),t=y,d=f;var j=t.updateQueue;if(j===null){var w=new Set;w.add(d),t.updateQueue=w}else j.add(d);break e}else{if(!(t&1)){Vy(a,f,t),Lg();break e}d=Error(ne(426))}}else if(rt&&u.mode&1){var C=Hy(c);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Wy(C,c,u,a,t),fg(pa(d,u));break e}}a=d=pa(d,u),Nt!==4&&(Nt=2),Tl===null?Tl=[a]:Tl.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=v_(a,d,t);Oy(a,b);break e;case 1:u=d;var _=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qs===null||!qs.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=x_(a,u,t);Oy(a,P);break e}}a=a.return}while(a!==null)}O_(n)}catch(k){t=k,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function I_(){var e=wd.current;return wd.current=yd,e===null?yd:e}function Lg(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),kt===null||!(Ui&268435455)&&!(Gd&268435455)||Ps(kt,Rt)}function jd(e,t){var n=Fe;Fe|=2;var s=I_();(kt!==e||Rt!==t)&&(qr=null,Ii(e,t));do try{MT();break}catch(o){A_(e,o)}while(!0);if(pg(),Fe=n,wd.current=s,wt!==null)throw Error(ne(261));return kt=null,Rt=0,Nt}function MT(){for(;wt!==null;)D_(wt)}function RT(){for(;wt!==null&&!rE();)D_(wt)}function D_(e){var t=F_(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?O_(e):wt=t,kg.current=null}function O_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CT(n,t),n!==null){n.flags&=32767,wt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,wt=null;return}}else if(n=NT(n,t,bn),n!==null){wt=n;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);Nt===0&&(Nt=5)}function bi(e,t,n){var s=Ke,o=$n.transition;try{$n.transition=null,Ke=1,LT(e,t,n,s)}finally{$n.transition=o,Ke=s}return null}function LT(e,t,n,s){do Ho();while(zs!==null);if(Fe&6)throw Error(ne(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(fE(e,a),e===kt&&(wt=kt=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,$_(sd,function(){return Ho(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$n.transition,$n.transition=null;var c=Ke;Ke=1;var u=Fe;Fe|=4,kg.current=null,PT(e,n),M_(n,e),JE(km),od=!!Pm,km=Pm=null,e.current=n,kT(n),sE(),Fe=u,Ke=c,$n.transition=a}else e.current=n;if(xu&&(xu=!1,zs=e,_d=o),a=e.pendingLanes,a===0&&(qs=null),aE(n.stateNode),pn(e,gt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(bd)throw bd=!1,e=Km,Km=null,e;return _d&1&&e.tag!==0&&Ho(),a=e.pendingLanes,a&1?e===Gm?Ml++:(Ml=0,Gm=e):Ml=0,li(),null}function Ho(){if(zs!==null){var e=vb(_d),t=$n.transition,n=Ke;try{if($n.transition=null,Ke=16>e?16:e,zs===null)var s=!1;else{if(e=zs,zs=null,_d=0,Fe&6)throw Error(ne(331));var o=Fe;for(Fe|=4,me=e.current;me!==null;){var a=me,c=a.child;if(me.flags&16){var u=a.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(me=f;me!==null;){var g=me;switch(g.tag){case 0:case 11:case 15:El(8,g,a)}var m=g.child;if(m!==null)m.return=g,me=m;else for(;me!==null;){g=me;var v=g.sibling,y=g.return;if(k_(g),g===f){me=null;break}if(v!==null){v.return=y,me=v;break}me=y}}}var j=a.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}me=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,me=c;else e:for(;me!==null;){if(a=me,a.flags&2048)switch(a.tag){case 0:case 11:case 15:El(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,me=b;break e}me=a.return}}var _=e.current;for(me=_;me!==null;){c=me;var S=c.child;if(c.subtreeFlags&2064&&S!==null)S.return=c,me=S;else e:for(c=_;me!==null;){if(u=me,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Kd(9,u)}}catch(k){ft(u,u.return,k)}if(u===c){me=null;break e}var P=u.sibling;if(P!==null){P.return=u.return,me=P;break e}me=u.return}}if(Fe=o,li(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot($d,e)}catch{}s=!0}return s}finally{Ke=n,$n.transition=t}}return!1}function s0(e,t,n){t=pa(n,t),t=v_(e,t,1),e=Ws(e,t,1),t=Jt(),e!==null&&(hc(e,1,t),pn(e,t))}function ft(e,t,n){if(e.tag===3)s0(e,e,n);else for(;t!==null;){if(t.tag===3){s0(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qs===null||!qs.has(s))){e=pa(n,e),e=x_(t,e,1),t=Ws(t,e,1),e=Jt(),t!==null&&(hc(t,1,e),pn(t,e));break}}t=t.return}}function AT(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(Rt&n)===n&&(Nt===4||Nt===3&&(Rt&130023424)===Rt&&500>gt()-Tg?Ii(e,0):Eg|=n),pn(e,t)}function z_(e,t){t===0&&(e.mode&1?(t=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):t=1);var n=Jt();e=rs(e,t),e!==null&&(hc(e,t,n),pn(e,n))}function IT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),z_(e,n)}function DT(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ne(314))}s!==null&&s.delete(t),z_(e,n)}var F_;F_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dn=!1,jT(e,t,n);dn=!!(e.flags&131072)}else dn=!1,rt&&t.flags&1048576&&Vb(t,fd,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Uu(e,t),e=t.pendingProps;var o=da(t,Ht.current);Vo(t,n),o=jg(null,t,s,e,o,n);var a=Ng();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(s)?(a=!0,dd(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,xg(t),o.updater=Zd,t.stateNode=o,o._reactInternals=t,Om(t,s,e,n),t=$m(null,t,s,!0,a,n)):(t.tag=0,rt&&a&&dg(t),Yt(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Uu(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=zT(s),e=Yn(s,e),o){case 0:t=Fm(null,t,s,e,n);break e;case 1:t=Ky(null,t,s,e,n);break e;case 11:t=qy(null,t,s,e,n);break e;case 14:t=Zy(null,t,s,Yn(s.type,e),n);break e}throw Error(ne(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yn(s,o),Fm(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yn(s,o),Ky(e,t,s,o,n);case 3:e:{if(__(t),e===null)throw Error(ne(387));s=t.pendingProps,a=t.memoizedState,o=a.element,Gb(e,t),gd(t,s,null,n);var c=t.memoizedState;if(s=c.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=pa(Error(ne(423)),t),t=Gy(e,t,s,n,o);break e}else if(s!==o){o=pa(Error(ne(424)),t),t=Gy(e,t,s,n,o);break e}else for(jn=Hs(t.stateNode.containerInfo.firstChild),Nn=t,rt=!0,er=null,n=Zb(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ha(),s===o){t=ss(e,t,n);break e}Yt(e,t,s,n)}t=t.child}return t;case 5:return Qb(t),e===null&&Am(t),s=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,c=o.children,Em(s,o)?c=null:a!==null&&Em(s,a)&&(t.flags|=32),b_(e,t),Yt(e,t,c,n),t.child;case 6:return e===null&&Am(t),null;case 13:return j_(e,t,n);case 4:return yg(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=fa(t,null,s,n):Yt(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yn(s,o),qy(e,t,s,o,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,a=t.memoizedProps,c=o.value,Ye(md,s._currentValue),s._currentValue=c,a!==null)if(sr(a.value,c)){if(a.children===o.children&&!fn.current){t=ss(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){c=a.child;for(var d=u.firstContext;d!==null;){if(d.context===s){if(a.tag===1){d=Xr(-1,n&-n),d.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?d.next=d:(d.next=g.next,g.next=d),f.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Im(a.return,n,t),u.lanes|=n;break}d=d.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(ne(341));c.lanes|=n,u=c.alternate,u!==null&&(u.lanes|=n),Im(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}Yt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Vo(t,n),o=Un(o),s=s(o),t.flags|=1,Yt(e,t,s,n),t.child;case 14:return s=t.type,o=Yn(s,t.pendingProps),o=Yn(s.type,o),Zy(e,t,s,o,n);case 15:return y_(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Yn(s,o),Uu(e,t),t.tag=1,mn(s)?(e=!0,dd(t)):e=!1,Vo(t,n),g_(t,s,o),Om(t,s,o,n),$m(null,t,s,!0,e,n);case 19:return N_(e,t,n);case 22:return w_(e,t,n)}throw Error(ne(156,t.tag))};function $_(e,t){return fb(e,t)}function OT(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,s){return new OT(e,t,n,s)}function Ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zT(e){if(typeof e=="function")return Ag(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jp)return 11;if(e===eg)return 14}return 2}function Ks(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,s,o,a){var c=2;if(s=e,typeof e=="function")Ag(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Co:return Di(n.children,o,a,t);case Xp:c=8,o|=8;break;case am:return e=On(12,n,t,o|2),e.elementType=am,e.lanes=a,e;case lm:return e=On(13,n,t,o),e.elementType=lm,e.lanes=a,e;case cm:return e=On(19,n,t,o),e.elementType=cm,e.lanes=a,e;case Qw:return Qd(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kw:c=10;break e;case Gw:c=9;break e;case Jp:c=11;break e;case eg:c=14;break e;case js:c=16,s=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=On(c,n,t,o),t.elementType=e,t.type=s,t.lanes=a,t}function Di(e,t,n,s){return e=On(7,e,s,t),e.lanes=n,e}function Qd(e,t,n,s){return e=On(22,e,s,t),e.elementType=Qw,e.lanes=n,e.stateNode={isHidden:!1},e}function Of(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function zf(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FT(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ig(e,t,n,s,o,a,c,u,d){return e=new FT(e,t,n,u,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=On(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(a),e}function $T(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function B_(e){if(!e)return Js;e=e._reactInternals;e:{if(so(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(mn(n))return Bb(e,n,t)}return t}function U_(e,t,n,s,o,a,c,u,d){return e=Ig(n,s,!0,e,o,a,c,u,d),e.context=B_(null),n=e.current,s=Jt(),o=Zs(n),a=Xr(s,o),a.callback=t??null,Ws(n,a,o),e.current.lanes=o,hc(e,o,s),pn(e,s),e}function Yd(e,t,n,s){var o=t.current,a=Jt(),c=Zs(o);return n=B_(n),t.context===null?t.context=n:t.pendingContext=n,t=Xr(a,c),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ws(o,t,c),e!==null&&(rr(e,o,c,a),Fu(e,o,c)),c}function Nd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function i0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dg(e,t){i0(e,t),(e=e.alternate)&&i0(e,t)}function BT(){return null}var V_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Og(e){this._internalRoot=e}Xd.prototype.render=Og.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Yd(e,t,null,null)};Xd.prototype.unmount=Og.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vi(function(){Yd(null,e,null,null)}),t[ns]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=wb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ss.length&&t!==0&&t<Ss[n].priority;n++);Ss.splice(n,0,e),n===0&&_b(e)}};function zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function o0(){}function UT(e,t,n,s,o){if(o){if(typeof s=="function"){var a=s;s=function(){var f=Nd(c);a.call(f)}}var c=U_(t,s,e,0,null,!1,!1,"",o0);return e._reactRootContainer=c,e[ns]=c.current,Ul(e.nodeType===8?e.parentNode:e),Vi(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var u=s;s=function(){var f=Nd(d);u.call(f)}}var d=Ig(e,0,!1,null,null,!1,!1,"",o0);return e._reactRootContainer=d,e[ns]=d.current,Ul(e.nodeType===8?e.parentNode:e),Vi(function(){Yd(t,d,n,s)}),d}function eh(e,t,n,s,o){var a=n._reactRootContainer;if(a){var c=a;if(typeof o=="function"){var u=o;o=function(){var d=Nd(c);u.call(d)}}Yd(t,c,e,o)}else c=UT(n,t,e,o,s);return Nd(c)}xb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vl(t.pendingLanes);n!==0&&(rg(t,n|1),pn(t,gt()),!(Fe&6)&&(ga=gt()+500,li()))}break;case 13:Vi(function(){var s=rs(e,1);if(s!==null){var o=Jt();rr(s,e,1,o)}}),Dg(e,1)}};sg=function(e){if(e.tag===13){var t=rs(e,134217728);if(t!==null){var n=Jt();rr(t,e,134217728,n)}Dg(e,134217728)}};yb=function(e){if(e.tag===13){var t=Zs(e),n=rs(e,t);if(n!==null){var s=Jt();rr(n,e,t,s)}Dg(e,t)}};wb=function(){return Ke};bb=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};ym=function(e,t,n){switch(t){case"input":if(hm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=Hd(s);if(!o)throw Error(ne(90));Xw(s),hm(s,o)}}}break;case"textarea":eb(e,n);break;case"select":t=n.value,t!=null&&Fo(e,!!n.multiple,t,!1)}};ab=Mg;lb=Vi;var VT={usingClientEntryPoint:!1,Events:[mc,Eo,Hd,ib,ob,Mg]},dl={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HT={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=db(e),e===null?null:e.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||BT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{$d=yu.inject(HT),kr=yu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VT;Pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(t))throw Error(ne(200));return $T(e,t,null,n)};Pn.createRoot=function(e,t){if(!zg(e))throw Error(ne(299));var n=!1,s="",o=V_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ig(e,1,!1,null,null,n,!1,s,o),e[ns]=t.current,Ul(e.nodeType===8?e.parentNode:e),new Og(t)};Pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=db(t),e=e===null?null:e.stateNode,e};Pn.flushSync=function(e){return Vi(e)};Pn.hydrate=function(e,t,n){if(!Jd(t))throw Error(ne(200));return eh(null,e,t,!0,n)};Pn.hydrateRoot=function(e,t,n){if(!zg(e))throw Error(ne(405));var s=n!=null&&n.hydratedSources||null,o=!1,a="",c=V_;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=U_(t,null,e,1,n??null,o,!1,a,c),e[ns]=t.current,Ul(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xd(t)};Pn.render=function(e,t,n){if(!Jd(t))throw Error(ne(200));return eh(null,e,t,!1,n)};Pn.unmountComponentAtNode=function(e){if(!Jd(e))throw Error(ne(40));return e._reactRootContainer?(Vi(function(){eh(null,null,e,!1,function(){e._reactRootContainer=null,e[ns]=null})}),!0):!1};Pn.unstable_batchedUpdates=Mg;Pn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Jd(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return eh(e,t,n,!1,s)};Pn.version="18.3.1-next-f1338f8080-20240426";function H_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H_)}catch(e){console.error(e)}}H_(),Hw.exports=Pn;var ci=Hw.exports;const W_=Vp(ci);var q_,a0=ci;q_=a0.createRoot,a0.hydrateRoot;const WT=1,qT=1e6;let Ff=0;function ZT(){return Ff=(Ff+1)%Number.MAX_SAFE_INTEGER,Ff.toString()}const $f=new Map,l0=e=>{if($f.has(e))return;const t=setTimeout(()=>{$f.delete(e),Rl({type:"REMOVE_TOAST",toastId:e})},qT);$f.set(e,t)},KT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,WT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?l0(n):e.toasts.forEach(s=>{l0(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},qu=[];let Zu={toasts:[]};function Rl(e){Zu=KT(Zu,e),qu.forEach(t=>{t(Zu)})}function GT({...e}){const t=ZT(),n=o=>Rl({type:"UPDATE_TOAST",toast:{...o,id:t}}),s=()=>Rl({type:"DISMISS_TOAST",toastId:t});return Rl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||s()}}}),{id:t,dismiss:s,update:n}}function Je(){const[e,t]=p.useState(Zu);return p.useEffect(()=>(qu.push(t),()=>{const n=qu.indexOf(t);n>-1&&qu.splice(n,1)}),[e]),{...e,toast:GT,dismiss:n=>Rl({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function c0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ca(...e){return t=>{let n=!1;const s=e.map(o=>{const a=c0(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():c0(e[o],null)}}}}function we(...e){return p.useCallback(Ca(...e),e)}function QT(e,t){const n=p.createContext(t),s=a=>{const{children:c,...u}=a,d=p.useMemo(()=>u,Object.values(u));return r.jsx(n.Provider,{value:d,children:c})};s.displayName=e+"Provider";function o(a){const c=p.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,o]}function At(e,t=[]){let n=[];function s(a,c){const u=p.createContext(c),d=n.length;n=[...n,c];const f=m=>{var b;const{scope:v,children:y,...j}=m,w=((b=v==null?void 0:v[e])==null?void 0:b[d])||u,C=p.useMemo(()=>j,Object.values(j));return r.jsx(w.Provider,{value:C,children:y})};f.displayName=a+"Provider";function g(m,v){var w;const y=((w=v==null?void 0:v[e])==null?void 0:w[d])||u,j=p.useContext(y);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,g]}const o=()=>{const a=n.map(c=>p.createContext(c));return function(u){const d=(u==null?void 0:u[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return o.scopeName=e,[s,YT(o,...t)]}function YT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=s.reduce((u,{useScope:d,scopeName:f})=>{const m=d(a)[`__scope${f}`];return{...u,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Hi(e){const t=JT(e),n=p.forwardRef((s,o)=>{const{children:a,...c}=s,u=p.Children.toArray(a),d=u.find(eM);if(d){const f=d.props.children,g=u.map(m=>m===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:m);return r.jsx(t,{...c,ref:o,children:p.isValidElement(f)?p.cloneElement(f,void 0,g):null})}return r.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var XT=Hi("Slot");function JT(e){const t=p.forwardRef((n,s)=>{const{children:o,...a}=n;if(p.isValidElement(o)){const c=nM(o),u=tM(a,o.props);return o.type!==p.Fragment&&(u.ref=s?Ca(s,c):c),p.cloneElement(o,u)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Z_=Symbol("radix.slottable");function K_(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Z_,t}function eM(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z_}function tM(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...u)=>{a(...u),o(...u)}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function nM(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function th(e){const t=e+"CollectionProvider",[n,s]=At(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:C,children:b}=w,_=Y.useRef(null),S=Y.useRef(new Map).current;return r.jsx(o,{scope:C,itemMap:S,collectionRef:_,children:b})};c.displayName=t;const u=e+"CollectionSlot",d=Hi(u),f=Y.forwardRef((w,C)=>{const{scope:b,children:_}=w,S=a(u,b),P=we(C,S.collectionRef);return r.jsx(d,{ref:P,children:_})});f.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",v=Hi(g),y=Y.forwardRef((w,C)=>{const{scope:b,children:_,...S}=w,P=Y.useRef(null),k=we(C,P),M=a(g,b);return Y.useEffect(()=>(M.itemMap.set(P,{ref:P,...S}),()=>void M.itemMap.delete(P))),r.jsx(v,{[m]:"",ref:k,children:_})});y.displayName=g;function j(w){const C=a(e+"CollectionConsumer",w);return Y.useCallback(()=>{const _=C.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((M,R)=>S.indexOf(M.ref.current)-S.indexOf(R.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:f,ItemSlot:y},j,s]}var rM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=rM.reduce((e,t)=>{const n=Hi(`Primitive.${t}`),s=p.forwardRef((o,a)=>{const{asChild:c,...u}=o,d=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...u,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Fg(e,t){e&&ci.flushSync(()=>e.dispatchEvent(t))}function st(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function sM(e,t=globalThis==null?void 0:globalThis.document){const n=st(e);p.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var iM="DismissableLayer",Xm="dismissableLayer.update",oM="dismissableLayer.pointerDownOutside",aM="dismissableLayer.focusOutside",u0,G_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sa=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...d}=e,f=p.useContext(G_),[g,m]=p.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),j=we(t,R=>m(R)),w=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(C),_=g?w.indexOf(g):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,P=_>=b,k=cM(R=>{const T=R.target,z=[...f.branches].some(B=>B.contains(T));!P||z||(o==null||o(R),c==null||c(R),R.defaultPrevented||u==null||u())},v),M=uM(R=>{const T=R.target;[...f.branches].some(B=>B.contains(T))||(a==null||a(R),c==null||c(R),R.defaultPrevented||u==null||u())},v);return sM(R=>{_===f.layers.size-1&&(s==null||s(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},v),p.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(u0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),d0(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=u0)}},[g,v,n,f]),p.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),d0())},[g,f]),p.useEffect(()=>{const R=()=>y({});return document.addEventListener(Xm,R),()=>document.removeEventListener(Xm,R)},[]),r.jsx(ve.div,{...d,ref:j,style:{pointerEvents:S?P?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,M.onFocusCapture),onBlurCapture:re(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,k.onPointerDownCapture)})});Sa.displayName=iM;var lM="DismissableLayerBranch",Q_=p.forwardRef((e,t)=>{const n=p.useContext(G_),s=p.useRef(null),o=we(t,s);return p.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(ve.div,{...e,ref:o})});Q_.displayName=lM;function cM(e,t=globalThis==null?void 0:globalThis.document){const n=st(e),s=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let d=function(){Y_(oM,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function uM(e,t=globalThis==null?void 0:globalThis.document){const n=st(e),s=p.useRef(!1);return p.useEffect(()=>{const o=a=>{a.target&&!s.current&&Y_(aM,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function d0(){const e=new CustomEvent(Xm);document.dispatchEvent(e)}function Y_(e,t,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?Fg(o,a):o.dispatchEvent(a)}var dM=Sa,hM=Q_,dt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},fM="Portal",gc=p.forwardRef((e,t)=>{var u;const{container:n,...s}=e,[o,a]=p.useState(!1);dt(()=>a(!0),[]);const c=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?W_.createPortal(r.jsx(ve.div,{...s,ref:t}),c):null});gc.displayName=fM;function mM(e,t){return p.useReducer((n,s)=>t[n][s]??n,e)}var Hn=e=>{const{present:t,children:n}=e,s=pM(t),o=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),a=we(s.ref,gM(o));return typeof n=="function"||s.isPresent?p.cloneElement(o,{ref:a}):null};Hn.displayName="Presence";function pM(e){const[t,n]=p.useState(),s=p.useRef({}),o=p.useRef(e),a=p.useRef("none"),c=e?"mounted":"unmounted",[u,d]=mM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=wu(s.current);a.current=u==="mounted"?f:"none"},[u]),dt(()=>{const f=s.current,g=o.current;if(g!==e){const v=a.current,y=wu(f);e?d("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(g&&v!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),dt(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,m=y=>{const w=wu(s.current).includes(y.animationName);if(y.target===t&&w&&(d("ANIMATION_END"),!o.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},v=y=>{y.target===t&&(a.current=wu(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(f=>{f&&(s.current=getComputedStyle(f)),n(f)},[])}}function wu(e){return(e==null?void 0:e.animationName)||"none"}function gM(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function is({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,o]=vM({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s,u=st(n),d=p.useCallback(f=>{if(a){const m=typeof f=="function"?f(e):f;m!==e&&u(m)}else o(f)},[a,e,o,u]);return[c,d]}function vM({defaultProp:e,onChange:t}){const n=p.useState(e),[s]=n,o=p.useRef(s),a=st(t);return p.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),n}var xM="VisuallyHidden",vc=p.forwardRef((e,t)=>r.jsx(ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));vc.displayName=xM;var yM=vc,$g="ToastProvider",[Bg,wM,bM]=th("Toast"),[X_,C$]=At("Toast",[bM]),[_M,nh]=X_($g),J_=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:c}=e,[u,d]=p.useState(null),[f,g]=p.useState(0),m=p.useRef(!1),v=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$g}\`. Expected non-empty \`string\`.`),r.jsx(Bg.Provider,{scope:t,children:r.jsx(_M,{scope:t,label:n,duration:s,swipeDirection:o,swipeThreshold:a,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:p.useCallback(()=>g(y=>y+1),[]),onToastRemove:p.useCallback(()=>g(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:v,children:c})})};J_.displayName=$g;var e1="ToastViewport",jM=["F8"],Jm="toast.viewportPause",ep="toast.viewportResume",t1=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=jM,label:o="Notifications ({hotkey})",...a}=e,c=nh(e1,n),u=wM(n),d=p.useRef(null),f=p.useRef(null),g=p.useRef(null),m=p.useRef(null),v=we(t,m,c.onViewportChange),y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;p.useEffect(()=>{const C=b=>{var S;s.length!==0&&s.every(P=>b[P]||b.code===P)&&((S=m.current)==null||S.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[s]),p.useEffect(()=>{const C=d.current,b=m.current;if(j&&C&&b){const _=()=>{if(!c.isClosePausedRef.current){const M=new CustomEvent(Jm);b.dispatchEvent(M),c.isClosePausedRef.current=!0}},S=()=>{if(c.isClosePausedRef.current){const M=new CustomEvent(ep);b.dispatchEvent(M),c.isClosePausedRef.current=!1}},P=M=>{!C.contains(M.relatedTarget)&&S()},k=()=>{C.contains(document.activeElement)||S()};return C.addEventListener("focusin",_),C.addEventListener("focusout",P),C.addEventListener("pointermove",_),C.addEventListener("pointerleave",k),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{C.removeEventListener("focusin",_),C.removeEventListener("focusout",P),C.removeEventListener("pointermove",_),C.removeEventListener("pointerleave",k),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[j,c.isClosePausedRef]);const w=p.useCallback(({tabbingDirection:C})=>{const _=u().map(S=>{const P=S.ref.current,k=[P,...DM(P)];return C==="forwards"?k:k.reverse()});return(C==="forwards"?_.reverse():_).flat()},[u]);return p.useEffect(()=>{const C=m.current;if(C){const b=_=>{var k,M,R;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const T=document.activeElement,z=_.shiftKey;if(_.target===C&&z){(k=f.current)==null||k.focus();return}const K=w({tabbingDirection:z?"backwards":"forwards"}),X=K.findIndex(G=>G===T);Bf(K.slice(X+1))?_.preventDefault():z?(M=f.current)==null||M.focus():(R=g.current)==null||R.focus()}};return C.addEventListener("keydown",b),()=>C.removeEventListener("keydown",b)}},[u,w]),r.jsxs(hM,{ref:d,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&r.jsx(tp,{ref:f,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"forwards"});Bf(C)}}),r.jsx(Bg.Slot,{scope:n,children:r.jsx(ve.ol,{tabIndex:-1,...a,ref:v})}),j&&r.jsx(tp,{ref:g,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"backwards"});Bf(C)}})]})});t1.displayName=e1;var n1="ToastFocusProxy",tp=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...o}=e,a=nh(n1,n);return r.jsx(vc,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:c=>{var f;const u=c.relatedTarget;!((f=a.viewport)!=null&&f.contains(u))&&s()}})});tp.displayName=n1;var rh="Toast",NM="toast.swipeStart",CM="toast.swipeMove",SM="toast.swipeCancel",PM="toast.swipeEnd",r1=p.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:o,onOpenChange:a,...c}=e,[u=!0,d]=is({prop:s,defaultProp:o,onChange:a});return r.jsx(Hn,{present:n||u,children:r.jsx(TM,{open:u,...c,ref:t,onClose:()=>d(!1),onPause:st(e.onPause),onResume:st(e.onResume),onSwipeStart:re(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,f=>{const{x:g,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:re(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,f=>{const{x:g,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});r1.displayName=rh;var[kM,EM]=X_(rh,{onClose(){}}),TM=p.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:o,open:a,onClose:c,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:v,onSwipeEnd:y,...j}=e,w=nh(rh,n),[C,b]=p.useState(null),_=we(t,G=>b(G)),S=p.useRef(null),P=p.useRef(null),k=o||w.duration,M=p.useRef(0),R=p.useRef(k),T=p.useRef(0),{onToastAdd:z,onToastRemove:B}=w,D=st(()=>{var de;(C==null?void 0:C.contains(document.activeElement))&&((de=w.viewport)==null||de.focus()),c()}),K=p.useCallback(G=>{!G||G===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(D,G))},[D]);p.useEffect(()=>{const G=w.viewport;if(G){const de=()=>{K(R.current),f==null||f()},Z=()=>{const W=new Date().getTime()-M.current;R.current=R.current-W,window.clearTimeout(T.current),d==null||d()};return G.addEventListener(Jm,Z),G.addEventListener(ep,de),()=>{G.removeEventListener(Jm,Z),G.removeEventListener(ep,de)}}},[w.viewport,k,d,f,K]),p.useEffect(()=>{a&&!w.isClosePausedRef.current&&K(k)},[a,k,w.isClosePausedRef,K]),p.useEffect(()=>(z(),()=>B()),[z,B]);const X=p.useMemo(()=>C?u1(C):null,[C]);return w.viewport?r.jsxs(r.Fragment,{children:[X&&r.jsx(MM,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),r.jsx(kM,{scope:n,onClose:D,children:ci.createPortal(r.jsx(Bg.ItemSlot,{scope:n,children:r.jsx(dM,{asChild:!0,onEscapeKeyDown:re(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||D(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,G=>{G.key==="Escape"&&(u==null||u(G.nativeEvent),G.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:re(e.onPointerDown,G=>{G.button===0&&(S.current={x:G.clientX,y:G.clientY})}),onPointerMove:re(e.onPointerMove,G=>{if(!S.current)return;const de=G.clientX-S.current.x,Z=G.clientY-S.current.y,W=!!P.current,O=["left","right"].includes(w.swipeDirection),H=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,q=O?H(0,de):0,$=O?0:H(0,Z),ee=G.pointerType==="touch"?10:2,se={x:q,y:$},J={originalEvent:G,delta:se};W?(P.current=se,bu(CM,m,J,{discrete:!1})):h0(se,w.swipeDirection,ee)?(P.current=se,bu(NM,g,J,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(de)>ee||Math.abs(Z)>ee)&&(S.current=null)}),onPointerUp:re(e.onPointerUp,G=>{const de=P.current,Z=G.target;if(Z.hasPointerCapture(G.pointerId)&&Z.releasePointerCapture(G.pointerId),P.current=null,S.current=null,de){const W=G.currentTarget,O={originalEvent:G,delta:de};h0(de,w.swipeDirection,w.swipeThreshold)?bu(PM,y,O,{discrete:!0}):bu(SM,v,O,{discrete:!0}),W.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),MM=e=>{const{__scopeToast:t,children:n,...s}=e,o=nh(rh,t),[a,c]=p.useState(!1),[u,d]=p.useState(!1);return AM(()=>c(!0)),p.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:r.jsx(gc,{asChild:!0,children:r.jsx(vc,{...s,children:a&&r.jsxs(r.Fragment,{children:[o.label," ",n]})})})},RM="ToastTitle",s1=p.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ve.div,{...s,ref:t})});s1.displayName=RM;var LM="ToastDescription",i1=p.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ve.div,{...s,ref:t})});i1.displayName=LM;var o1="ToastAction",a1=p.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(c1,{altText:n,asChild:!0,children:r.jsx(Ug,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${o1}\`. Expected non-empty \`string\`.`),null)});a1.displayName=o1;var l1="ToastClose",Ug=p.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,o=EM(l1,n);return r.jsx(c1,{asChild:!0,children:r.jsx(ve.button,{type:"button",...s,ref:t,onClick:re(e.onClick,o.onClose)})})});Ug.displayName=l1;var c1=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...o}=e;return r.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:t})});function u1(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),IM(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const c=s.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...u1(s))}}),t}function bu(e,t,n,{discrete:s}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?Fg(o,a):o.dispatchEvent(a)}var h0=(e,t,n=0)=>{const s=Math.abs(e.x),o=Math.abs(e.y),a=s>o;return t==="left"||t==="right"?a&&s>n:!a&&o>n};function AM(e=()=>{}){const t=st(e);dt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function IM(e){return e.nodeType===e.ELEMENT_NODE}function DM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Bf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var OM=J_,d1=t1,h1=r1,f1=s1,m1=i1,p1=a1,g1=Ug;function v1(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=v1(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function x1(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=v1(e))&&(s&&(s+=" "),s+=t);return s}const f0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,m0=x1,xc=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return m0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,c=Object.keys(o).map(f=>{const g=n==null?void 0:n[f],m=a==null?void 0:a[f];if(g===null)return null;const v=f0(g)||f0(m);return o[f][v]}),u=n&&Object.entries(n).reduce((f,g)=>{let[m,v]=g;return v===void 0||(f[m]=v),f},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((f,g)=>{let{class:m,className:v,...y}=g;return Object.entries(y).every(j=>{let[w,C]=j;return Array.isArray(C)?C.includes({...a,...u}[w]):{...a,...u}[w]===C})?[...f,m,v]:f},[]);return m0(e,c,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y1=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...u},d)=>p.createElement("svg",{ref:d,...FM,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:y1("lucide",o),...u},[...c.map(([f,g])=>p.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const n=p.forwardRef(({className:s,...o},a)=>p.createElement($M,{ref:a,iconNode:t,className:y1(`lucide-${zM(e)}`,s),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=oe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=oe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=oe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=oe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=oe("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=oe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=oe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=oe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=oe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=oe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=oe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=oe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=oe("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=oe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=oe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=oe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=oe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=oe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=oe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=oe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=oe("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=oe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Kg="-",gR=e=>{const t=xR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const u=c.split(Kg);return u[0]===""&&u.length!==1&&u.shift(),T1(u,t)||vR(c)},getConflictingClassGroupIds:(c,u)=>{const d=n[c]||[];return u&&s[c]?[...d,...s[c]]:d}}},T1=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?T1(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Kg);return(c=t.validators.find(({validator:u})=>u(a)))==null?void 0:c.classGroupId},y0=/^\[(.+)\]$/,vR=e=>{if(y0.test(e)){const t=y0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},xR=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return wR(Object.entries(e.classGroups),n).forEach(([a,c])=>{op(c,s,a,t)}),s},op=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:w0(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(yR(o)){op(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,c])=>{op(c,w0(t,a),n,s)})})},w0=(e,t)=>{let n=e;return t.split(Kg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},yR=e=>e.isThemeGetter,wR=(e,t)=>t?e.map(([n,s])=>{const o=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,u])=>[t+c,u])):a);return[n,o]}):e,bR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(a,c)=>{n.set(a,c),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=s.get(a))!==void 0)return o(a,c),c},set(a,c){n.has(a)?n.set(a,c):o(a,c)}}},M1="!",_R=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,o=t[0],a=t.length,c=u=>{const d=[];let f=0,g=0,m;for(let C=0;C<u.length;C++){let b=u[C];if(f===0){if(b===o&&(s||u.slice(C,C+a)===t)){d.push(u.slice(g,C)),g=C+a;continue}if(b==="/"){m=C;continue}}b==="["?f++:b==="]"&&f--}const v=d.length===0?u:u.substring(g),y=v.startsWith(M1),j=y?v.substring(1):v,w=m&&m>g?m-g:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:j,maybePostfixModifierPosition:w}};return n?u=>n({className:u,parseClassName:c}):c},jR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},NR=e=>({cache:bR(e.cacheSize),parseClassName:_R(e),...gR(e)}),CR=/\s+/,SR=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o}=t,a=[],c=e.trim().split(CR);let u="";for(let d=c.length-1;d>=0;d-=1){const f=c[d],{modifiers:g,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}=n(f);let j=!!y,w=s(j?v.substring(0,y):v);if(!w){if(!j){u=f+(u.length>0?" "+u:u);continue}if(w=s(v),!w){u=f+(u.length>0?" "+u:u);continue}j=!1}const C=jR(g).join(":"),b=m?C+M1:C,_=b+w;if(a.includes(_))continue;a.push(_);const S=o(w,j);for(let P=0;P<S.length;++P){const k=S[P];a.push(b+k)}u=f+(u.length>0?" "+u:u)}return u};function PR(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=R1(t))&&(s&&(s+=" "),s+=n);return s}const R1=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=R1(e[s]))&&(n&&(n+=" "),n+=t);return n};function kR(e,...t){let n,s,o,a=c;function c(d){const f=t.reduce((g,m)=>m(g),e());return n=NR(f),s=n.cache.get,o=n.cache.set,a=u,u(d)}function u(d){const f=s(d);if(f)return f;const g=SR(d,n);return o(d,g),g}return function(){return a(PR.apply(null,arguments))}}const et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},L1=/^\[(?:([a-z-]+):)?(.+)\]$/i,ER=/^\d+\/\d+$/,TR=new Set(["px","full","screen"]),MR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=e=>Wo(e)||TR.has(e)||ER.test(e),xs=e=>Pa(e,"length",VR),Wo=e=>!!e&&!Number.isNaN(Number(e)),Hf=e=>Pa(e,"number",Wo),hl=e=>!!e&&Number.isInteger(Number(e)),DR=e=>e.endsWith("%")&&Wo(e.slice(0,-1)),Pe=e=>L1.test(e),ys=e=>MR.test(e),OR=new Set(["length","size","percentage"]),zR=e=>Pa(e,OR,A1),FR=e=>Pa(e,"position",A1),$R=new Set(["image","url"]),BR=e=>Pa(e,$R,WR),UR=e=>Pa(e,"",HR),fl=()=>!0,Pa=(e,t,n)=>{const s=L1.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},VR=e=>RR.test(e)&&!LR.test(e),A1=()=>!1,HR=e=>AR.test(e),WR=e=>IR.test(e),qR=()=>{const e=et("colors"),t=et("spacing"),n=et("blur"),s=et("brightness"),o=et("borderColor"),a=et("borderRadius"),c=et("borderSpacing"),u=et("borderWidth"),d=et("contrast"),f=et("grayscale"),g=et("hueRotate"),m=et("invert"),v=et("gap"),y=et("gradientColorStops"),j=et("gradientColorStopPositions"),w=et("inset"),C=et("margin"),b=et("opacity"),_=et("padding"),S=et("saturate"),P=et("scale"),k=et("sepia"),M=et("skew"),R=et("space"),T=et("translate"),z=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Pe,t],K=()=>[Pe,t],X=()=>["",Hr,xs],G=()=>["auto",Wo,Pe],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Pe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Wo,Pe];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[Hr,xs],blur:["none","",ys,Pe],brightness:$(),borderColor:[e],borderRadius:["none","","full",ys,Pe],borderSpacing:K(),borderWidth:X(),contrast:$(),grayscale:H(),hueRotate:$(),invert:H(),gap:K(),gradientColorStops:[e],gradientColorStopPositions:[DR,xs],inset:D(),margin:D(),opacity:$(),padding:K(),saturate:$(),scale:$(),sepia:H(),skew:$(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),Pe]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,Pe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",hl,Pe]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl,Pe]},Pe]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl,Pe]},Pe]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[ys]},ys]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ys,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hf]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Wo,Hf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,xs]}],"underline-offset":[{"underline-offset":["auto",Hr,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),FR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Z()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Hr,Pe]}],"outline-w":[{outline:[Hr,xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Hr,xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ys,UR]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ys,Pe]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[hl,Pe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hr,xs,Hf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZR=kR(qR);function ce(...e){return ZR(x1(e))}const KR=OM,I1=p.forwardRef(({className:e,...t},n)=>r.jsx(d1,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));I1.displayName=d1.displayName;const GR=xc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D1=p.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(h1,{ref:s,className:ce(GR({variant:t}),e),...n}));D1.displayName=h1.displayName;const QR=p.forwardRef(({className:e,...t},n)=>r.jsx(p1,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));QR.displayName=p1.displayName;const O1=p.forwardRef(({className:e,...t},n)=>r.jsx(g1,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(gn,{className:"h-4 w-4"})}));O1.displayName=g1.displayName;const z1=p.forwardRef(({className:e,...t},n)=>r.jsx(f1,{ref:n,className:ce("text-sm font-semibold",e),...t}));z1.displayName=f1.displayName;const F1=p.forwardRef(({className:e,...t},n)=>r.jsx(m1,{ref:n,className:ce("text-sm opacity-90",e),...t}));F1.displayName=m1.displayName;function YR(){const{toasts:e}=Je();return r.jsxs(KR,{children:[e.map(function({id:t,title:n,description:s,action:o,...a}){return r.jsxs(D1,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(z1,{children:n}),s&&r.jsx(F1,{children:s})]}),o,r.jsx(O1,{})]},t)}),r.jsx(I1,{})]})}var XR=(e,t,n,s,o,a,c,u)=>{let d=document.documentElement,f=["light","dark"];function g(y){(Array.isArray(e)?e:[e]).forEach(j=>{let w=j==="class",C=w&&a?o.map(b=>a[b]||b):o;w?(d.classList.remove(...C),d.classList.add(a&&a[y]?a[y]:y)):d.setAttribute(j,y)}),m(y)}function m(y){u&&f.includes(y)&&(d.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)g(s);else try{let y=localStorage.getItem(t)||n,j=c&&y==="system"?v():y;g(j)}catch{}},JR=p.createContext(void 0),eL={setTheme:e=>{},themes:[]},tL=()=>{var e;return(e=p.useContext(JR))!=null?e:eL};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:o,defaultTheme:a,value:c,themes:u,nonce:d,scriptProps:f})=>{let g=JSON.stringify([n,t,a,e,u,c,s,o]).slice(1,-1);return p.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${XR.toString()})(${g})`}})});function nL(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const rL=e=>{switch(e){case"success":return oL;case"info":return lL;case"warning":return aL;case"error":return cL;default:return null}},sL=Array(12).fill(0),iL=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},sL.map((n,s)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),oL=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aL=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lL=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cL=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uL=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dL=()=>{const[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let ap=1;class hL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:ap++,c=this.toasts.find(d=>d.id===a),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...t,id:a,title:s}),{...d,...t,id:a,dismissible:u,title:s}):d):this.addToast({title:s,...o,dismissible:u,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=s!==void 0,c;const u=o.then(async f=>{if(c=["resolve",f],Y.isValidElement(f))a=!1,this.create({id:s,type:"default",message:f});else if(mL(f)&&!f.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,j=typeof m=="object"&&!Y.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:v,...j})}else if(f instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(f):n.error,v=typeof n.description=="function"?await n.description(f):n.description,j=typeof m=="object"&&!Y.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:v,...j})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(f):n.success,v=typeof n.description=="function"?await n.description(f):n.description,j=typeof m=="object"&&!Y.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:v,...j})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,y=typeof g=="object"&&!Y.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:m,...y})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,g)=>u.then(()=>c[0]==="reject"?g(c[1]):f(c[1])).catch(g));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||ap++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const cn=new hL,fL=(e,t)=>{const n=(t==null?void 0:t.id)||ap++;return cn.addToast({title:e,...t,id:n}),n},mL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pL=fL,gL=()=>cn.toasts,vL=()=>cn.getActiveToasts();Object.assign(pL,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:gL,getToasts:vL});nL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ju(e){return e.label!==void 0}const xL=3,yL="24px",wL="16px",b0=4e3,bL=356,_L=14,jL=45,NL=200;function gr(...e){return e.filter(Boolean).join(" ")}function CL(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const SL=e=>{var t,n,s,o,a,c,u,d,f;const{invert:g,toast:m,unstyled:v,interacting:y,setHeights:j,visibleToasts:w,heights:C,index:b,toasts:_,expanded:S,removeToast:P,defaultRichColors:k,closeButton:M,style:R,cancelButtonStyle:T,actionButtonStyle:z,className:B="",descriptionClassName:D="",duration:K,position:X,gap:G,expandByDefault:de,classNames:Z,icons:W,closeButtonAriaLabel:O="Close toast"}=e,[H,q]=Y.useState(null),[$,ee]=Y.useState(null),[se,J]=Y.useState(!1),[ge,te]=Y.useState(!1),[ue,je]=Y.useState(!1),[Ie,Me]=Y.useState(!1),[Oe,Le]=Y.useState(!1),[bt,Dt]=Y.useState(0),[ur,qn]=Y.useState(0),qt=Y.useRef(m.duration||K||b0),Or=Y.useRef(null),Ot=Y.useRef(null),Mc=b===0,za=b+1<=w,zt=m.type,zr=m.dismissible!==!1,Dh=m.className||"",Oh=m.descriptionClassName||"",fs=Y.useMemo(()=>C.findIndex(Ne=>Ne.toastId===m.id)||0,[C,m.id]),Rc=Y.useMemo(()=>{var Ne;return(Ne=m.closeButton)!=null?Ne:M},[m.closeButton,M]),Fa=Y.useMemo(()=>m.duration||K||b0,[m.duration,K]),$a=Y.useRef(0),Fr=Y.useRef(0),Ba=Y.useRef(0),ms=Y.useRef(null),[Lc,Ua]=X.split("-"),Va=Y.useMemo(()=>C.reduce((Ne,vt,Ct)=>Ct>=fs?Ne:Ne+vt.height,0),[C,fs]),Ac=dL(),mi=m.invert||g,Ha=zt==="loading";Fr.current=Y.useMemo(()=>fs*G+Va,[fs,Va]),Y.useEffect(()=>{qt.current=Fa},[Fa]),Y.useEffect(()=>{J(!0)},[]),Y.useEffect(()=>{const Ne=Ot.current;if(Ne){const vt=Ne.getBoundingClientRect().height;return qn(vt),j(Ct=>[{toastId:m.id,height:vt,position:m.position},...Ct]),()=>j(Ct=>Ct.filter(Zt=>Zt.toastId!==m.id))}},[j,m.id]),Y.useLayoutEffect(()=>{if(!se)return;const Ne=Ot.current,vt=Ne.style.height;Ne.style.height="auto";const Ct=Ne.getBoundingClientRect().height;Ne.style.height=vt,qn(Ct),j(Zt=>Zt.find(mt=>mt.toastId===m.id)?Zt.map(mt=>mt.toastId===m.id?{...mt,height:Ct}:mt):[{toastId:m.id,height:Ct,position:m.position},...Zt])},[se,m.title,m.description,j,m.id,m.jsx,m.action,m.cancel]);const dr=Y.useCallback(()=>{te(!0),Dt(Fr.current),j(Ne=>Ne.filter(vt=>vt.toastId!==m.id)),setTimeout(()=>{P(m)},NL)},[m,P,j,Fr]);Y.useEffect(()=>{if(m.promise&&zt==="loading"||m.duration===1/0||m.type==="loading")return;let Ne;return S||y||Ac?(()=>{if(Ba.current<$a.current){const Zt=new Date().getTime()-$a.current;qt.current=qt.current-Zt}Ba.current=new Date().getTime()})():(()=>{qt.current!==1/0&&($a.current=new Date().getTime(),Ne=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),dr()},qt.current))})(),()=>clearTimeout(Ne)},[S,y,m,zt,Ac,dr]),Y.useEffect(()=>{m.delete&&(dr(),m.onDismiss==null||m.onDismiss.call(m,m))},[dr,m.delete]);function Ic(){var Ne;if(W!=null&&W.loading){var vt;return Y.createElement("div",{className:gr(Z==null?void 0:Z.loader,m==null||(vt=m.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":zt==="loading"},W.loading)}return Y.createElement(iL,{className:gr(Z==null?void 0:Z.loader,m==null||(Ne=m.classNames)==null?void 0:Ne.loader),visible:zt==="loading"})}const Dc=m.icon||(W==null?void 0:W[zt])||rL(zt);var Wa,Oc;return Y.createElement("li",{tabIndex:0,ref:Ot,className:gr(B,Dh,Z==null?void 0:Z.toast,m==null||(t=m.classNames)==null?void 0:t.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[zt],m==null||(n=m.classNames)==null?void 0:n[zt]),"data-sonner-toast":"","data-rich-colors":(Wa=m.richColors)!=null?Wa:k,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":se,"data-promise":!!m.promise,"data-swiped":Oe,"data-removed":ge,"data-visible":za,"data-y-position":Lc,"data-x-position":Ua,"data-index":b,"data-front":Mc,"data-swiping":ue,"data-dismissible":zr,"data-type":zt,"data-invert":mi,"data-swipe-out":Ie,"data-swipe-direction":$,"data-expanded":!!(S||de&&se),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${ge?bt:Fr.current}px`,"--initial-height":de?"auto":`${ur}px`,...R,...m.style},onDragEnd:()=>{je(!1),q(null),ms.current=null},onPointerDown:Ne=>{Ne.button!==2&&(Ha||!zr||(Or.current=new Date,Dt(Fr.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(je(!0),ms.current={x:Ne.clientX,y:Ne.clientY})))},onPointerUp:()=>{var Ne,vt,Ct;if(Ie||!zr)return;ms.current=null;const Zt=Number(((Ne=Ot.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ao=Number(((vt=Ot.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mt=new Date().getTime()-((Ct=Or.current)==null?void 0:Ct.getTime()),sn=H==="x"?Zt:ao,lo=Math.abs(sn)/mt;if(Math.abs(sn)>=jL||lo>.11){Dt(Fr.current),m.onDismiss==null||m.onDismiss.call(m,m),ee(H==="x"?Zt>0?"right":"left":ao>0?"down":"up"),dr(),Me(!0);return}else{var vn,xn;(vn=Ot.current)==null||vn.style.setProperty("--swipe-amount-x","0px"),(xn=Ot.current)==null||xn.style.setProperty("--swipe-amount-y","0px")}Le(!1),je(!1),q(null)},onPointerMove:Ne=>{var vt,Ct,Zt;if(!ms.current||!zr||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const mt=Ne.clientY-ms.current.y,sn=Ne.clientX-ms.current.x;var lo;const vn=(lo=e.swipeDirections)!=null?lo:CL(X);!H&&(Math.abs(sn)>1||Math.abs(mt)>1)&&q(Math.abs(sn)>Math.abs(mt)?"x":"y");let xn={x:0,y:0};const yn=pe=>1/(1.5+Math.abs(pe)/20);if(H==="y"){if(vn.includes("top")||vn.includes("bottom"))if(vn.includes("top")&&mt<0||vn.includes("bottom")&&mt>0)xn.y=mt;else{const pe=mt*yn(mt);xn.y=Math.abs(pe)<Math.abs(mt)?pe:mt}}else if(H==="x"&&(vn.includes("left")||vn.includes("right")))if(vn.includes("left")&&sn<0||vn.includes("right")&&sn>0)xn.x=sn;else{const pe=sn*yn(sn);xn.x=Math.abs(pe)<Math.abs(sn)?pe:sn}(Math.abs(xn.x)>0||Math.abs(xn.y)>0)&&Le(!0),(Ct=Ot.current)==null||Ct.style.setProperty("--swipe-amount-x",`${xn.x}px`),(Zt=Ot.current)==null||Zt.style.setProperty("--swipe-amount-y",`${xn.y}px`)}},Rc&&!m.jsx&&zt!=="loading"?Y.createElement("button",{"aria-label":O,"data-disabled":Ha,"data-close-button":!0,onClick:Ha||!zr?()=>{}:()=>{dr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:gr(Z==null?void 0:Z.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(Oc=W==null?void 0:W.close)!=null?Oc:uL):null,(zt||m.icon||m.promise)&&m.icon!==null&&((W==null?void 0:W[zt])!==null||m.icon)?Y.createElement("div",{"data-icon":"",className:gr(Z==null?void 0:Z.icon,m==null||(o=m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ic():null,m.type!=="loading"?Dc:null):null,Y.createElement("div",{"data-content":"",className:gr(Z==null?void 0:Z.content,m==null||(a=m.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:gr(Z==null?void 0:Z.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Y.createElement("div",{"data-description":"",className:gr(D,Oh,Z==null?void 0:Z.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),Y.isValidElement(m.cancel)?m.cancel:m.cancel&&ju(m.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Ne=>{ju(m.cancel)&&zr&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ne),dr())},className:gr(Z==null?void 0:Z.cancelButton,m==null||(d=m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,Y.isValidElement(m.action)?m.action:m.action&&ju(m.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||z,onClick:Ne=>{ju(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ne),!Ne.defaultPrevented&&dr())},className:gr(Z==null?void 0:Z.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function _0(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function PL(e,t){const n={};return[e,t].forEach((s,o)=>{const a=o===1,c=a?"--mobile-offset":"--offset",u=a?wL:yL;function d(f){["top","right","bottom","left"].forEach(g=>{n[`${c}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?n[`${c}-${f}`]=u:n[`${c}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):d(u)}),n}const kL=Y.forwardRef(function(t,n){const{invert:s,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:u,className:d,offset:f,mobileOffset:g,theme:m="light",richColors:v,duration:y,style:j,visibleToasts:w=xL,toastOptions:C,dir:b=_0(),gap:_=_L,icons:S,containerAriaLabel:P="Notifications"}=t,[k,M]=Y.useState([]),R=Y.useMemo(()=>Array.from(new Set([o].concat(k.filter($=>$.position).map($=>$.position)))),[k,o]),[T,z]=Y.useState([]),[B,D]=Y.useState(!1),[K,X]=Y.useState(!1),[G,de]=Y.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=Y.useRef(null),W=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=Y.useRef(null),H=Y.useRef(!1),q=Y.useCallback($=>{M(ee=>{var se;return(se=ee.find(J=>J.id===$.id))!=null&&se.delete||cn.dismiss($.id),ee.filter(({id:J})=>J!==$.id)})},[]);return Y.useEffect(()=>cn.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{M(ee=>ee.map(se=>se.id===$.id?{...se,delete:!0}:se))});return}setTimeout(()=>{W_.flushSync(()=>{M(ee=>{const se=ee.findIndex(J=>J.id===$.id);return se!==-1?[...ee.slice(0,se),{...ee[se],...$},...ee.slice(se+1)]:[$,...ee]})})})}),[k]),Y.useEffect(()=>{if(m!=="system"){de(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ee})=>{de(ee?"dark":"light")})}catch{$.addListener(({matches:se})=>{try{de(se?"dark":"light")}catch(J){console.error(J)}})}},[m]),Y.useEffect(()=>{k.length<=1&&D(!1)},[k]),Y.useEffect(()=>{const $=ee=>{var se;if(a.every(te=>ee[te]||ee.code===te)){var ge;D(!0),(ge=Z.current)==null||ge.focus()}ee.code==="Escape"&&(document.activeElement===Z.current||(se=Z.current)!=null&&se.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[a]),Y.useEffect(()=>{if(Z.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,H.current=!1)}},[Z.current]),Y.createElement("section",{ref:n,"aria-label":`${P} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map(($,ee)=>{var se;const[J,ge]=$.split("-");return k.length?Y.createElement("ol",{key:$,dir:b==="auto"?_0():b,tabIndex:-1,ref:Z,className:d,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":J,"data-x-position":ge,style:{"--front-toast-height":`${((se=T[0])==null?void 0:se.height)||0}px`,"--width":`${bL}px`,"--gap":`${_}px`,...j,...PL(f,g)},onBlur:te=>{H.current&&!te.currentTarget.contains(te.relatedTarget)&&(H.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||H.current||(H.current=!0,O.current=te.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{K||D(!1)},onDragEnd:()=>D(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},k.filter(te=>!te.position&&ee===0||te.position===$).map((te,ue)=>{var je,Ie;return Y.createElement(SL,{key:te.id,icons:S,index:ue,toast:te,defaultRichColors:v,duration:(je=C==null?void 0:C.duration)!=null?je:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:s,visibleToasts:w,closeButton:(Ie=C==null?void 0:C.closeButton)!=null?Ie:u,interacting:K,position:$,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:q,toasts:k.filter(Me=>Me.position==te.position),heights:T.filter(Me=>Me.position==te.position),setHeights:z,expandByDefault:c,gap:_,expanded:B,swipeDirections:t.swipeDirections})})):null}))}),EL=({...e})=>{const{theme:t="system"}=tL();return r.jsx(kL,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var TL=Kp[" useId ".trim().toString()]||(()=>{}),ML=0;function Tr(e){const[t,n]=p.useState(TL());return dt(()=>{n(s=>s??String(ML++))},[e]),t?`radix-${t}`:""}const RL=["top","right","bottom","left"],ni=Math.min,_n=Math.max,Sd=Math.round,Nu=Math.floor,Mr=e=>({x:e,y:e}),LL={left:"right",right:"left",bottom:"top",top:"bottom"},AL={start:"end",end:"start"};function lp(e,t,n){return _n(e,ni(t,n))}function as(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function ka(e){return e.split("-")[1]}function Gg(e){return e==="x"?"y":"x"}function Qg(e){return e==="y"?"height":"width"}function ri(e){return["top","bottom"].includes(ls(e))?"y":"x"}function Yg(e){return Gg(ri(e))}function IL(e,t,n){n===void 0&&(n=!1);const s=ka(e),o=Yg(e),a=Qg(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Pd(c)),[c,Pd(c)]}function DL(e){const t=Pd(e);return[cp(e),t,cp(t)]}function cp(e){return e.replace(/start|end/g,t=>AL[t])}function OL(e,t,n){const s=["left","right"],o=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:s:t?s:o;case"left":case"right":return t?a:c;default:return[]}}function zL(e,t,n,s){const o=ka(e);let a=OL(ls(e),n==="start",s);return o&&(a=a.map(c=>c+"-"+o),t&&(a=a.concat(a.map(cp)))),a}function Pd(e){return e.replace(/left|right|bottom|top/g,t=>LL[t])}function FL(e){return{top:0,right:0,bottom:0,left:0,...e}}function $1(e){return typeof e!="number"?FL(e):{top:e,right:e,bottom:e,left:e}}function kd(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function j0(e,t,n){let{reference:s,floating:o}=e;const a=ri(t),c=Yg(t),u=Qg(c),d=ls(t),f=a==="y",g=s.x+s.width/2-o.width/2,m=s.y+s.height/2-o.height/2,v=s[u]/2-o[u]/2;let y;switch(d){case"top":y={x:g,y:s.y-o.height};break;case"bottom":y={x:g,y:s.y+s.height};break;case"right":y={x:s.x+s.width,y:m};break;case"left":y={x:s.x-o.width,y:m};break;default:y={x:s.x,y:s.y}}switch(ka(t)){case"start":y[c]-=v*(n&&f?-1:1);break;case"end":y[c]+=v*(n&&f?-1:1);break}return y}const $L=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,u=a.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:m}=j0(f,s,d),v=s,y={},j=0;for(let w=0;w<u.length;w++){const{name:C,fn:b}=u[w],{x:_,y:S,data:P,reset:k}=await b({x:g,y:m,initialPlacement:s,placement:v,strategy:o,middlewareData:y,rects:f,platform:c,elements:{reference:e,floating:t}});g=_??g,m=S??m,y={...y,[C]:{...y[C],...P}},k&&j<=50&&(j++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(f=k.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):k.rects),{x:g,y:m}=j0(f,v,d)),w=-1)}return{x:g,y:m,placement:v,strategy:o,middlewareData:y}};async function Jl(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:a,rects:c,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=as(t,e),j=$1(y),C=u[v?m==="floating"?"reference":"floating":m],b=kd(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:d})),_=m==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),P=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},k=kd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:_,offsetParent:S,strategy:d}):_);return{top:(b.top-k.top+j.top)/P.y,bottom:(k.bottom-b.bottom+j.bottom)/P.y,left:(b.left-k.left+j.left)/P.x,right:(k.right-b.right+j.right)/P.x}}const BL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:a,platform:c,elements:u,middlewareData:d}=t,{element:f,padding:g=0}=as(e,t)||{};if(f==null)return{};const m=$1(g),v={x:n,y:s},y=Yg(o),j=Qg(y),w=await c.getDimensions(f),C=y==="y",b=C?"top":"left",_=C?"bottom":"right",S=C?"clientHeight":"clientWidth",P=a.reference[j]+a.reference[y]-v[y]-a.floating[j],k=v[y]-a.reference[y],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let R=M?M[S]:0;(!R||!await(c.isElement==null?void 0:c.isElement(M)))&&(R=u.floating[S]||a.floating[j]);const T=P/2-k/2,z=R/2-w[j]/2-1,B=ni(m[b],z),D=ni(m[_],z),K=B,X=R-w[j]-D,G=R/2-w[j]/2+T,de=lp(K,G,X),Z=!d.arrow&&ka(o)!=null&&G!==de&&a.reference[j]/2-(G<K?B:D)-w[j]/2<0,W=Z?G<K?G-K:G-X:0;return{[y]:v[y]+W,data:{[y]:de,centerOffset:G-de-W,...Z&&{alignmentOffset:W}},reset:Z}}}),UL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,...C}=as(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=ls(o),_=ri(u),S=ls(u)===u,P=await(d.isRTL==null?void 0:d.isRTL(f.floating)),k=v||(S||!w?[Pd(u)]:DL(u)),M=j!=="none";!v&&M&&k.push(...zL(u,w,j,P));const R=[u,...k],T=await Jl(t,C),z=[];let B=((s=a.flip)==null?void 0:s.overflows)||[];if(g&&z.push(T[b]),m){const G=IL(o,c,P);z.push(T[G[0]],T[G[1]])}if(B=[...B,{placement:o,overflows:z}],!z.every(G=>G<=0)){var D,K;const G=(((D=a.flip)==null?void 0:D.index)||0)+1,de=R[G];if(de)return{data:{index:G,overflows:B},reset:{placement:de}};let Z=(K=B.filter(W=>W.overflows[0]<=0).sort((W,O)=>W.overflows[1]-O.overflows[1])[0])==null?void 0:K.placement;if(!Z)switch(y){case"bestFit":{var X;const W=(X=B.filter(O=>{if(M){const H=ri(O.placement);return H===_||H==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(H=>H>0).reduce((H,q)=>H+q,0)]).sort((O,H)=>O[1]-H[1])[0])==null?void 0:X[0];W&&(Z=W);break}case"initialPlacement":Z=u;break}if(o!==Z)return{reset:{placement:Z}}}return{}}}};function N0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function C0(e){return RL.some(t=>e[t]>=0)}const VL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=as(e,t);switch(s){case"referenceHidden":{const a=await Jl(t,{...o,elementContext:"reference"}),c=N0(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:C0(c)}}}case"escaped":{const a=await Jl(t,{...o,altBoundary:!0}),c=N0(a,n.floating);return{data:{escapedOffsets:c,escaped:C0(c)}}}default:return{}}}}};async function HL(e,t){const{placement:n,platform:s,elements:o}=e,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=ls(n),u=ka(n),d=ri(n)==="y",f=["left","top"].includes(c)?-1:1,g=a&&d?-1:1,m=as(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof j=="number"&&(y=u==="end"?j*-1:j),d?{x:y*g,y:v*f}:{x:v*f,y:y*g}}const WL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:a,placement:c,middlewareData:u}=t,d=await HL(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:c}}}}},qL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:C=>{let{x:b,y:_}=C;return{x:b,y:_}}},...d}=as(e,t),f={x:n,y:s},g=await Jl(t,d),m=ri(ls(o)),v=Gg(m);let y=f[v],j=f[m];if(a){const C=v==="y"?"top":"left",b=v==="y"?"bottom":"right",_=y+g[C],S=y-g[b];y=lp(_,y,S)}if(c){const C=m==="y"?"top":"left",b=m==="y"?"bottom":"right",_=j+g[C],S=j-g[b];j=lp(_,j,S)}const w=u.fn({...t,[v]:y,[m]:j});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[v]:a,[m]:c}}}}}},ZL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:a,middlewareData:c}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=as(e,t),g={x:n,y:s},m=ri(o),v=Gg(m);let y=g[v],j=g[m];const w=as(u,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const S=v==="y"?"height":"width",P=a.reference[v]-a.floating[S]+C.mainAxis,k=a.reference[v]+a.reference[S]-C.mainAxis;y<P?y=P:y>k&&(y=k)}if(f){var b,_;const S=v==="y"?"width":"height",P=["top","left"].includes(ls(o)),k=a.reference[m]-a.floating[S]+(P&&((b=c.offset)==null?void 0:b[m])||0)+(P?0:C.crossAxis),M=a.reference[m]+a.reference[S]+(P?0:((_=c.offset)==null?void 0:_[m])||0)-(P?C.crossAxis:0);j<k?j=k:j>M&&(j=M)}return{[v]:y,[m]:j}}}},KL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:a,platform:c,elements:u}=t,{apply:d=()=>{},...f}=as(e,t),g=await Jl(t,f),m=ls(o),v=ka(o),y=ri(o)==="y",{width:j,height:w}=a.floating;let C,b;m==="top"||m==="bottom"?(C=m,b=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(b=m,C=v==="end"?"top":"bottom");const _=w-g.top-g.bottom,S=j-g.left-g.right,P=ni(w-g[C],_),k=ni(j-g[b],S),M=!t.middlewareData.shift;let R=P,T=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(R=_),M&&!v){const B=_n(g.left,0),D=_n(g.right,0),K=_n(g.top,0),X=_n(g.bottom,0);y?T=j-2*(B!==0||D!==0?B+D:_n(g.left,g.right)):R=w-2*(K!==0||X!==0?K+X:_n(g.top,g.bottom))}await d({...t,availableWidth:T,availableHeight:R});const z=await c.getDimensions(u.floating);return j!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function ih(){return typeof window<"u"}function Ea(e){return B1(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=(B1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B1(e){return ih()?e instanceof Node||e instanceof Cn(e).Node:!1}function or(e){return ih()?e instanceof Element||e instanceof Cn(e).Element:!1}function Rr(e){return ih()?e instanceof HTMLElement||e instanceof Cn(e).HTMLElement:!1}function S0(e){return!ih()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}function wc(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(o)}function GL(e){return["table","td","th"].includes(Ea(e))}function oh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Xg(e){const t=Jg(),n=or(e)?ar(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function QL(e){let t=si(e);for(;Rr(t)&&!xa(t);){if(Xg(t))return t;if(oh(t))return null;t=si(t)}return null}function Jg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xa(e){return["html","body","#document"].includes(Ea(e))}function ar(e){return Cn(e).getComputedStyle(e)}function ah(e){return or(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function si(e){if(Ea(e)==="html")return e;const t=e.assignedSlot||e.parentNode||S0(e)&&e.host||Ar(e);return S0(t)?t.host:t}function U1(e){const t=si(e);return xa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rr(t)&&wc(t)?t:U1(t)}function ec(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=U1(e),a=o===((s=e.ownerDocument)==null?void 0:s.body),c=Cn(o);if(a){const u=up(c);return t.concat(c,c.visualViewport||[],wc(o)?o:[],u&&n?ec(u):[])}return t.concat(o,ec(o,[],n))}function up(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function V1(e){const t=ar(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=Rr(e),a=o?e.offsetWidth:n,c=o?e.offsetHeight:s,u=Sd(n)!==a||Sd(s)!==c;return u&&(n=a,s=c),{width:n,height:s,$:u}}function ev(e){return or(e)?e:e.contextElement}function qo(e){const t=ev(e);if(!Rr(t))return Mr(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:a}=V1(t);let c=(a?Sd(n.width):n.width)/s,u=(a?Sd(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const YL=Mr(0);function H1(e){const t=Cn(e);return!Jg()||!t.visualViewport?YL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function Ki(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=ev(e);let c=Mr(1);t&&(s?or(s)&&(c=qo(s)):c=qo(e));const u=XL(a,n,s)?H1(a):Mr(0);let d=(o.left+u.x)/c.x,f=(o.top+u.y)/c.y,g=o.width/c.x,m=o.height/c.y;if(a){const v=Cn(a),y=s&&or(s)?Cn(s):s;let j=v,w=up(j);for(;w&&s&&y!==j;){const C=qo(w),b=w.getBoundingClientRect(),_=ar(w),S=b.left+(w.clientLeft+parseFloat(_.paddingLeft))*C.x,P=b.top+(w.clientTop+parseFloat(_.paddingTop))*C.y;d*=C.x,f*=C.y,g*=C.x,m*=C.y,d+=S,f+=P,j=Cn(w),w=up(j)}}return kd({width:g,height:m,x:d,y:f})}function tv(e,t){const n=ah(e).scrollLeft;return t?t.left+n:Ki(Ar(e)).left+n}function W1(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=s.left+t.scrollLeft-(n?0:tv(e,s)),a=s.top+t.scrollTop;return{x:o,y:a}}function JL(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const a=o==="fixed",c=Ar(s),u=t?oh(t.floating):!1;if(s===c||u&&a)return n;let d={scrollLeft:0,scrollTop:0},f=Mr(1);const g=Mr(0),m=Rr(s);if((m||!m&&!a)&&((Ea(s)!=="body"||wc(c))&&(d=ah(s)),Rr(s))){const y=Ki(s);f=qo(s),g.x=y.x+s.clientLeft,g.y=y.y+s.clientTop}const v=c&&!m&&!a?W1(c,d,!0):Mr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+g.x+v.x,y:n.y*f.y-d.scrollTop*f.y+g.y+v.y}}function eA(e){return Array.from(e.getClientRects())}function tA(e){const t=Ar(e),n=ah(e),s=e.ownerDocument.body,o=_n(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=_n(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+tv(e);const u=-n.scrollTop;return ar(s).direction==="rtl"&&(c+=_n(t.clientWidth,s.clientWidth)-o),{width:o,height:a,x:c,y:u}}function nA(e,t){const n=Cn(e),s=Ar(e),o=n.visualViewport;let a=s.clientWidth,c=s.clientHeight,u=0,d=0;if(o){a=o.width,c=o.height;const f=Jg();(!f||f&&t==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}return{width:a,height:c,x:u,y:d}}function rA(e,t){const n=Ki(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,a=Rr(e)?qo(e):Mr(1),c=e.clientWidth*a.x,u=e.clientHeight*a.y,d=o*a.x,f=s*a.y;return{width:c,height:u,x:d,y:f}}function P0(e,t,n){let s;if(t==="viewport")s=nA(e,n);else if(t==="document")s=tA(Ar(e));else if(or(t))s=rA(t,n);else{const o=H1(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return kd(s)}function q1(e,t){const n=si(e);return n===t||!or(n)||xa(n)?!1:ar(n).position==="fixed"||q1(n,t)}function sA(e,t){const n=t.get(e);if(n)return n;let s=ec(e,[],!1).filter(u=>or(u)&&Ea(u)!=="body"),o=null;const a=ar(e).position==="fixed";let c=a?si(e):e;for(;or(c)&&!xa(c);){const u=ar(c),d=Xg(c);!d&&u.position==="fixed"&&(o=null),(a?!d&&!o:!d&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||wc(c)&&!d&&q1(e,c))?s=s.filter(g=>g!==c):o=u,c=si(c)}return t.set(e,s),s}function iA(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const c=[...n==="clippingAncestors"?oh(t)?[]:sA(t,this._c):[].concat(n),s],u=c[0],d=c.reduce((f,g)=>{const m=P0(t,g,o);return f.top=_n(m.top,f.top),f.right=ni(m.right,f.right),f.bottom=ni(m.bottom,f.bottom),f.left=_n(m.left,f.left),f},P0(t,u,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function oA(e){const{width:t,height:n}=V1(e);return{width:t,height:n}}function aA(e,t,n){const s=Rr(t),o=Ar(t),a=n==="fixed",c=Ki(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const d=Mr(0);if(s||!s&&!a)if((Ea(t)!=="body"||wc(o))&&(u=ah(t)),s){const v=Ki(t,!0,a,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else o&&(d.x=tv(o));const f=o&&!s&&!a?W1(o,u):Mr(0),g=c.left+u.scrollLeft-d.x-f.x,m=c.top+u.scrollTop-d.y-f.y;return{x:g,y:m,width:c.width,height:c.height}}function Wf(e){return ar(e).position==="static"}function k0(e,t){if(!Rr(e)||ar(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ar(e)===n&&(n=n.ownerDocument.body),n}function Z1(e,t){const n=Cn(e);if(oh(e))return n;if(!Rr(e)){let o=si(e);for(;o&&!xa(o);){if(or(o)&&!Wf(o))return o;o=si(o)}return n}let s=k0(e,t);for(;s&&GL(s)&&Wf(s);)s=k0(s,t);return s&&xa(s)&&Wf(s)&&!Xg(s)?n:s||QL(e)||n}const lA=async function(e){const t=this.getOffsetParent||Z1,n=this.getDimensions,s=await n(e.floating);return{reference:aA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function cA(e){return ar(e).direction==="rtl"}const uA={convertOffsetParentRelativeRectToViewportRelativeRect:JL,getDocumentElement:Ar,getClippingRect:iA,getOffsetParent:Z1,getElementRects:lA,getClientRects:eA,getDimensions:oA,getScale:qo,isElement:or,isRTL:cA};function K1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dA(e,t){let n=null,s;const o=Ar(e);function a(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const f=e.getBoundingClientRect(),{left:g,top:m,width:v,height:y}=f;if(u||t(),!v||!y)return;const j=Nu(m),w=Nu(o.clientWidth-(g+v)),C=Nu(o.clientHeight-(m+y)),b=Nu(g),S={rootMargin:-j+"px "+-w+"px "+-C+"px "+-b+"px",threshold:_n(0,ni(1,d))||1};let P=!0;function k(M){const R=M[0].intersectionRatio;if(R!==d){if(!P)return c();R?c(!1,R):s=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!K1(f,e.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(k,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,S)}n.observe(e)}return c(!0),a}function hA(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,f=ev(e),g=o||a?[...f?ec(f):[],...ec(t)]:[];g.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const m=f&&u?dA(f,n):null;let v=-1,y=null;c&&(y=new ResizeObserver(b=>{let[_]=b;_&&_.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(t)})),n()}),f&&!d&&y.observe(f),y.observe(t));let j,w=d?Ki(e):null;d&&C();function C(){const b=Ki(e);w&&!K1(w,b)&&n(),w=b,j=requestAnimationFrame(C)}return n(),()=>{var b;g.forEach(_=>{o&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),m==null||m(),(b=y)==null||b.disconnect(),y=null,d&&cancelAnimationFrame(j)}}const fA=WL,mA=qL,pA=UL,gA=KL,vA=VL,E0=BL,xA=ZL,yA=(e,t,n)=>{const s=new Map,o={platform:uA,...n},a={...o.platform,_c:s};return $L(e,t,{...o,platform:a})};var Ku=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Ed(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Ed(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!Ed(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function G1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function T0(e,t){const n=G1(e);return Math.round(t*n)/n}function qf(e){const t=p.useRef(e);return Ku(()=>{t.current=e}),t}function wA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[g,m]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=p.useState(s);Ed(v,s)||y(s);const[j,w]=p.useState(null),[C,b]=p.useState(null),_=p.useCallback(O=>{O!==M.current&&(M.current=O,w(O))},[]),S=p.useCallback(O=>{O!==R.current&&(R.current=O,b(O))},[]),P=a||j,k=c||C,M=p.useRef(null),R=p.useRef(null),T=p.useRef(g),z=d!=null,B=qf(d),D=qf(o),K=qf(f),X=p.useCallback(()=>{if(!M.current||!R.current)return;const O={placement:t,strategy:n,middleware:v};D.current&&(O.platform=D.current),yA(M.current,R.current,O).then(H=>{const q={...H,isPositioned:K.current!==!1};G.current&&!Ed(T.current,q)&&(T.current=q,ci.flushSync(()=>{m(q)}))})},[v,t,n,D,K]);Ku(()=>{f===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[f]);const G=p.useRef(!1);Ku(()=>(G.current=!0,()=>{G.current=!1}),[]),Ku(()=>{if(P&&(M.current=P),k&&(R.current=k),P&&k){if(B.current)return B.current(P,k,X);X()}},[P,k,X,B,z]);const de=p.useMemo(()=>({reference:M,floating:R,setReference:_,setFloating:S}),[_,S]),Z=p.useMemo(()=>({reference:P,floating:k}),[P,k]),W=p.useMemo(()=>{const O={position:n,left:0,top:0};if(!Z.floating)return O;const H=T0(Z.floating,g.x),q=T0(Z.floating,g.y);return u?{...O,transform:"translate("+H+"px, "+q+"px)",...G1(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:q}},[n,u,Z.floating,g.x,g.y]);return p.useMemo(()=>({...g,update:X,refs:de,elements:Z,floatingStyles:W}),[g,X,de,Z,W])}const bA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?E0({element:s.current,padding:o}).fn(n):{}:s?E0({element:s,padding:o}).fn(n):{}}}},_A=(e,t)=>({...fA(e),options:[e,t]}),jA=(e,t)=>({...mA(e),options:[e,t]}),NA=(e,t)=>({...xA(e),options:[e,t]}),CA=(e,t)=>({...pA(e),options:[e,t]}),SA=(e,t)=>({...gA(e),options:[e,t]}),PA=(e,t)=>({...vA(e),options:[e,t]}),kA=(e,t)=>({...bA(e),options:[e,t]});var EA="Arrow",Q1=p.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...a}=e;return r.jsx(ve.svg,{...a,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Q1.displayName=EA;var TA=Q1;function lh(e){const[t,n]=p.useState(void 0);return dt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var nv="Popper",[Y1,Ta]=At(nv),[MA,X1]=Y1(nv),J1=e=>{const{__scopePopper:t,children:n}=e,[s,o]=p.useState(null);return r.jsx(MA,{scope:t,anchor:s,onAnchorChange:o,children:n})};J1.displayName=nv;var ej="PopperAnchor",tj=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,a=X1(ej,n),c=p.useRef(null),u=we(t,c);return p.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||c.current)}),s?null:r.jsx(ve.div,{...o,ref:u})});tj.displayName=ej;var rv="PopperContent",[RA,LA]=Y1(rv),nj=p.forwardRef((e,t)=>{var ue,je,Ie,Me,Oe,Le;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:j,...w}=e,C=X1(rv,n),[b,_]=p.useState(null),S=we(t,bt=>_(bt)),[P,k]=p.useState(null),M=lh(P),R=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,z=s+(a!=="center"?"-"+a:""),B=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},D=Array.isArray(f)?f:[f],K=D.length>0,X={padding:B,boundary:D.filter(IA),altBoundary:K},{refs:G,floatingStyles:de,placement:Z,isPositioned:W,middlewareData:O}=wA({strategy:"fixed",placement:z,whileElementsMounted:(...bt)=>hA(...bt,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[_A({mainAxis:o+T,alignmentAxis:c}),d&&jA({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?NA():void 0,...X}),d&&CA({...X}),SA({...X,apply:({elements:bt,rects:Dt,availableWidth:ur,availableHeight:qn})=>{const{width:qt,height:Or}=Dt.reference,Ot=bt.floating.style;Ot.setProperty("--radix-popper-available-width",`${ur}px`),Ot.setProperty("--radix-popper-available-height",`${qn}px`),Ot.setProperty("--radix-popper-anchor-width",`${qt}px`),Ot.setProperty("--radix-popper-anchor-height",`${Or}px`)}}),P&&kA({element:P,padding:u}),DA({arrowWidth:R,arrowHeight:T}),v&&PA({strategy:"referenceHidden",...X})]}),[H,q]=ij(Z),$=st(j);dt(()=>{W&&($==null||$())},[W,$]);const ee=(ue=O.arrow)==null?void 0:ue.x,se=(je=O.arrow)==null?void 0:je.y,J=((Ie=O.arrow)==null?void 0:Ie.centerOffset)!==0,[ge,te]=p.useState();return dt(()=>{b&&te(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:W?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Me=O.transformOrigin)==null?void 0:Me.x,(Oe=O.transformOrigin)==null?void 0:Oe.y].join(" "),...((Le=O.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(RA,{scope:n,placedSide:H,onArrowChange:k,arrowX:ee,arrowY:se,shouldHideArrow:J,children:r.jsx(ve.div,{"data-side":H,"data-align":q,...w,ref:S,style:{...w.style,animation:W?void 0:"none"}})})})});nj.displayName=rv;var rj="PopperArrow",AA={top:"bottom",right:"left",bottom:"top",left:"right"},sj=p.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,a=LA(rj,s),c=AA[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(TA,{...o,ref:n,style:{...o.style,display:"block"}})})});sj.displayName=rj;function IA(e){return e!==null}var DA=e=>({name:"transformOrigin",options:e,fn(t){var C,b,_;const{placement:n,rects:s,middlewareData:o}=t,c=((C=o.arrow)==null?void 0:C.centerOffset)!==0,u=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[f,g]=ij(n),m={start:"0%",center:"50%",end:"100%"}[g],v=(((b=o.arrow)==null?void 0:b.x)??0)+u/2,y=(((_=o.arrow)==null?void 0:_.y)??0)+d/2;let j="",w="";return f==="bottom"?(j=c?m:`${v}px`,w=`${-d}px`):f==="top"?(j=c?m:`${v}px`,w=`${s.floating.height+d}px`):f==="right"?(j=`${-d}px`,w=c?m:`${y}px`):f==="left"&&(j=`${s.floating.width+d}px`,w=c?m:`${y}px`),{data:{x:j,y:w}}}});function ij(e){const[t,n="center"]=e.split("-");return[t,n]}var oj=J1,sv=tj,iv=nj,ov=sj,[ch,S$]=At("Tooltip",[Ta]),av=Ta(),aj="TooltipProvider",OA=700,M0="tooltip.open",[zA,lj]=ch(aj),cj=e=>{const{__scopeTooltip:t,delayDuration:n=OA,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=e,c=p.useRef(!0),u=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),r.jsx(zA,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:p.useCallback(f=>{u.current=f},[]),disableHoverableContent:o,children:a})};cj.displayName=aj;var uj="Tooltip",[P$,uh]=ch(uj),dp="TooltipTrigger",FA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=uh(dp,n),a=lj(dp,n),c=av(n),u=p.useRef(null),d=we(t,u,o.onTriggerChange),f=p.useRef(!1),g=p.useRef(!1),m=p.useCallback(()=>f.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(sv,{asChild:!0,...c,children:r.jsx(ve.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:d,onPointerMove:re(e.onPointerMove,v=>{v.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),g.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{o.onTriggerLeave(),g.current=!1}),onPointerDown:re(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:re(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:re(e.onBlur,o.onClose),onClick:re(e.onClick,o.onClose)})})});FA.displayName=dp;var $A="TooltipPortal",[k$,BA]=ch($A,{forceMount:void 0}),ya="TooltipContent",dj=p.forwardRef((e,t)=>{const n=BA(ya,e.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...a}=e,c=uh(ya,e.__scopeTooltip);return r.jsx(Hn,{present:s||c.open,children:c.disableHoverableContent?r.jsx(hj,{side:o,...a,ref:t}):r.jsx(UA,{side:o,...a,ref:t})})}),UA=p.forwardRef((e,t)=>{const n=uh(ya,e.__scopeTooltip),s=lj(ya,e.__scopeTooltip),o=p.useRef(null),a=we(t,o),[c,u]=p.useState(null),{trigger:d,onClose:f}=n,g=o.current,{onPointerInTransitChange:m}=s,v=p.useCallback(()=>{u(null),m(!1)},[m]),y=p.useCallback((j,w)=>{const C=j.currentTarget,b={x:j.clientX,y:j.clientY},_=ZA(b,C.getBoundingClientRect()),S=KA(b,_),P=GA(w.getBoundingClientRect()),k=YA([...S,...P]);u(k),m(!0)},[m]);return p.useEffect(()=>()=>v(),[v]),p.useEffect(()=>{if(d&&g){const j=C=>y(C,g),w=C=>y(C,d);return d.addEventListener("pointerleave",j),g.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",j),g.removeEventListener("pointerleave",w)}}},[d,g,y,v]),p.useEffect(()=>{if(c){const j=w=>{const C=w.target,b={x:w.clientX,y:w.clientY},_=(d==null?void 0:d.contains(C))||(g==null?void 0:g.contains(C)),S=!QA(b,c);_?v():S&&(v(),f())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[d,g,c,f,v]),r.jsx(hj,{...e,ref:a})}),[VA,HA]=ch(uj,{isInside:!1}),WA=K_("TooltipContent"),hj=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...u}=e,d=uh(ya,n),f=av(n),{onClose:g}=d;return p.useEffect(()=>(document.addEventListener(M0,g),()=>document.removeEventListener(M0,g)),[g]),p.useEffect(()=>{if(d.trigger){const m=v=>{const y=v.target;y!=null&&y.contains(d.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,g]),r.jsx(Sa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:r.jsxs(iv,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(WA,{children:s}),r.jsx(VA,{scope:n,isInside:!0,children:r.jsx(yM,{id:d.contentId,role:"tooltip",children:o||s})})]})})});dj.displayName=ya;var fj="TooltipArrow",qA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,o=av(n);return HA(fj,n).isInside?null:r.jsx(ov,{...o,...s,ref:t})});qA.displayName=fj;function ZA(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,o,a)){case a:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function KA(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function GA(e){const{top:t,right:n,bottom:s,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:s},{x:o,y:s}]}function QA(e,t){const{x:n,y:s}=e;let o=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const u=t[a].x,d=t[a].y,f=t[c].x,g=t[c].y;d>s!=g>s&&n<(f-u)*(s-d)/(g-d)+u&&(o=!o)}return o}function YA(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),XA(t)}function XA(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const o=e[s];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const o=e[s];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var JA=cj,mj=dj;const e4=JA,t4=p.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(mj,{ref:s,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));t4.displayName=mj.displayName;var Ma=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gi=typeof window>"u"||"Deno"in globalThis;function An(){}function n4(e,t){return typeof e=="function"?e(t):e}function hp(e){return typeof e=="number"&&e>=0&&e!==1/0}function pj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zo(e,t){return typeof e=="function"?e(t):e}function tr(e,t){return typeof e=="function"?e(t):e}function R0(e,t){const{type:n="all",exact:s,fetchStatus:o,predicate:a,queryKey:c,stale:u}=e;if(c){if(s){if(t.queryHash!==lv(c,t.options))return!1}else if(!tc(t.queryKey,c))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||o&&o!==t.state.fetchStatus||a&&!a(t))}function L0(e,t){const{exact:n,status:s,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Qi(t.options.mutationKey)!==Qi(a))return!1}else if(!tc(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function lv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qi)(e)}function Qi(e){return JSON.stringify(e,(t,n)=>fp(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n)}function tc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!tc(e[n],t[n])):!1}function gj(e,t){if(e===t)return e;const n=A0(e)&&A0(t);if(n||fp(e)&&fp(t)){const s=n?e:Object.keys(e),o=s.length,a=n?t:Object.keys(t),c=a.length,u=n?[]:{};let d=0;for(let f=0;f<c;f++){const g=n?f:a[f];(!n&&s.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,d++):(u[g]=gj(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&d++)}return o===c&&d===o?e:u}return t}function Td(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function A0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fp(e){if(!I0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!I0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function I0(e){return Object.prototype.toString.call(e)==="[object Object]"}function r4(e){return new Promise(t=>{setTimeout(t,e)})}function mp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?gj(e,t):t}function s4(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function i4(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var cv=Symbol();function vj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ki,ks,Yo,jw,o4=(jw=class extends Ma{constructor(){super();xe(this,ki);xe(this,ks);xe(this,Yo);fe(this,Yo,t=>{if(!Gi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,ks)||this.setEventListener(I(this,Yo))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,ks))==null||t.call(this),fe(this,ks,void 0))}setEventListener(t){var n;fe(this,Yo,t),(n=I(this,ks))==null||n.call(this),fe(this,ks,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){I(this,ki)!==t&&(fe(this,ki,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof I(this,ki)=="boolean"?I(this,ki):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ki=new WeakMap,ks=new WeakMap,Yo=new WeakMap,jw),uv=new o4,Xo,Es,Jo,Nw,a4=(Nw=class extends Ma{constructor(){super();xe(this,Xo,!0);xe(this,Es);xe(this,Jo);fe(this,Jo,t=>{if(!Gi&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){I(this,Es)||this.setEventListener(I(this,Jo))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Es))==null||t.call(this),fe(this,Es,void 0))}setEventListener(t){var n;fe(this,Jo,t),(n=I(this,Es))==null||n.call(this),fe(this,Es,t(this.setOnline.bind(this)))}setOnline(t){I(this,Xo)!==t&&(fe(this,Xo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return I(this,Xo)}},Xo=new WeakMap,Es=new WeakMap,Jo=new WeakMap,Nw),Md=new a4;function pp(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function s(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{s({status:"fulfilled",value:o}),e(o)},n.reject=o=>{s({status:"rejected",reason:o}),t(o)},n}function l4(e){return Math.min(1e3*2**e,3e4)}function xj(e){return(e??"online")==="online"?Md.isOnline():!0}var yj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zf(e){return e instanceof yj}function wj(e){let t=!1,n=0,s=!1,o;const a=pp(),c=w=>{var C;s||(v(new yj(w)),(C=e.abort)==null||C.call(e))},u=()=>{t=!0},d=()=>{t=!1},f=()=>uv.isFocused()&&(e.networkMode==="always"||Md.isOnline())&&e.canRun(),g=()=>xj(e.networkMode)&&e.canRun(),m=w=>{var C;s||(s=!0,(C=e.onSuccess)==null||C.call(e,w),o==null||o(),a.resolve(w))},v=w=>{var C;s||(s=!0,(C=e.onError)==null||C.call(e,w),o==null||o(),a.reject(w))},y=()=>new Promise(w=>{var C;o=b=>{(s||f())&&w(b)},(C=e.onPause)==null||C.call(e)}).then(()=>{var w;o=void 0,s||(w=e.onContinue)==null||w.call(e)}),j=()=>{if(s)return;let w;const C=n===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(m).catch(b=>{var M;if(s)return;const _=e.retry??(Gi?0:3),S=e.retryDelay??l4,P=typeof S=="function"?S(n,b):S,k=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,b);if(t||!k){v(b);return}n++,(M=e.onFail)==null||M.call(e,n,b),r4(P).then(()=>f()?void 0:y()).then(()=>{t?v(b):j()})})};return{promise:a,cancel:c,continue:()=>(o==null||o(),a),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?j():y().then(j),a)}}function c4(){let e=[],t=0,n=u=>{u()},s=u=>{u()},o=u=>setTimeout(u,0);const a=u=>{t?e.push(u):o(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&o(()=>{s(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||c()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{o=u}}}var jt=c4(),Ei,Cw,bj=(Cw=class{constructor(){xe(this,Ei)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hp(this.gcTime)&&fe(this,Ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gi?1/0:5*60*1e3))}clearGcTimeout(){I(this,Ei)&&(clearTimeout(I(this,Ei)),fe(this,Ei,void 0))}},Ei=new WeakMap,Cw),ea,ta,Ln,Ut,ac,Ti,Xn,Wr,Sw,u4=(Sw=class extends bj{constructor(t){super();xe(this,Xn);xe(this,ea);xe(this,ta);xe(this,Ln);xe(this,Ut);xe(this,ac);xe(this,Ti);fe(this,Ti,!1),fe(this,ac,t.defaultOptions),this.setOptions(t.options),this.observers=[],fe(this,Ln,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,fe(this,ea,d4(this.options)),this.state=t.state??I(this,ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,Ut))==null?void 0:t.promise}setOptions(t){this.options={...I(this,ac),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Ln).remove(this)}setData(t,n){const s=mp(this.state.data,t,this.options);return Te(this,Xn,Wr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Te(this,Xn,Wr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,o;const n=(s=I(this,Ut))==null?void 0:s.promise;return(o=I(this,Ut))==null||o.cancel(t),n?n.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,ea))}isActive(){return this.observers.some(t=>tr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!pj(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,Ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,Ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,Ln).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(I(this,Ut)&&(I(this,Ti)?I(this,Ut).cancel({revert:!0}):I(this,Ut).cancelRetry()),this.scheduleGc()),I(this,Ln).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,Xn,Wr).call(this,{type:"invalidate"})}fetch(t,n){var d,f,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,Ut))return I(this,Ut).continueRetry(),I(this,Ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(fe(this,Ti,!0),s.signal)})},a=()=>{const m=vj(this.options,n),v={queryKey:this.queryKey,meta:this.meta};return o(v),fe(this,Ti,!1),this.options.persister?this.options.persister(m,v,this):m(v)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(c),(d=this.options.behavior)==null||d.onFetch(c,this),fe(this,ta,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Te(this,Xn,Wr).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=m=>{var v,y,j,w;Zf(m)&&m.silent||Te(this,Xn,Wr).call(this,{type:"error",error:m}),Zf(m)||((y=(v=I(this,Ln).config).onError)==null||y.call(v,m,this),(w=(j=I(this,Ln).config).onSettled)==null||w.call(j,this.state.data,m,this)),this.scheduleGc()};return fe(this,Ut,wj({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var v,y,j,w;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(C){u(C);return}(y=(v=I(this,Ln).config).onSuccess)==null||y.call(v,m,this),(w=(j=I(this,Ln).config).onSettled)==null||w.call(j,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,v)=>{Te(this,Xn,Wr).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{Te(this,Xn,Wr).call(this,{type:"pause"})},onContinue:()=>{Te(this,Xn,Wr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),I(this,Ut).start()}},ea=new WeakMap,ta=new WeakMap,Ln=new WeakMap,Ut=new WeakMap,ac=new WeakMap,Ti=new WeakMap,Xn=new WeakSet,Wr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,..._j(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Zf(o)&&o.revert&&I(this,ta)?{...I(this,ta),fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),jt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),I(this,Ln).notify({query:this,type:"updated",action:t})})},Sw);function _j(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function d4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,Pw,h4=(Pw=class extends Ma{constructor(t={}){super();xe(this,xr);this.config=t,fe(this,xr,new Map)}build(t,n,s){const o=n.queryKey,a=n.queryHash??lv(o,n);let c=this.get(a);return c||(c=new u4({cache:this,queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(c)),c}add(t){I(this,xr).has(t.queryHash)||(I(this,xr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=I(this,xr).get(t.queryHash);n&&(t.destroy(),n===t&&I(this,xr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,xr).get(t)}getAll(){return[...I(this,xr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>R0(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>R0(t,s)):n}notify(t){jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xr=new WeakMap,Pw),yr,Gt,Mi,wr,bs,kw,f4=(kw=class extends bj{constructor(t){super();xe(this,wr);xe(this,yr);xe(this,Gt);xe(this,Mi);this.mutationId=t.mutationId,fe(this,Gt,t.mutationCache),fe(this,yr,[]),this.state=t.state||jj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,yr).includes(t)||(I(this,yr).push(t),this.clearGcTimeout(),I(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){fe(this,yr,I(this,yr).filter(n=>n!==t)),this.scheduleGc(),I(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,yr).length||(this.state.status==="pending"?this.scheduleGc():I(this,Gt).remove(this))}continue(){var t;return((t=I(this,Mi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,d,f,g,m,v,y,j,w,C,b,_,S,P,k,M,R;fe(this,Mi,wj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,z)=>{Te(this,wr,bs).call(this,{type:"failed",failureCount:T,error:z})},onPause:()=>{Te(this,wr,bs).call(this,{type:"pause"})},onContinue:()=>{Te(this,wr,bs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Gt).canRun(this)}));const n=this.state.status==="pending",s=!I(this,Mi).canStart();try{if(!n){Te(this,wr,bs).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=I(this,Gt).config).onMutate)==null?void 0:a.call(o,t,this));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));z!==this.state.context&&Te(this,wr,bs).call(this,{type:"pending",context:z,variables:t,isPaused:s})}const T=await I(this,Mi).start();return await((f=(d=I(this,Gt).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this)),await((m=(g=this.options).onSuccess)==null?void 0:m.call(g,T,t,this.state.context)),await((y=(v=I(this,Gt).config).onSettled)==null?void 0:y.call(v,T,null,this.state.variables,this.state.context,this)),await((w=(j=this.options).onSettled)==null?void 0:w.call(j,T,null,t,this.state.context)),Te(this,wr,bs).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(C=I(this,Gt).config).onError)==null?void 0:b.call(C,T,t,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,T,t,this.state.context)),await((k=(P=I(this,Gt).config).onSettled)==null?void 0:k.call(P,void 0,T,this.state.variables,this.state.context,this)),await((R=(M=this.options).onSettled)==null?void 0:R.call(M,void 0,T,t,this.state.context)),T}finally{Te(this,wr,bs).call(this,{type:"error",error:T})}}finally{I(this,Gt).runNext(this)}}},yr=new WeakMap,Gt=new WeakMap,Mi=new WeakMap,wr=new WeakSet,bs=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),jt.batch(()=>{I(this,yr).forEach(s=>{s.onMutationUpdate(t)}),I(this,Gt).notify({mutation:this,type:"updated",action:t})})},kw);function jj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wn,lc,Ew,m4=(Ew=class extends Ma{constructor(t={}){super();xe(this,wn);xe(this,lc);this.config=t,fe(this,wn,new Map),fe(this,lc,Date.now())}build(t,n,s){const o=new f4({mutationCache:this,mutationId:++nu(this,lc)._,options:t.defaultMutationOptions(n),state:s});return this.add(o),o}add(t){const n=Cu(t),s=I(this,wn).get(n)??[];s.push(t),I(this,wn).set(n,s),this.notify({type:"added",mutation:t})}remove(t){var s;const n=Cu(t);if(I(this,wn).has(n)){const o=(s=I(this,wn).get(n))==null?void 0:s.filter(a=>a!==t);o&&(o.length===0?I(this,wn).delete(n):I(this,wn).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const n=(s=I(this,wn).get(Cu(t)))==null?void 0:s.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var s;const n=(s=I(this,wn).get(Cu(t)))==null?void 0:s.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...I(this,wn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(s=>L0(n,s))}findAll(t={}){return this.getAll().filter(n=>L0(t,n))}notify(t){jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return jt.batch(()=>Promise.all(t.map(n=>n.continue().catch(An))))}},wn=new WeakMap,lc=new WeakMap,Ew);function Cu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function D0(e){return{onFetch:(t,n)=>{var g,m,v,y,j;const s=t.options,o=(v=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],c=((j=t.state.data)==null?void 0:j.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let w=!1;const C=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},b=vj(t.options,t.fetchOptions),_=async(S,P,k)=>{if(w)return Promise.reject();if(P==null&&S.pages.length)return Promise.resolve(S);const M={queryKey:t.queryKey,pageParam:P,direction:k?"backward":"forward",meta:t.options.meta};C(M);const R=await b(M),{maxPages:T}=t.options,z=k?i4:s4;return{pages:z(S.pages,R,T),pageParams:z(S.pageParams,P,T)}};if(o&&a.length){const S=o==="backward",P=S?p4:O0,k={pages:a,pageParams:c},M=P(s,k);u=await _(k,M,S)}else{const S=e??a.length;do{const P=d===0?c[0]??s.initialPageParam:O0(s,u);if(d>0&&P==null)break;u=await _(u,P),d++}while(d<S)}return u};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function O0(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function p4(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var ht,Ts,Ms,na,ra,Rs,sa,ia,Tw,g4=(Tw=class{constructor(e={}){xe(this,ht);xe(this,Ts);xe(this,Ms);xe(this,na);xe(this,ra);xe(this,Rs);xe(this,sa);xe(this,ia);fe(this,ht,e.queryCache||new h4),fe(this,Ts,e.mutationCache||new m4),fe(this,Ms,e.defaultOptions||{}),fe(this,na,new Map),fe(this,ra,new Map),fe(this,Rs,0)}mount(){nu(this,Rs)._++,I(this,Rs)===1&&(fe(this,sa,uv.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,ht).onFocus())})),fe(this,ia,Md.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,ht).onOnline())})))}unmount(){var e,t;nu(this,Rs)._--,I(this,Rs)===0&&((e=I(this,sa))==null||e.call(this),fe(this,sa,void 0),(t=I(this,ia))==null||t.call(this),fe(this,ia,void 0))}isFetching(e){return I(this,ht).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,Ts).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,ht).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=I(this,ht).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(Zo(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return I(this,ht).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),o=I(this,ht).get(s.queryHash),a=o==null?void 0:o.state.data,c=n4(t,a);if(c!==void 0)return I(this,ht).build(this,s).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return jt.batch(()=>I(this,ht).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,ht).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=I(this,ht);jt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=I(this,ht),s={type:"active",...e};return jt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=jt.batch(()=>I(this,ht).findAll(e).map(o=>o.cancel(n)));return Promise.all(s).then(An).catch(An)}invalidateQueries(e={},t={}){return jt.batch(()=>{if(I(this,ht).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=jt.batch(()=>I(this,ht).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(An)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(An)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=I(this,ht).build(this,t);return n.isStaleByTime(Zo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(An).catch(An)}fetchInfiniteQuery(e){return e.behavior=D0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(An).catch(An)}ensureInfiniteQueryData(e){return e.behavior=D0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Md.isOnline()?I(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,ht)}getMutationCache(){return I(this,Ts)}getDefaultOptions(){return I(this,Ms)}setDefaultOptions(e){fe(this,Ms,e)}setQueryDefaults(e,t){I(this,na).set(Qi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,na).values()];let n={};return t.forEach(s=>{tc(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){I(this,ra).set(Qi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,ra).values()];let n={};return t.forEach(s=>{tc(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,Ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===cv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,Ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,ht).clear(),I(this,Ts).clear()}},ht=new WeakMap,Ts=new WeakMap,Ms=new WeakMap,na=new WeakMap,ra=new WeakMap,Rs=new WeakMap,sa=new WeakMap,ia=new WeakMap,Tw),an,De,cc,Qt,Ri,oa,Ls,br,uc,aa,la,Li,Ai,As,ca,He,wl,gp,vp,xp,yp,wp,bp,_p,Nj,Mw,v4=(Mw=class extends Ma{constructor(t,n){super();xe(this,He);xe(this,an);xe(this,De);xe(this,cc);xe(this,Qt);xe(this,Ri);xe(this,oa);xe(this,Ls);xe(this,br);xe(this,uc);xe(this,aa);xe(this,la);xe(this,Li);xe(this,Ai);xe(this,As);xe(this,ca,new Set);this.options=n,fe(this,an,t),fe(this,br,null),fe(this,Ls,pp()),this.options.experimental_prefetchInRender||I(this,Ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,De).addObserver(this),z0(I(this,De),this.options)?Te(this,He,wl).call(this):this.updateResult(),Te(this,He,yp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jp(I(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jp(I(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,He,wp).call(this),Te(this,He,bp).call(this),I(this,De).removeObserver(this)}setOptions(t,n){const s=this.options,o=I(this,De);if(this.options=I(this,an).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof tr(this.options.enabled,I(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,He,_p).call(this),I(this,De).setOptions(this.options),s._defaulted&&!Td(this.options,s)&&I(this,an).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,De),observer:this});const a=this.hasListeners();a&&F0(I(this,De),o,this.options,s)&&Te(this,He,wl).call(this),this.updateResult(n),a&&(I(this,De)!==o||tr(this.options.enabled,I(this,De))!==tr(s.enabled,I(this,De))||Zo(this.options.staleTime,I(this,De))!==Zo(s.staleTime,I(this,De)))&&Te(this,He,gp).call(this);const c=Te(this,He,vp).call(this);a&&(I(this,De)!==o||tr(this.options.enabled,I(this,De))!==tr(s.enabled,I(this,De))||c!==I(this,As))&&Te(this,He,xp).call(this,c)}getOptimisticResult(t){const n=I(this,an).getQueryCache().build(I(this,an),t),s=this.createResult(n,t);return y4(this,s)&&(fe(this,Qt,s),fe(this,oa,this.options),fe(this,Ri,I(this,De).state)),s}getCurrentResult(){return I(this,Qt)}trackResult(t,n){const s={};return Object.keys(t).forEach(o=>{Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),t[o])})}),s}trackProp(t){I(this,ca).add(t)}getCurrentQuery(){return I(this,De)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=I(this,an).defaultQueryOptions(t),s=I(this,an).getQueryCache().build(I(this,an),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Te(this,He,wl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,Qt)))}createResult(t,n){var T;const s=I(this,De),o=this.options,a=I(this,Qt),c=I(this,Ri),u=I(this,oa),f=t!==s?t.state:I(this,cc),{state:g}=t;let m={...g},v=!1,y;if(n._optimisticResults){const z=this.hasListeners(),B=!z&&z0(t,n),D=z&&F0(t,s,n,o);(B||D)&&(m={...m,..._j(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:j,errorUpdatedAt:w,status:C}=m;if(n.select&&m.data!==void 0)if(a&&m.data===(c==null?void 0:c.data)&&n.select===I(this,uc))y=I(this,aa);else try{fe(this,uc,n.select),y=n.select(m.data),y=mp(a==null?void 0:a.data,y,n),fe(this,aa,y),fe(this,br,null)}catch(z){fe(this,br,z)}else y=m.data;if(n.placeholderData!==void 0&&y===void 0&&C==="pending"){let z;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData))z=a.data;else if(z=typeof n.placeholderData=="function"?n.placeholderData((T=I(this,la))==null?void 0:T.state.data,I(this,la)):n.placeholderData,n.select&&z!==void 0)try{z=n.select(z),fe(this,br,null)}catch(B){fe(this,br,B)}z!==void 0&&(C="success",y=mp(a==null?void 0:a.data,z,n),v=!0)}I(this,br)&&(j=I(this,br),y=I(this,aa),w=Date.now(),C="error");const b=m.fetchStatus==="fetching",_=C==="pending",S=C==="error",P=_&&b,k=y!==void 0,R={status:C,fetchStatus:m.fetchStatus,isPending:_,isSuccess:C==="success",isError:S,isInitialLoading:P,isLoading:P,data:y,dataUpdatedAt:m.dataUpdatedAt,error:j,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:S&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:S&&k,isStale:dv(t,n),refetch:this.refetch,promise:I(this,Ls)};if(this.options.experimental_prefetchInRender){const z=K=>{R.status==="error"?K.reject(R.error):R.data!==void 0&&K.resolve(R.data)},B=()=>{const K=fe(this,Ls,R.promise=pp());z(K)},D=I(this,Ls);switch(D.status){case"pending":t.queryHash===s.queryHash&&z(D);break;case"fulfilled":(R.status==="error"||R.data!==D.value)&&B();break;case"rejected":(R.status!=="error"||R.error!==D.reason)&&B();break}}return R}updateResult(t){const n=I(this,Qt),s=this.createResult(I(this,De),this.options);if(fe(this,Ri,I(this,De).state),fe(this,oa,this.options),I(this,Ri).data!==void 0&&fe(this,la,I(this,De)),Td(s,n))return;fe(this,Qt,s);const o={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!I(this,ca).size)return!0;const d=new Set(u??I(this,ca));return this.options.throwOnError&&d.add("error"),Object.keys(I(this,Qt)).some(f=>{const g=f;return I(this,Qt)[g]!==n[g]&&d.has(g)})};(t==null?void 0:t.listeners)!==!1&&a()&&(o.listeners=!0),Te(this,He,Nj).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,He,yp).call(this)}},an=new WeakMap,De=new WeakMap,cc=new WeakMap,Qt=new WeakMap,Ri=new WeakMap,oa=new WeakMap,Ls=new WeakMap,br=new WeakMap,uc=new WeakMap,aa=new WeakMap,la=new WeakMap,Li=new WeakMap,Ai=new WeakMap,As=new WeakMap,ca=new WeakMap,He=new WeakSet,wl=function(t){Te(this,He,_p).call(this);let n=I(this,De).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(An)),n},gp=function(){Te(this,He,wp).call(this);const t=Zo(this.options.staleTime,I(this,De));if(Gi||I(this,Qt).isStale||!hp(t))return;const s=pj(I(this,Qt).dataUpdatedAt,t)+1;fe(this,Li,setTimeout(()=>{I(this,Qt).isStale||this.updateResult()},s))},vp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,De)):this.options.refetchInterval)??!1},xp=function(t){Te(this,He,bp).call(this),fe(this,As,t),!(Gi||tr(this.options.enabled,I(this,De))===!1||!hp(I(this,As))||I(this,As)===0)&&fe(this,Ai,setInterval(()=>{(this.options.refetchIntervalInBackground||uv.isFocused())&&Te(this,He,wl).call(this)},I(this,As)))},yp=function(){Te(this,He,gp).call(this),Te(this,He,xp).call(this,Te(this,He,vp).call(this))},wp=function(){I(this,Li)&&(clearTimeout(I(this,Li)),fe(this,Li,void 0))},bp=function(){I(this,Ai)&&(clearInterval(I(this,Ai)),fe(this,Ai,void 0))},_p=function(){const t=I(this,an).getQueryCache().build(I(this,an),this.options);if(t===I(this,De))return;const n=I(this,De);fe(this,De,t),fe(this,cc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Nj=function(t){jt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(I(this,Qt))}),I(this,an).getQueryCache().notify({query:I(this,De),type:"observerResultsUpdated"})})},Mw);function x4(e,t){return tr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function z0(e,t){return x4(e,t)||e.state.data!==void 0&&jp(e,t,t.refetchOnMount)}function jp(e,t,n){if(tr(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&dv(e,t)}return!1}function F0(e,t,n,s){return(e!==t||tr(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&dv(e,n)}function dv(e,t){return tr(t.enabled,e)!==!1&&e.isStaleByTime(Zo(t.staleTime,e))}function y4(e,t){return!Td(e.getCurrentResult(),t)}var Is,Ds,ln,Kr,es,Gu,Np,Rw,w4=(Rw=class extends Ma{constructor(n,s){super();xe(this,es);xe(this,Is);xe(this,Ds);xe(this,ln);xe(this,Kr);fe(this,Is,n),this.setOptions(s),this.bindMethods(),Te(this,es,Gu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const s=this.options;this.options=I(this,Is).defaultMutationOptions(n),Td(this.options,s)||I(this,Is).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,ln),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Qi(s.mutationKey)!==Qi(this.options.mutationKey)?this.reset():((o=I(this,ln))==null?void 0:o.state.status)==="pending"&&I(this,ln).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=I(this,ln))==null||n.removeObserver(this)}onMutationUpdate(n){Te(this,es,Gu).call(this),Te(this,es,Np).call(this,n)}getCurrentResult(){return I(this,Ds)}reset(){var n;(n=I(this,ln))==null||n.removeObserver(this),fe(this,ln,void 0),Te(this,es,Gu).call(this),Te(this,es,Np).call(this)}mutate(n,s){var o;return fe(this,Kr,s),(o=I(this,ln))==null||o.removeObserver(this),fe(this,ln,I(this,Is).getMutationCache().build(I(this,Is),this.options)),I(this,ln).addObserver(this),I(this,ln).execute(n)}},Is=new WeakMap,Ds=new WeakMap,ln=new WeakMap,Kr=new WeakMap,es=new WeakSet,Gu=function(){var s;const n=((s=I(this,ln))==null?void 0:s.state)??jj();fe(this,Ds,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Np=function(n){jt.batch(()=>{var s,o,a,c,u,d,f,g;if(I(this,Kr)&&this.hasListeners()){const m=I(this,Ds).variables,v=I(this,Ds).context;(n==null?void 0:n.type)==="success"?((o=(s=I(this,Kr)).onSuccess)==null||o.call(s,n.data,m,v),(c=(a=I(this,Kr)).onSettled)==null||c.call(a,n.data,null,m,v)):(n==null?void 0:n.type)==="error"&&((d=(u=I(this,Kr)).onError)==null||d.call(u,n.error,m,v),(g=(f=I(this,Kr)).onSettled)==null||g.call(f,void 0,n.error,m,v))}this.listeners.forEach(m=>{m(I(this,Ds))})})},Rw),Cj=p.createContext(void 0),lr=e=>{const t=p.useContext(Cj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},b4=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(Cj.Provider,{value:e,children:t})),Sj=p.createContext(!1),_4=()=>p.useContext(Sj);Sj.Provider;function j4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var N4=p.createContext(j4()),C4=()=>p.useContext(N4);function Pj(e,t){return typeof e=="function"?e(...t):!!e}function Cp(){}var S4=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},P4=e=>{p.useEffect(()=>{e.clearReset()},[e])},k4=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&Pj(n,[e.error,s]),E4=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},T4=(e,t)=>e.isLoading&&e.isFetching&&!t,M4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function R4(e,t,n){var g,m,v,y,j;const s=lr(),o=_4(),a=C4(),c=s.defaultQueryOptions(e);(m=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||m.call(g,c),c._optimisticResults=o?"isRestoring":"optimistic",E4(c),S4(c,a),P4(a);const u=!s.getQueryCache().get(c.queryHash),[d]=p.useState(()=>new t(s,c)),f=d.getOptimisticResult(c);if(p.useSyncExternalStore(p.useCallback(w=>{const C=o?Cp:d.subscribe(jt.batchCalls(w));return d.updateResult(),C},[d,o]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),p.useEffect(()=>{d.setOptions(c,{listeners:!1})},[c,d]),M4(c,f))throw $0(c,d,a);if(k4({result:f,errorResetBoundary:a,throwOnError:c.throwOnError,query:s.getQueryCache().get(c.queryHash)}))throw f.error;if((y=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,c,f),c.experimental_prefetchInRender&&!Gi&&T4(f,o)){const w=u?$0(c,d,a):(j=s.getQueryCache().get(c.queryHash))==null?void 0:j.promise;w==null||w.catch(Cp).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?f:d.trackResult(f)}function Xe(e,t){return R4(e,v4)}function Ge(e,t){const n=lr(),[s]=p.useState(()=>new w4(n,e));p.useEffect(()=>{s.setOptions(e)},[s,e]);const o=p.useSyncExternalStore(p.useCallback(c=>s.subscribe(jt.batchCalls(c)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=p.useCallback((c,u)=>{s.mutate(c,u).catch(Cp)},[s]);if(o.error&&Pj(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B0="popstate";function L4(e={}){function t(s,o){let{pathname:a,search:c,hash:u}=s.location;return Sp("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:nc(o)}return I4(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A4(){return Math.random().toString(36).substring(2,10)}function U0(e,t){return{usr:e.state,key:e.key,idx:t}}function Sp(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ra(t):t,state:n,key:t&&t.key||s||A4()}}function nc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ra(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function I4(e,t,n,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,u="POP",d=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function m(){u="POP";let C=g(),b=C==null?null:C-f;f=C,d&&d({action:u,location:w.location,delta:b})}function v(C,b){u="PUSH";let _=Sp(w.location,C,b);f=g()+1;let S=U0(_,f),P=w.createHref(_);try{c.pushState(S,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(P)}a&&d&&d({action:u,location:w.location,delta:1})}function y(C,b){u="REPLACE";let _=Sp(w.location,C,b);f=g();let S=U0(_,f),P=w.createHref(_);c.replaceState(S,"",P),a&&d&&d({action:u,location:w.location,delta:0})}function j(C){return D4(C)}let w={get action(){return u},get location(){return e(o,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(B0,m),d=C,()=>{o.removeEventListener(B0,m),d=null}},createHref(C){return t(o,C)},createURL:j,encodeLocation(C){let b=j(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:y,go(C){return c.go(C)}};return w}function D4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:nc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function kj(e,t,n="/"){return O4(e,t,n,!1)}function O4(e,t,n,s){let o=typeof t=="string"?Ra(t):t,a=cs(o.pathname||"/",n);if(a==null)return null;let c=Ej(e);z4(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=G4(a);u=Z4(c[d],f,s)}return u}function Ej(e,t=[],n=[],s=""){let o=(a,c,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};d.relativePath.startsWith("/")&&(ct(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let f=Jr([s,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Ej(a.children,t,g,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:W4(f,a.index),routesMeta:g})};return e.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))o(a,c);else for(let d of Tj(a.path))o(a,c,d)}),t}function Tj(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=Tj(s.join("/")),u=[];return u.push(...c.map(d=>d===""?a:[a,d].join("/"))),o&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function z4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:q4(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var F4=/^:[\w-]+$/,$4=3,B4=2,U4=1,V4=10,H4=-2,V0=e=>e==="*";function W4(e,t){let n=e.split("/"),s=n.length;return n.some(V0)&&(s+=H4),t&&(s+=B4),n.filter(o=>!V0(o)).reduce((o,a)=>o+(F4.test(a)?$4:a===""?U4:V4),s)}function q4(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function Z4(e,t,n=!1){let{routesMeta:s}=e,o={},a="/",c=[];for(let u=0;u<s.length;++u){let d=s[u],f=u===s.length-1,g=a==="/"?t:t.slice(a.length)||"/",m=Rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!m&&f&&n&&!s[s.length-1].route.index&&(m=Rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!m)return null;Object.assign(o,m.params),c.push({params:o,pathname:Jr([a,m.pathname]),pathnameBase:J4(Jr([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=Jr([a,m.pathnameBase]))}return c}function Rd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=K4(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:s.reduce((f,{paramName:g,isOptional:m},v)=>{if(g==="*"){let j=u[v]||"";c=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=u[v];return m&&!y?f[g]=void 0:f[g]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:c,pattern:e}}function K4(e,t=!1,n=!0){Lr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function G4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Q4(e,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Ra(e):e;return{pathname:n?n.startsWith("/")?n:Y4(n,t):t,search:eI(s),hash:tI(o)}}function Y4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kf(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mj(e){let t=X4(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Rj(e,t,n,s=!1){let o;typeof e=="string"?o=Ra(e):(o={...e},ct(!o.pathname||!o.pathname.includes("?"),Kf("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Kf("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Kf("#","search","hash",o)));let a=e===""||o.pathname==="",c=a?"/":o.pathname,u;if(c==null)u=n;else{let m=t.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;o.pathname=v.join("/")}u=m>=0?t[m]:"/"}let d=Q4(o,u),f=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Jr=e=>e.join("/").replace(/\/\/+/g,"/"),J4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Lj=["POST","PUT","PATCH","DELETE"];new Set(Lj);var rI=["GET",...Lj];new Set(rI);var La=p.createContext(null);La.displayName="DataRouter";var dh=p.createContext(null);dh.displayName="DataRouterState";p.createContext(!1);var Aj=p.createContext({isTransitioning:!1});Aj.displayName="ViewTransition";var sI=p.createContext(new Map);sI.displayName="Fetchers";var iI=p.createContext(null);iI.displayName="Await";var Ir=p.createContext(null);Ir.displayName="Navigation";var bc=p.createContext(null);bc.displayName="Location";var ds=p.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var hv=p.createContext(null);hv.displayName="RouteError";function oI(e,{relative:t}={}){ct(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=p.useContext(Ir),{hash:o,pathname:a,search:c}=jc(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:Jr([n,a])),s.createHref({pathname:u,search:c,hash:o})}function _c(){return p.useContext(bc)!=null}function ui(){return ct(_c(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(bc).location}var Ij="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dj(e){p.useContext(Ir).static||p.useLayoutEffect(e)}function En(){let{isDataRoute:e}=p.useContext(ds);return e?yI():aI()}function aI(){ct(_c(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(La),{basename:t,navigator:n}=p.useContext(Ir),{matches:s}=p.useContext(ds),{pathname:o}=ui(),a=JSON.stringify(Mj(s)),c=p.useRef(!1);return Dj(()=>{c.current=!0}),p.useCallback((d,f={})=>{if(Lr(c.current,Ij),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Rj(d,JSON.parse(a),o,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Jr([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,a,o,e])}p.createContext(null);function jc(e,{relative:t}={}){let{matches:n}=p.useContext(ds),{pathname:s}=ui(),o=JSON.stringify(Mj(n));return p.useMemo(()=>Rj(e,JSON.parse(o),s,t==="path"),[e,o,s,t])}function lI(e,t){return Oj(e,t)}function Oj(e,t,n,s){var b;ct(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=p.useContext(Ir),{matches:a}=p.useContext(ds),c=a[a.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let _=g&&g.path||"";zj(d,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=ui(),v;if(t){let _=typeof t=="string"?Ra(t):t;ct(f==="/"||((b=_.pathname)==null?void 0:b.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=m;let y=v.pathname||"/",j=y;if(f!=="/"){let _=f.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=kj(e,{pathname:j});Lr(g||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Lr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=fI(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Jr([f,o.encodeLocation?o.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Jr([f,o.encodeLocation?o.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,n,s);return t&&C?p.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function cI(){let e=xI(),t=nI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:a},"ErrorBoundary")," or"," ",p.createElement("code",{style:a},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:o},n):null,c)}var uI=p.createElement(cI,null),dI=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(ds.Provider,{value:this.props.routeContext},p.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hI({routeContext:e,match:t,children:n}){let s=p.useContext(La);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(ds.Provider,{value:e},n)}function fI(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n==null?void 0:n.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:m}=n,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let m,v=!1,y=null,j=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||uI,c&&(u<0&&g===0?(zj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):u===g&&(v=!0,j=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,g+1)),C=()=>{let b;return m?b=y:v?b=j:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(hI,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(dI,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function fv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mI(e){let t=p.useContext(La);return ct(t,fv(e)),t}function pI(e){let t=p.useContext(dh);return ct(t,fv(e)),t}function gI(e){let t=p.useContext(ds);return ct(t,fv(e)),t}function mv(e){let t=gI(e),n=t.matches[t.matches.length-1];return ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function vI(){return mv("useRouteId")}function xI(){var s;let e=p.useContext(hv),t=pI("useRouteError"),n=mv("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function yI(){let{router:e}=mI("useNavigate"),t=mv("useNavigate"),n=p.useRef(!1);return Dj(()=>{n.current=!0}),p.useCallback(async(o,a={})=>{Lr(n.current,Ij),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...a}))},[e,t])}var H0={};function zj(e,t,n){!t&&!H0[e]&&(H0[e]=!0,Lr(!1,n))}p.memo(wI);function wI({routes:e,future:t,state:n}){return Oj(e,void 0,n,t)}function Bt(e){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:a=!1}){ct(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=Ra(n));let{pathname:d="/",search:f="",hash:g="",state:m=null,key:v="default"}=n,y=p.useMemo(()=>{let j=cs(d,c);return j==null?null:{location:{pathname:j,search:f,hash:g,state:m,key:v},navigationType:s}},[c,d,f,g,m,v,s]);return Lr(y!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:p.createElement(Ir.Provider,{value:u},p.createElement(bc.Provider,{children:t,value:y}))}function _I({children:e,location:t}){return lI(Pp(e),t)}function Pp(e,t=[]){let n=[];return p.Children.forEach(e,(s,o)=>{if(!p.isValidElement(s))return;let a=[...t,o];if(s.type===p.Fragment){n.push.apply(n,Pp(s.props.children,a));return}ct(s.type===Bt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Pp(s.props.children,a)),n.push(c)}),n}var Qu="get",Yu="application/x-www-form-urlencoded";function hh(e){return e!=null&&typeof e.tagName=="string"}function jI(e){return hh(e)&&e.tagName.toLowerCase()==="button"}function NI(e){return hh(e)&&e.tagName.toLowerCase()==="form"}function CI(e){return hh(e)&&e.tagName.toLowerCase()==="input"}function SI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PI(e,t){return e.button===0&&(!t||t==="_self")&&!SI(e)}var Su=null;function kI(){if(Su===null)try{new FormData(document.createElement("form"),0),Su=!1}catch{Su=!0}return Su}var EI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gf(e){return e!=null&&!EI.has(e)?(Lr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yu}"`),null):e}function TI(e,t){let n,s,o,a,c;if(NI(e)){let u=e.getAttribute("action");s=u?cs(u,t):null,n=e.getAttribute("method")||Qu,o=Gf(e.getAttribute("enctype"))||Yu,a=new FormData(e)}else if(jI(e)||CI(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(s=d?cs(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Qu,o=Gf(e.getAttribute("formenctype"))||Gf(u.getAttribute("enctype"))||Yu,a=new FormData(u,e),!kI()){let{name:f,type:g,value:m}=e;if(g==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(hh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qu,s=null,o=Yu,c=e}return a&&o==="text/plain"&&(c=a,a=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MI(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&cs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function RI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AI(e,t,n){let s=await Promise.all(e.map(async o=>{let a=t.routes[o.route.id];if(a){let c=await RI(a,n);return c.links?c.links():[]}return[]}));return zI(s.flat(1).filter(LI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W0(e,t,n,s,o,a){let c=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var g;return n[f].pathname!==d.pathname||((g=n[f].route.path)==null?void 0:g.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,f)=>c(d,f)||u(d,f)):a==="data"?t.filter((d,f)=>{var m;let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function II(e,t,{includeHydrateFallback:n}={}){return DI(e.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function DI(e){return[...new Set(e)]}function OI(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function zI(e,t){let n=new Set;return new Set(t),e.reduce((s,o)=>{let a=JSON.stringify(OI(o));return n.has(a)||(n.add(a),s.push({key:a,link:o})),s},[])}function Fj(){let e=p.useContext(La);return pv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function FI(){let e=p.useContext(dh);return pv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gv=p.createContext(void 0);gv.displayName="FrameworkContext";function $j(){let e=p.useContext(gv);return pv(e,"You must render this element inside a <HydratedRouter> element"),e}function $I(e,t){let n=p.useContext(gv),[s,o]=p.useState(!1),[a,c]=p.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:m}=t,v=p.useRef(null);p.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=b=>{b.forEach(_=>{c(_.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[e]),p.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let y=()=>{o(!0)},j=()=>{o(!1),c(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:ml(u,y),onBlur:ml(d,j),onMouseEnter:ml(f,y),onMouseLeave:ml(g,j),onTouchStart:ml(m,y)}]:[!1,v,{}]}function ml(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function BI({page:e,...t}){let{router:n}=Fj(),s=p.useMemo(()=>kj(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?p.createElement(VI,{page:e,matches:s,...t}):null}function UI(e){let{manifest:t,routeModules:n}=$j(),[s,o]=p.useState([]);return p.useEffect(()=>{let a=!1;return AI(e,t,n).then(c=>{a||o(c)}),()=>{a=!0}},[e,t,n]),s}function VI({page:e,matches:t,...n}){let s=ui(),{manifest:o,routeModules:a}=$j(),{basename:c}=Fj(),{loaderData:u,matches:d}=FI(),f=p.useMemo(()=>W0(e,t,d,o,s,"data"),[e,t,d,o,s]),g=p.useMemo(()=>W0(e,t,d,o,s,"assets"),[e,t,d,o,s]),m=p.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,w=!1;if(t.forEach(b=>{var S;let _=o.routes[b.route.id];!_||!_.hasLoader||(!f.some(P=>P.route.id===b.route.id)&&b.route.id in u&&((S=a[b.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?w=!0:j.add(b.route.id))}),j.size===0)return[];let C=MI(e,c,"data");return w&&j.size>0&&C.searchParams.set("_routes",t.filter(b=>j.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[c,u,s,o,f,t,e,a]),v=p.useMemo(()=>II(g,o),[g,o]),y=UI(g);return p.createElement(p.Fragment,null,m.map(j=>p.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),v.map(j=>p.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),y.map(({key:j,link:w})=>p.createElement("link",{key:j,...w})))}function HI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Bj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bj&&(window.__reactRouterVersion="7.7.0")}catch{}function WI({basename:e,children:t,window:n}){let s=p.useRef();s.current==null&&(s.current=L4({window:n,v5Compat:!0}));let o=s.current,[a,c]=p.useState({action:o.action,location:o.location}),u=p.useCallback(d=>{p.startTransition(()=>c(d))},[c]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.createElement(bI,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var Uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vj=p.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:a,replace:c,state:u,target:d,to:f,preventScrollReset:g,viewTransition:m,...v},y){let{basename:j}=p.useContext(Ir),w=typeof f=="string"&&Uj.test(f),C,b=!1;if(typeof f=="string"&&w&&(C=f,Bj))try{let z=new URL(window.location.href),B=f.startsWith("//")?new URL(z.protocol+f):new URL(f),D=cs(B.pathname,j);B.origin===z.origin&&D!=null?f=D+B.search+B.hash:b=!0}catch{Lr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=oI(f,{relative:o}),[S,P,k]=$I(s,v),M=GI(f,{replace:c,state:u,target:d,preventScrollReset:g,relative:o,viewTransition:m});function R(z){t&&t(z),z.defaultPrevented||M(z)}let T=p.createElement("a",{...v,...k,href:C||_,onClick:b||a?t:R,ref:HI(y,P),target:d,"data-discover":!w&&n==="render"?"true":void 0});return S&&!w?p.createElement(p.Fragment,null,T,p.createElement(BI,{page:_})):T});Vj.displayName="Link";var qI=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:u,children:d,...f},g){let m=jc(c,{relative:f.relative}),v=ui(),y=p.useContext(dh),{navigator:j,basename:w}=p.useContext(Ir),C=y!=null&&eD(m)&&u===!0,b=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,_=v.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&w&&(S=cs(S,w)||S);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=_===b||!o&&_.startsWith(b)&&_.charAt(P)==="/",M=S!=null&&(S===b||!o&&S.startsWith(b)&&S.charAt(b.length)==="/"),R={isActive:k,isPending:M,isTransitioning:C},T=k?t:void 0,z;typeof s=="function"?z=s(R):z=[s,k?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(R):a;return p.createElement(Vj,{...f,"aria-current":T,className:z,ref:g,style:B,to:c,viewTransition:u},typeof d=="function"?d(R):d)});qI.displayName="NavLink";var ZI=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:a,method:c=Qu,action:u,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:m,...v},y)=>{let j=XI(),w=JI(u,{relative:f}),C=c.toLowerCase()==="get"?"get":"post",b=typeof u=="string"&&Uj.test(u),_=S=>{if(d&&d(S),S.defaultPrevented)return;S.preventDefault();let P=S.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||c;j(P||S.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:o,state:a,relative:f,preventScrollReset:g,viewTransition:m})};return p.createElement("form",{ref:y,method:C,action:w,onSubmit:s?d:_,...v,"data-discover":!b&&e==="render"?"true":void 0})});ZI.displayName="Form";function KI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hj(e){let t=p.useContext(La);return ct(t,KI(e)),t}function GI(e,{target:t,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:c}={}){let u=En(),d=ui(),f=jc(e,{relative:a});return p.useCallback(g=>{if(PI(g,t)){g.preventDefault();let m=n!==void 0?n:nc(d)===nc(f);u(e,{replace:m,state:s,preventScrollReset:o,relative:a,viewTransition:c})}},[d,u,f,n,s,t,e,o,a,c])}var QI=0,YI=()=>`__${String(++QI)}__`;function XI(){let{router:e}=Hj("useSubmit"),{basename:t}=p.useContext(Ir),n=vI();return p.useCallback(async(s,o={})=>{let{action:a,method:c,encType:u,formData:d,body:f}=TI(s,t);if(o.navigate===!1){let g=o.fetcherKey||YI();await e.fetch(g,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function JI(e,{relative:t}={}){let{basename:n}=p.useContext(Ir),s=p.useContext(ds);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...jc(e||".",{relative:t})},c=ui();if(e==null){a.search=c.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let g=u.toString();a.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Jr([n,a.pathname])),nc(a)}function eD(e,t={}){let n=p.useContext(Aj);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Hj("useViewTransitionState"),o=jc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Rd(o.pathname,c)!=null||Rd(o.pathname,a)!=null}const tD="/api";class nD{constructor(){this.token=null,typeof window<"u"&&(this.token=localStorage.getItem("authToken"))}setToken(t){this.token=t,localStorage.setItem("authToken",t)}clearToken(){this.token=null,localStorage.removeItem("authToken")}async request(t,n={}){typeof window<"u"&&(this.token=localStorage.getItem("authToken"));const s=`${tD}${t}`,o={headers:{"Content-Type":"application/json",...n.headers},...n};this.token?(console.log("Using token for request:",t,"Token length:",this.token.length),o.headers={...o.headers,Authorization:`Bearer ${this.token}`}):console.log("No token available for request:",t);const a=await fetch(s,o);if(!a.ok){const c=await a.json().catch(()=>({error:"Network error"}));throw a.status===401||a.status===403?(this.clearToken(),new Error("Votre session a expiré. Veuillez vous reconnecter.")):new Error(c.error||"Request failed")}return a.json()}async signUp(t,n,s){const o=await this.request("/auth/signup",{method:"POST",body:JSON.stringify({email:t,password:n,display_name:s})});return o.token&&this.setToken(o.token),o}async signIn(t,n){const s=await this.request("/auth/signin",{method:"POST",body:JSON.stringify({email:t,password:n})});return s.token&&this.setToken(s.token),s}async signOut(){return this.clearToken(),{success:!0}}async getProducts(t,n,s=1,o=20){const a=new URLSearchParams;t&&a.append("category",t),n&&a.append("search",n),a.append("page",s.toString()),a.append("limit",o.toString());const c=a.toString()?`?${a.toString()}`:"";return this.request(`/products${c}`)}async getProduct(t){return this.request(`/products/${t}`)}async createProduct(t){return this.request("/products",{method:"POST",body:JSON.stringify(t)})}async updateProduct(t,n){return this.request(`/products/${t}`,{method:"PUT",body:JSON.stringify(n)})}async deleteProduct(t){return this.request(`/products/${t}`,{method:"DELETE"})}async getCategories(){return this.request("/categories")}async createCategory(t){return this.request("/categories",{method:"POST",body:JSON.stringify(t)})}async getMessages(){return this.request("/messages")}async getProductMessages(t){return this.request(`/products/${t}/messages`)}async createMessage(t){return this.request("/messages",{method:"POST",body:JSON.stringify(t)})}async getProfile(){return this.request("/profile")}async updateProfile(t){return this.request("/profile",{method:"PUT",body:JSON.stringify(t)})}}const Ce=new nD,Wj=p.createContext(void 0),It=()=>{const e=p.useContext(Wj);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},rD=({children:e})=>{const[t,n]=p.useState(null),[s,o]=p.useState(!0);p.useEffect(()=>{const f=localStorage.getItem("authToken");f?(Ce.setToken(f),Ce.getProfile().then(g=>{g&&n({id:g.user_id,email:g.email||"",display_name:g.display_name,avatar_url:g.avatar_url,role:g.role||"user"}),o(!1)}).catch(()=>{Ce.clearToken(),n(null),o(!1)})):(async()=>{try{const m=await Ce.signIn("admin@tomati.com","admin123");m.user&&m.token&&(n(m.user),Ce.setToken(m.token),localStorage.setItem("authToken",m.token))}catch(m){console.log("Auto-login failed:",m)}finally{o(!1)}})()},[]);const d={user:t,loading:s,signUp:async(f,g,m)=>{try{const v=await Ce.signUp(f,g,m);return n(v.user),{error:null}}catch(v){return{error:{message:v.message}}}},signIn:async(f,g)=>{try{const m=await Ce.signIn(f,g);return n(m.user),{error:null}}catch(m){return{error:{message:m.message}}}},signOut:async()=>{try{return await Ce.signOut(),n(null),{error:null}}catch(f){return{error:{message:f.message}}}}};return r.jsx(Wj.Provider,{value:d,children:e})},sD={fr:{tomati:"Tomati",allCategories:"Toutes les catégories",cars:"Voitures",realEstate:"Immobilier",jobs:"Emplois",others:"Autres",recentListings:"Annonces récentes",viewAll:"Voir tout",noProducts:"Aucun produit trouvé dans cette catégorie",home:"Accueil",search:"Rechercher",add:"Ajouter",messages:"Messages",profile:"Profil",sold:"Vendu",free:"Gratuit",myPosts:"Mes publications",reviews:"Avis",accountSettings:"Paramètres du compte",personalInfo:"Informations personnelles",other:"Autre",logout:"Se déconnecter",main:"Principal"},ar:{tomati:"طماطي",allCategories:"جميع الفئات",cars:"سيارات",realEstate:"عقارات",jobs:"وظائف",others:"أخرى",recentListings:"الإعلانات الأخيرة",viewAll:"عرض الكل",noProducts:"لا توجد منتجات في هذه الفئة",home:"الرئيسية",search:"البحث",add:"إضافة",messages:"الرسائل",profile:"الملف الشخصي",sold:"مباع",free:"مجاني",myPosts:"منشوراتي",reviews:"التقييمات",accountSettings:"إعدادات الحساب",personalInfo:"المعلومات الشخصية",other:"أخرى",logout:"تسجيل الخروج",main:"الرئيسية"}},qj=p.createContext(void 0),Aa=()=>{const e=p.useContext(qj);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},iD=({children:e})=>{const[t,n]=p.useState("fr"),s=o=>sD[t][o]||o;return r.jsx(qj.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},Xt=new g4({defaultOptions:{queries:{staleTime:3*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",retry:1,networkMode:"online"},mutations:{retry:1,networkMode:"online"}}}),Ci=(e,t)=>Ce.request(e,t),Zj=p.createContext(void 0);function oD({children:e}){const t=lr(),[n,s]=p.useState(!1),{data:o,isLoading:a}=Xe({queryKey:["/api/user/preferences"],retry:!1}),c=Ge({mutationFn:async m=>await Ci("/api/user/preferences","PATCH"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/user/preferences"]})}}),u=m=>{const v=document.documentElement;v.className=v.className.replace(/theme-\w+/g,""),(m==="dark"||m==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&v.classList.add("dark")},d=m=>{const v=document.documentElement;v.className=v.className.replace(/font-size-\w+/g,""),v.classList.add(`font-size-${m}`)},f=m=>{const v=document.documentElement;m?v.classList.add("high-contrast"):v.classList.remove("high-contrast")};p.useEffect(()=>{o&&!n&&(u(o.theme||"light"),d(o.font_size||"medium"),f(o.high_contrast||!1),document.documentElement.lang=o.language||"fr",s(!0))},[o,n]),p.useEffect(()=>{if((o==null?void 0:o.theme)==="auto"){const m=window.matchMedia("(prefers-color-scheme: dark)"),v=()=>u("auto");return m.addEventListener("change",v),()=>m.removeEventListener("change",v)}},[o==null?void 0:o.theme]);const g=async m=>{m.theme!==void 0&&u(m.theme),m.font_size!==void 0&&d(m.font_size),m.high_contrast!==void 0&&f(m.high_contrast),m.language!==void 0&&(document.documentElement.lang=m.language),await c.mutateAsync(m)};return r.jsx(Zj.Provider,{value:{preferences:o||null,updatePreferences:g,isLoading:a,applyTheme:u,applyFontSize:d,applyHighContrast:f},children:e})}function aD(){const e=p.useContext(Zj);if(e===void 0)throw new Error("usePreferences must be used within a PreferencesProvider");return e}const ws=({children:e,redirectTo:t="/auth"})=>{const{user:n,loading:s}=It(),o=En();return p.useEffect(()=>{!s&&!n&&o(t)},[n,s,o,t]),s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(sp,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérification de l'authentification..."})]})}):n?r.jsx(r.Fragment,{children:e}):null},vv=xc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=p.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...o},a)=>{const c=s?XT:"button";return r.jsx(c,{className:ce(vv({variant:t,size:n,className:e})),ref:a,...o})});V.displayName="Button";const ae=p.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ae.displayName="Card";const Ve=p.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));Ve.displayName="CardHeader";const Ze=p.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ze.displayName="CardTitle";const Yi=p.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Yi.displayName="CardDescription";const le=p.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ce("p-6 pt-0",e),...t}));le.displayName="CardContent";const kp=p.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",e),...t}));kp.displayName="CardFooter";const Pu=({children:e})=>{const{user:t}=It(),n=En();return p.useEffect(()=>{t&&t.role!=="admin"&&n("/")},[t,n]),t?t.role!=="admin"?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(ae,{className:"w-full max-w-md",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(fR,{className:"w-6 h-6 text-red-600"})}),r.jsx(Ze,{className:"text-red-600",children:"Accès Refusé"}),r.jsx(Yi,{children:"Vous n'avez pas les permissions nécessaires pour accéder à cette page. Seuls les administrateurs peuvent accéder au tableau de bord."})]}),r.jsxs(le,{className:"text-center space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx(Zi,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Cette section est réservée aux comptes administrateurs."})]}),r.jsx(V,{onClick:()=>n("/"),className:"w-full",children:"Retourner à l'accueil"})]})]})}):r.jsx(r.Fragment,{children:e}):null};class lD extends Y.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{fontFamily:"Arial, sans-serif"},children:r.jsx(ae,{className:"w-full max-w-md",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"text-red-600 mb-4",children:r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",style:{fontFamily:"Arial, sans-serif"},children:"Oups ! Une erreur s'est produite"}),r.jsx("p",{className:"text-gray-600 mb-4",style:{fontFamily:"Arial, sans-serif"},children:"Nous avons rencontré un problème inattendu. Veuillez rafraîchir la page ou réessayer plus tard."}),this.state.error&&r.jsxs("details",{className:"text-left text-xs text-gray-500 mb-4",children:[r.jsx("summary",{className:"cursor-pointer",children:"Détails techniques"}),r.jsx("code",{className:"block mt-2 p-2 bg-gray-100 rounded",children:this.state.error.message})]}),r.jsx(V,{onClick:()=>{this.setState({hasError:!1}),window.location.reload()},className:"w-full",style:{fontFamily:"Arial, sans-serif"},children:"Rafraîchir la page"})]})})}):this.props.children}}const cD=({onCategorySelect:e})=>{const[t,n]=p.useState(!1),s=[{id:"immobilier",icon:Gr,label:"Immobilier",color:"bg-blue-500 hover:bg-blue-600"},{id:"voiture",icon:Oi,label:"Voiture",color:"bg-green-500 hover:bg-green-600"},{id:"emplois",icon:ei,label:"Emplois",color:"bg-purple-500 hover:bg-purple-600"},{id:"autres",icon:zi,label:"Autres",color:"bg-orange-500 hover:bg-orange-600"}],o=a=>{e(a),n(!1)};return r.jsxs("div",{className:"fixed bottom-20 right-4 z-[9999]",children:[t&&r.jsx("div",{className:"absolute bottom-20 right-0 bg-white rounded-2xl shadow-2xl border p-3 min-w-[180px]",children:r.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.map((a,c)=>{const u=a.icon;return r.jsxs("button",{onClick:()=>o(a.id),className:ce("flex items-center gap-3 p-3 rounded-xl transition-all duration-200 hover:scale-105 text-left",a.color.replace("bg-","hover:bg-").replace("hover:bg-","hover:bg-")+" hover:text-white text-gray-700 hover:shadow-lg"),style:{animationDelay:`${c*50}ms`},children:[r.jsx(u,{size:20}),r.jsx("span",{className:"font-medium text-sm",children:a.label})]},a.id)})})}),r.jsx(V,{onClick:()=>n(!t),className:ce("h-16 w-16 rounded-full shadow-xl transition-all duration-300 transform hover:scale-110 border-4 border-white",t?"bg-red-600 hover:bg-red-700 rotate-45":"bg-red-500 hover:bg-red-600"),children:t?r.jsx(gn,{size:28,className:"text-white"}):r.jsx(qi,{size:28,className:"text-white"})}),r.jsx("div",{className:"absolute -top-3 -left-4 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium shadow-lg",children:"Ajouter"})]})},uD=xc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,...n}){return r.jsx("div",{className:ce(uD({variant:t}),e),...n})}const dD=(e,t)=>{if(!e||e.startsWith("data:image"))return null;const n=window.location.origin;if(e.includes("/src/assets/")||!e.startsWith("http"))switch(t==null?void 0:t.toLowerCase()){case"voiture":case"auto":return`${n}/src/assets/tesla-model3.jpg`;case"immobilier":case"meubles":return`${n}/src/assets/modern-sofa.jpg`;case"emplois":return`${n}/src/assets/iphone-15-pro.jpg`;case"électronique":return`${n}/src/assets/motherboard-i5.jpg`;case"sport":return`${n}/src/assets/mountain-bike.jpg`;default:return`${n}/src/assets/tesla-model3.jpg`}return e},hD=e=>{if(e==null||e==="")return"Prix non défini";if(typeof e=="string"&&(e.toLowerCase()==="free"||e.toLowerCase()==="gratuit"))return"Gratuit";let t=typeof e=="string"?e.replace(/[€$,\s]/g,""):e.toString();const n=Number(t);return isNaN(n)?"Prix invalide":n===0?"Gratuit":`${n.toLocaleString()} TND`},fD=e=>{var n;const t=[];switch(console.log("ProductCard getCategoryDetails - Product data:",{category:e.category,car_year:e.car_year,car_mileage:e.car_mileage,car_fuel_type:e.car_fuel_type,real_estate_surface:e.real_estate_surface,real_estate_rooms:e.real_estate_rooms,year:e.year,mileage:e.mileage,fuel_type:e.fuel_type,surface:e.surface,rooms:e.rooms}),(n=e.category)==null?void 0:n.toLowerCase()){case"auto":case"voiture":(e.car_year||e.year)&&t.push({icon:Yl,text:(e.car_year||e.year).toString()}),(e.car_mileage||e.mileage)&&t.push({icon:qg,text:`${Number(e.car_mileage||e.mileage).toLocaleString()} km`}),(e.car_fuel_type||e.fuel_type)&&t.push({icon:Wg,text:e.car_fuel_type||e.fuel_type});break;case"immobilier":(e.real_estate_surface||e.surface)&&t.push({icon:Gr,text:`${e.real_estate_surface||e.surface} m²`}),(e.real_estate_rooms||e.rooms)&&t.push({icon:Qs,text:`${e.real_estate_rooms||e.rooms} pièces`}),(e.real_estate_type||e.property_type)&&t.push({icon:Wi,text:e.real_estate_type||e.property_type});break;case"emplois":case"emploi":e.job_type&&t.push({icon:ei,text:e.job_type}),e.job_sector&&t.push({icon:Wi,text:e.job_sector}),e.job_experience&&t.push({icon:Yl,text:e.job_experience});break;default:e.condition&&t.push({icon:sh,text:e.condition});break}return console.log("ProductCard getCategoryDetails - Found details:",t),t.slice(0,3)},mD=({product:e,onLike:t,onMessage:n,onClick:s,className:o})=>{Aa();const[a,c]=p.useState(e.isLiked||!1),[u,d]=p.useState(e.likes),f=()=>{c(!a),d(g=>a?g-1:g+1),t==null||t()};return r.jsxs(ae,{className:ce("overflow-hidden glass-card card-3d border-0 modern-shadow hover:modern-shadow-lg transition-all duration-300 cursor-pointer w-full group",o),onClick:s,children:[r.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-white to-gray-50 overflow-hidden",children:[(()=>{let g=null;if(e.images&&e.images!=="[]"&&e.images!=="")try{const v=JSON.parse(e.images);Array.isArray(v)&&v.length>0&&(g=v[0])}catch(v){console.error("Error parsing images JSON:",v)}g||(g=e.image_url||e.image);const m=dD(g,e.category);return m?r.jsx("img",{src:m,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:v=>{console.error("Image load error for:",m),v.target.style.display="none"}}):r.jsx("div",{className:"w-full h-full bg-gray-100 border border-gray-200 flex items-center justify-center",children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("span",{className:"text-gray-400 text-xs sm:text-sm block",children:e.category}),r.jsx("span",{className:"text-gray-300 text-xs block mt-1",children:"Pas d'image"})]})})})(),r.jsxs("div",{className:"absolute top-2 left-2 flex gap-2",children:[e.isFree&&r.jsx(ke,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white text-xs modern-shadow",children:"Gratuit"}),e.isReserved&&r.jsx(ke,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs modern-shadow",children:"Réservé"}),e.isAdvertisement&&r.jsx(ke,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-xs modern-shadow",children:"Publicité"})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),r.jsxs(le,{className:"p-3 sm:p-4 flex-1 flex flex-col justify-between min-h-[120px] sm:min-h-[140px] relative bg-gradient-to-b from-white to-gray-50/50",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-foreground text-xs sm:text-sm leading-tight mb-1 sm:mb-2 line-clamp-2",children:e.title}),r.jsx("div",{className:"text-sm sm:text-lg font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:e.isFree?"Gratuit":hD(e.price)}),(()=>{const g=fD(e);return g.length>0?r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:g.map((m,v)=>{const y=m.icon;return r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:[r.jsx(y,{size:12}),r.jsx("span",{className:"truncate max-w-16",children:m.text})]},v)})}):null})(),r.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mb-2",children:[r.jsx(Pr,{size:10,className:"mr-1 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e.location})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-auto pt-1 sm:pt-2",children:[r.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[r.jsx(sh,{size:10,className:"mr-1"}),r.jsx("span",{className:"truncate",children:e.timeAgo})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 glass-card border-0 modern-shadow hover:modern-shadow-lg hover:scale-110 transition-all duration-300",onClick:g=>{g.stopPropagation(),f()},children:r.jsx(en,{size:14,className:`transition-all duration-300 ${a?"text-red-500 fill-red-500 scale-125 drop-shadow-sm":"text-muted-foreground hover:text-red-500"}`})}),r.jsx("span",{className:"text-xs text-muted-foreground",children:u}),r.jsx(V,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 glass-card border-0 modern-shadow hover:modern-shadow-lg hover:scale-110 transition-all duration-300 ml-2",onClick:g=>{g.stopPropagation(),n==null||n()},children:r.jsx(hn,{size:14,className:"text-muted-foreground hover:text-blue-500 transition-colors duration-300"})})]})]})]})]})},Kj=Y.memo(mD),pD=(e,t)=>{if(!e||e.startsWith("data:image"))return null;const n=window.location.origin;if(e.includes("/src/assets/")||!e.startsWith("http"))switch(t==null?void 0:t.toLowerCase()){case"voiture":case"auto":return`${n}/src/assets/tesla-model3.jpg`;case"immobilier":case"meubles":return`${n}/src/assets/modern-sofa.jpg`;case"emplois":return`${n}/src/assets/iphone-15-pro.jpg`;case"électronique":return`${n}/src/assets/motherboard-i5.jpg`;case"sport":return`${n}/src/assets/mountain-bike.jpg`;default:return`${n}/src/assets/tesla-model3.jpg`}return e},gD=e=>{if(e==null||e==="")return"Prix non défini";if(typeof e=="string"&&(e.toLowerCase()==="free"||e.toLowerCase()==="gratuit"))return"Gratuit";let t=typeof e=="string"?e.replace(/[€$,\s]/g,""):e.toString();const n=Number(t);return isNaN(n)?"Prix invalide":n===0?"Gratuit":`${n.toLocaleString()} TND`},vD=e=>{var n;const t=[];switch(console.log("ProductListCard getCategoryDetails - Product data:",{category:e.category,car_year:e.car_year,car_mileage:e.car_mileage,car_fuel_type:e.car_fuel_type,real_estate_surface:e.real_estate_surface,real_estate_rooms:e.real_estate_rooms}),(n=e.category)==null?void 0:n.toLowerCase()){case"auto":case"voiture":(e.car_year||e.year)&&t.push({icon:Yl,text:(e.car_year||e.year).toString()}),(e.car_mileage||e.mileage)&&t.push({icon:qg,text:`${Number(e.car_mileage||e.mileage).toLocaleString()} km`}),(e.car_fuel_type||e.fuel_type)&&t.push({icon:Wg,text:e.car_fuel_type||e.fuel_type});break;case"immobilier":(e.real_estate_surface||e.surface)&&t.push({icon:Gr,text:`${e.real_estate_surface||e.surface} m²`}),(e.real_estate_rooms||e.rooms)&&t.push({icon:Qs,text:`${e.real_estate_rooms||e.rooms} pièces`}),(e.real_estate_type||e.property_type)&&t.push({icon:Wi,text:e.real_estate_type||e.property_type});break;case"emplois":case"emploi":e.job_type&&t.push({icon:ei,text:e.job_type}),e.job_sector&&t.push({icon:Wi,text:e.job_sector}),e.job_experience&&t.push({icon:Yl,text:e.job_experience});break;default:e.condition&&t.push({icon:sh,text:e.condition});break}return console.log("ProductListCard getCategoryDetails - Found details:",t),t.slice(0,3)},xD=({product:e,onLike:t,onMessage:n,onClick:s,className:o})=>{Aa();const[a,c]=p.useState(e.isLiked||!1),[u,d]=p.useState(e.likes),f=()=>{c(!a),d(g=>a?g-1:g+1),t==null||t()};return r.jsx(ae,{className:ce("overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer w-full",o),onClick:s,style:{fontFamily:"Arial, sans-serif"},children:r.jsxs(le,{className:"p-3 flex gap-3 sm:gap-4",children:[r.jsxs("div",{className:"relative w-16 h-16 sm:w-24 sm:h-24 bg-white overflow-hidden rounded-lg flex-shrink-0",children:[(()=>{let g=null;if(e.images&&e.images!=="[]"&&e.images!=="")try{const v=JSON.parse(e.images);Array.isArray(v)&&v.length>0&&(g=v[0])}catch(v){console.error("Error parsing images JSON:",v)}g||(g=e.image_url||e.image);const m=pD(g,e.category);return m?r.jsx("img",{src:m,alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:v=>{console.error("Image load error for:",m),v.target.style.display="none"}}):r.jsx("div",{className:"w-full h-full bg-white border border-gray-200 flex items-center justify-center",children:r.jsx("span",{className:"text-muted-foreground text-xs",style:{fontFamily:"Arial, sans-serif"},children:e.category})})})(),r.jsxs("div",{className:"absolute top-1 left-1 flex gap-1",children:[e.isFree&&r.jsx(ke,{className:"bg-success text-success-foreground text-xs",style:{fontFamily:"Arial, sans-serif"},children:"Free"}),e.isReserved&&r.jsx(ke,{className:"bg-info text-info-foreground text-xs",style:{fontFamily:"Arial, sans-serif"},children:"Reserved"}),e.isAdvertisement&&r.jsx(ke,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-xs",style:{fontFamily:"Arial, sans-serif"},children:"Publicité"})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col justify-between min-h-[60px] sm:min-h-[90px]",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-foreground text-sm leading-tight mb-1 line-clamp-2",style:{fontFamily:"Arial, sans-serif"},children:e.title}),r.jsx("div",{className:"text-lg font-bold text-primary mb-2",style:{fontFamily:"Arial, sans-serif"},children:e.isFree?"Gratuit":gD(e.price)}),(()=>{const g=vD(e);return g.length>0?r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:g.map((m,v)=>{const y=m.icon;return r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",style:{fontFamily:"Arial, sans-serif"},children:[r.jsx(y,{size:10}),r.jsx("span",{className:"truncate",children:m.text})]},v)})}):null})(),r.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mb-2",children:[r.jsx(Pr,{size:10,className:"mr-1 flex-shrink-0"}),r.jsx("span",{className:"truncate",style:{fontFamily:"Arial, sans-serif"},children:e.location})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[r.jsx(sh,{size:10,className:"mr-1"}),r.jsx("span",{className:"truncate",style:{fontFamily:"Arial, sans-serif"},children:e.timeAgo})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10 transition-all duration-200",onClick:g=>{g.stopPropagation(),f()},children:r.jsx(en,{size:12,className:`transition-all duration-200 ${a?"text-red-500 fill-red-500 scale-110":"text-muted-foreground hover:text-red-500"}`})}),r.jsx("span",{className:"text-xs text-muted-foreground",style:{fontFamily:"Arial, sans-serif"},children:u}),r.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",onClick:g=>{g.stopPropagation(),n==null||n()},children:r.jsx(hn,{size:12,className:"text-muted-foreground hover:text-primary"})})]})]})]})]})})},yD="/assets/tesla-model3-BDFc0W8h.jpg",wD="/assets/motherboard-i5-DUzFb2hE.jpg",bD="/assets/modern-sofa-Bot6_suo.jpg",_D="/assets/mountain-bike-D3qaVfHl.jpg",jD="/assets/tractor-holland-BVmO3lNy.jpg",ND="/assets/iphone-15-pro-DLnIGZxM.jpg",CD={"/src/assets/tesla-model3.jpg":yD,"/src/assets/motherboard-i5.jpg":wD,"/src/assets/modern-sofa.jpg":bD,"/src/assets/mountain-bike.jpg":_D,"/src/assets/tractor-holland.jpg":jD,"/src/assets/iphone-15-pro.jpg":ND},SD=e=>{const t=new Date,n=new Date(e),s=Math.floor((t.getTime()-n.getTime())/(1e3*60*60));if(s<24)return`${s} hour${s===1?"":"s"} ago`;if(s<168){const o=Math.floor(s/24);return`${o} day${o===1?"":"s"} ago`}else{const o=Math.floor(s/168);return`${o} week${o===1?"":"s"} ago`}},Gj=({category:e,sortBy:t="date",searchTerm:n,onProductClick:s,onProductLike:o,onProductMessage:a,viewMode:c="grid",filters:u})=>{const{data:d=[],isLoading:f,error:g}=Xe({queryKey:["/api/products",e,n],queryFn:async()=>{try{const j=new URLSearchParams;e&&j.append("category",e),n&&j.append("search",n),j.append("limit","20");const w=`/api/products?${j.toString()}`;console.log("Fetching products with URL:",w);const C=await fetch(w);if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const b=await C.json();return console.log("Fetched products:",b.length,"items for category:",e),b}catch(j){throw console.error("Error fetching products:",j),j}},staleTime:12e4,retry:1,refetchOnWindowFocus:!1});let m=[...d];if(n&&n.trim()!==""){const j=n.toLowerCase();m=m.filter(w=>w.title.toLowerCase().includes(j)||w.category.toLowerCase().includes(j)||w.location.toLowerCase().includes(j))}const y=m.sort((j,w)=>{switch(t){case"price-asc":return parseFloat(j.price.replace(/[€,]/g,""))-parseFloat(w.price.replace(/[€,]/g,""));case"price-desc":return parseFloat(w.price.replace(/[€,]/g,""))-parseFloat(j.price.replace(/[€,]/g,""));case"title":return j.title.localeCompare(w.title);case"location":return j.location.localeCompare(w.location);case"likes":return w.likes-j.likes;case"date":default:return new Date(w.created_at).getTime()-new Date(j.created_at).getTime()}}).map(j=>({id:j.id,title:j.title,price:j.price,location:j.location,timeAgo:SD(j.created_at),image:CD[j.image_url]||j.image_url,category:j.category,likes:j.likes||0,isReserved:j.is_reserved,isFree:j.is_free,isAdvertisement:j.is_advertisement,brand:j.brand,model:j.model,year:j.year,mileage:j.mileage,fuel_type:j.fuel_type,transmission:j.transmission,condition:j.condition,color:j.color,doors:j.doors,power:j.power,rooms:j.rooms,surface:j.surface,property_type:j.property_type,contract_type:j.contract_type,salary_range:j.salary_range}));return f?r.jsx("div",{className:"px-4 py-3",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"tomati-brand animate-pulse mb-4",children:"Tomati"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-tomati-red mx-auto"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Chargement des produits..."})]})})}):g?r.jsx("div",{className:"px-4 py-3",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-600 mb-4",children:"Erreur de chargement"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Impossible de charger les produits. Veuillez rafraîchir la page."})]})})}):r.jsxs("div",{className:"w-full px-2 sm:px-4 py-2",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-2",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-foreground order-2 sm:order-1",children:e?`Produits ${e}`:"Produits récents"}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-tomati-red text-xs sm:text-sm font-medium order-1 sm:order-2 self-end sm:self-auto",children:"Voir tout"})]}),r.jsx("div",{className:c==="list"?"flex flex-col gap-2 sm:gap-3":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:y.map(j=>c==="list"?r.jsx(xD,{product:j,onClick:()=>s==null?void 0:s(j.id),onLike:()=>o==null?void 0:o(j.id),onMessage:()=>a==null?void 0:a(j.id),className:"w-full"},j.id):r.jsx(Kj,{product:j,onClick:()=>s==null?void 0:s(j.id),onLike:()=>o==null?void 0:o(j.id),onMessage:()=>a==null?void 0:a(j.id)},j.id))}),y.length===0&&r.jsx("div",{className:"text-center py-8 sm:py-12 text-muted-foreground",children:r.jsx("p",{className:"text-sm sm:text-base",children:"Aucun produit disponible"})})]})},Ll=({position:e,category:t,className:n="",showCloseButton:s=!0})=>{const[o,a]=p.useState(!0),[c,u]=p.useState(!1),{data:d=[]}=Xe({queryKey:["/advertisements",e,t],queryFn:()=>Ce.request(`/advertisements?position=${e}&category=${t||""}`),staleTime:10*60*1e3,enabled:o}),f=Ge({mutationFn:w=>Ce.request(`/advertisements/${w}/impression`,{method:"POST"})}),g=Ge({mutationFn:w=>Ce.request(`/advertisements/${w}/click`,{method:"POST"}),onSuccess:()=>{Xt.invalidateQueries({queryKey:["/advertisements"]})}}),m=d.length>0?d[Math.floor(Math.random()*d.length)]:null;p.useEffect(()=>{m&&!c&&o&&(f.mutate(m.id),u(!0))},[m,c,o]);const v=()=>{m&&(g.mutate(m.id),m.target_url&&window.open(m.target_url,"_blank"))},y=()=>{a(!1)};if(!o||!m)return null;const j=()=>{switch(e){case"header":return"w-full bg-gradient-to-r from-blue-50 to-purple-50";case"sidebar":return"w-full max-w-sm";case"between_products":return"w-full col-span-full";case"footer":return"w-full bg-gray-50";default:return"w-full"}};return r.jsxs(ae,{className:`${j()} ${n} relative group hover:shadow-lg transition-shadow border-dashed border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50`,children:[s&&r.jsx(V,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity h-6 w-6 p-0",onClick:y,children:r.jsx(gn,{size:14})}),r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-4 cursor-pointer",onClick:v,children:[m.image_url&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:m.image_url,alt:m.title,className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded-lg"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ke,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:"Publicité"}),r.jsx("span",{className:"text-xs text-gray-500",children:m.advertiser_name})]}),r.jsx("h3",{className:"font-semibold text-sm md:text-base mb-1 line-clamp-1",children:m.title}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:m.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:[m.impression_count.toLocaleString()," vues"]}),r.jsxs("span",{children:[m.click_count.toLocaleString()," clics"]})]}),m.target_url&&r.jsxs(V,{size:"sm",variant:"outline",className:"h-7 px-3 text-xs",children:[r.jsx(ZM,{size:12,className:"mr-1"}),"Voir plus"]})]})]})]})})]})},q0=({onProductClick:e,activeTab:t,onTabChange:n,searchTerm:s})=>{const[o,a]=p.useState("date"),[c,u]=p.useState(!1),[d,f]=p.useState("");Aa();const{toast:g}=Je(),m=lr(),v=En(),y=s||d;Xe({queryKey:["/products/promoted"],queryFn:()=>Ce.request("/products/promoted"),staleTime:2*60*1e3});const j=Ge({mutationFn:async b=>{const _=await fetch(`/api/products/${b}/like`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!_.ok)throw new Error("Failed to like product");return _.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["/products"]}),g({title:"Produit aimé !",description:"Vous avez aimé ce produit"})},onError:()=>{g({title:"Erreur",description:"Impossible d'aimer ce produit",variant:"destructive"})}}),w=b=>{j.mutate(b)},C=b=>{v(`/messages?product=${b}`),g({title:"Redirection vers les messages",description:"Ouverture de la conversation avec le vendeur"})};return r.jsxs("div",{className:"min-h-screen pb-20 relative overflow-hidden bg-white",children:[r.jsx(Ll,{position:"header",className:"mb-4 relative z-10",showCloseButton:!1}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tous les produits"}),r.jsxs(V,{variant:"outline",onClick:()=>u(!c),className:"flex items-center gap-2",children:[r.jsx(cR,{size:16}),"Filtres"]})]}),c&&r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Trier par"}),r.jsxs("select",{value:o,onChange:b=>a(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{value:"date",children:"Plus récent"}),r.jsx("option",{value:"price_asc",children:"Prix croissant"}),r.jsx("option",{value:"price_desc",children:"Prix décroissant"}),r.jsx("option",{value:"popularity",children:"Popularité"})]})]})})})]}),r.jsx(Ll,{position:"between_products",className:"mb-6 relative z-10"}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-6",children:r.jsx(Gj,{sortBy:o,searchTerm:y,onProductClick:e,onProductLike:w,onProductMessage:C,viewMode:"grid"})}),r.jsx(Ll,{position:"footer",className:"mt-8 relative z-10"})]})},_e=p.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));_e.displayName="Input";var xv="Avatar",[PD,T$]=At(xv),[kD,Qj]=PD(xv),Yj=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[o,a]=p.useState("idle");return r.jsx(kD,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:r.jsx(ve.span,{...s,ref:t})})});Yj.displayName=xv;var Xj="AvatarImage",Jj=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:o=()=>{},...a}=e,c=Qj(Xj,n),u=ED(s,a),d=st(f=>{o(f),c.onImageLoadingStatusChange(f)});return dt(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?r.jsx(ve.img,{...a,ref:t,src:s}):null});Jj.displayName=Xj;var eN="AvatarFallback",tN=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...o}=e,a=Qj(eN,n),[c,u]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>u(!0),s);return()=>window.clearTimeout(d)}},[s]),c&&a.imageLoadingStatus!=="loaded"?r.jsx(ve.span,{...o,ref:t}):null});tN.displayName=eN;function Z0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ED(e,{referrerPolicy:t,crossOrigin:n}){const s=MD(),o=p.useRef(null),a=s?(o.current||(o.current=new window.Image),o.current):null,[c,u]=p.useState(()=>Z0(a,e));return dt(()=>{u(Z0(a,e))},[a,e]),dt(()=>{const d=m=>()=>{u(m)};if(!a)return;const f=d("loaded"),g=d("error");return a.addEventListener("load",f),a.addEventListener("error",g),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",f),a.removeEventListener("error",g)}},[a,n,t]),c}function TD(){return()=>{}}function MD(){return p.useSyncExternalStore(TD,()=>!0,()=>!1)}var nN=Yj,rN=Jj,sN=tN;const zn=p.forwardRef(({className:e,...t},n)=>r.jsx(nN,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));zn.displayName=nN.displayName;const iN=p.forwardRef(({className:e,...t},n)=>r.jsx(rN,{ref:n,className:ce("aspect-square h-full w-full",e),...t}));iN.displayName=rN.displayName;const Fn=p.forwardRef(({className:e,...t},n)=>r.jsx(sN,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Fn.displayName=sN.displayName;function RD(){const{user:e}=It(),t=lr(),n=p.useRef(null),[s,o]=p.useState(!1);p.useEffect(()=>{if(!e)return;const f=window.location.protocol==="https:"?"wss:":"ws:",g=window.location.hostname,m=window.location.port;let v;if(!m||m==="443"||m==="80"||g.includes("replit.dev")||g.includes("riker.prod.repl.run")?v=`${f}//${g}/ws?userId=${e.id}`:v=`${f}//${g}:${m}/ws?userId=${e.id}`,console.log("WebSocket Host:",g,"Port:",m,"Final URL:",v),v.includes("undefined")||!v.includes("ws")){console.error("Invalid WebSocket URL detected:",v),o(!1);return}try{const y=new WebSocket(v);return n.current=y,y.onopen=()=>{o(!0),console.log("WebSocket connected successfully")},y.onmessage=j=>{const w=JSON.parse(j.data);w.type==="new_message"&&(t.invalidateQueries({queryKey:["/api/conversations"]}),t.invalidateQueries({queryKey:["/api/conversations",w.conversationId,"messages"]}))},y.onclose=()=>{o(!1),console.log("WebSocket disconnected")},y.onerror=j=>{console.error("WebSocket error:",j),console.error("Failed to connect to WebSocket URL:",v),o(!1)},()=>{(y.readyState===WebSocket.OPEN||y.readyState===WebSocket.CONNECTING)&&y.close()}}catch(y){console.error("Failed to create WebSocket connection:",y),o(!1)}},[e,t]);const a=Xe({queryKey:["/api/conversations"],queryFn:()=>Ci("/conversations"),enabled:!!e}),c=f=>Xe({queryKey:["/api/conversations",f,"messages"],queryFn:()=>Ci(`/conversations/${f}/messages`),enabled:!!f&&!!e}),u=Ge({mutationFn:f=>Ci("/conversations",{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/conversations"]})}}),d=Ge({mutationFn:f=>Ci(`/conversations/${f.conversationId}/messages`,{method:"POST",body:JSON.stringify({content:f.content}),headers:{"Content-Type":"application/json"}}),onSuccess:(f,g)=>{t.invalidateQueries({queryKey:["/api/conversations"]}),t.invalidateQueries({queryKey:["/api/conversations",g.conversationId,"messages"]})}});return{conversations:a.data||[],isLoadingConversations:a.isLoading,useConversationMessages:c,createConversation:u.mutateAsync,sendMessage:d.mutateAsync,isConnected:s,isCreatingConversation:u.isPending,isSendingMessage:d.isPending}}function Mt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function LD(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ku=43200,K0=1440;let AD={};function ID(){return AD}function G0(e){const t=Mt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Xu(e,t){const n=Mt(e),s=Mt(t),o=n.getTime()-s.getTime();return o<0?-1:o>0?1:o}function DD(e){return LD(e,Date.now())}function OD(e,t){const n=Mt(e),s=Mt(t),o=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return o*12+a}function zD(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function FD(e,t){return+Mt(e)-+Mt(t)}function $D(e){const t=Mt(e);return t.setHours(23,59,59,999),t}function BD(e){const t=Mt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function UD(e){const t=Mt(e);return+$D(t)==+BD(t)}function VD(e,t){const n=Mt(e),s=Mt(t),o=Xu(n,s),a=Math.abs(OD(n,s));let c;if(a<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*a);let u=Xu(n,s)===-o;UD(Mt(e))&&a===1&&Xu(e,s)===1&&(u=!1),c=o*(a-Number(u))}return c===0?0:c}function HD(e,t,n){const s=FD(e,t)/1e3;return zD(n==null?void 0:n.roundingMethod)(s)}const WD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qD=(e,t,n)=>{let s;const o=WD[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ko(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ZD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QD={date:Ko({formats:ZD,defaultWidth:"full"}),time:Ko({formats:KD,defaultWidth:"full"}),dateTime:Ko({formats:GD,defaultWidth:"full"})},YD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XD=(e,t,n,s)=>YD[e];function Nr(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let o;if(s==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):c;o=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[u]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const JD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iO=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oO={ordinalNumber:iO,era:Nr({values:JD,defaultWidth:"wide"}),quarter:Nr({values:eO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nr({values:tO,defaultWidth:"wide"}),day:Nr({values:nO,defaultWidth:"wide"}),dayPeriod:Nr({values:rO,defaultWidth:"wide",formattingValues:sO,defaultFormattingWidth:"wide"})};function Cr(e){return(t,n={})=>{const s=n.width,o=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const c=a[0],u=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?lO(u,m=>m.test(c)):aO(u,m=>m.test(c));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const g=t.slice(c.length);return{value:f,rest:g}}}function aO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function lO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function oN(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const o=s[0],a=t.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}const cO=/^(\d+)(th|st|nd|rd)?/i,uO=/\d+/i,dO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hO={any:[/^b/i,/^(a|c)/i]},fO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mO={any:[/1/i,/2/i,/3/i,/4/i]},pO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bO={ordinalNumber:oN({matchPattern:cO,parsePattern:uO,valueCallback:e=>parseInt(e,10)}),era:Cr({matchPatterns:dO,defaultMatchWidth:"wide",parsePatterns:hO,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:fO,defaultMatchWidth:"wide",parsePatterns:mO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cr({matchPatterns:pO,defaultMatchWidth:"wide",parsePatterns:gO,defaultParseWidth:"any"}),day:Cr({matchPatterns:vO,defaultMatchWidth:"wide",parsePatterns:xO,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:yO,defaultMatchWidth:"any",parsePatterns:wO,defaultParseWidth:"any"})},_O={code:"en-US",formatDistance:qD,formatLong:QD,formatRelative:XD,localize:oO,match:bO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jO(e,t,n){const s=ID(),o=(n==null?void 0:n.locale)??s.locale??_O,a=2520,c=Xu(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:c});let d,f;c>0?(d=Mt(t),f=Mt(e)):(d=Mt(e),f=Mt(t));const g=HD(f,d),m=(G0(f)-G0(d))/1e3,v=Math.round((g-m)/60);let y;if(v<2)return n!=null&&n.includeSeconds?g<5?o.formatDistance("lessThanXSeconds",5,u):g<10?o.formatDistance("lessThanXSeconds",10,u):g<20?o.formatDistance("lessThanXSeconds",20,u):g<40?o.formatDistance("halfAMinute",0,u):g<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):v===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",v,u);if(v<45)return o.formatDistance("xMinutes",v,u);if(v<90)return o.formatDistance("aboutXHours",1,u);if(v<K0){const j=Math.round(v/60);return o.formatDistance("aboutXHours",j,u)}else{if(v<a)return o.formatDistance("xDays",1,u);if(v<ku){const j=Math.round(v/K0);return o.formatDistance("xDays",j,u)}else if(v<ku*2)return y=Math.round(v/ku),o.formatDistance("aboutXMonths",y,u)}if(y=VD(f,d),y<12){const j=Math.round(v/ku);return o.formatDistance("xMonths",j,u)}else{const j=y%12,w=Math.trunc(y/12);return j<3?o.formatDistance("aboutXYears",w,u):j<9?o.formatDistance("overXYears",w,u):o.formatDistance("almostXYears",w+1,u)}}function Q0(e,t){return jO(e,DD(e),t)}const NO={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},CO=(e,t,n)=>{let s;const o=NO[e];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+s:"il y a "+s:s},SO={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},PO={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},kO={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EO={date:Ko({formats:SO,defaultWidth:"full"}),time:Ko({formats:PO,defaultWidth:"full"}),dateTime:Ko({formats:kO,defaultWidth:"full"})},TO={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},MO=(e,t,n,s)=>TO[e],RO={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},LO={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},AO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},IO={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},DO={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},OO=(e,t)=>{const n=Number(e),s=t==null?void 0:t.unit;if(n===0)return"0";const o=["year","week","hour","minute","second"];let a;return n===1?a=s&&o.includes(s)?"ère":"er":a="ème",n+a},zO=["MMM","MMMM"],FO={preprocessor:(e,t)=>e.getDate()===1||!t.some(s=>s.isToken&&zO.includes(s.value))?t:t.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:OO,era:Nr({values:RO,defaultWidth:"wide"}),quarter:Nr({values:LO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nr({values:AO,defaultWidth:"wide"}),day:Nr({values:IO,defaultWidth:"wide"}),dayPeriod:Nr({values:DO,defaultWidth:"wide"})},$O=/^(\d+)(ième|ère|ème|er|e)?/i,BO=/\d+/i,UO={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},VO={any:[/^av/i,/^ap/i]},HO={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},WO={any:[/1/i,/2/i,/3/i,/4/i]},qO={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},ZO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},KO={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},GO={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},QO={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},YO={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},XO={ordinalNumber:oN({matchPattern:$O,parsePattern:BO,valueCallback:e=>parseInt(e)}),era:Cr({matchPatterns:UO,defaultMatchWidth:"wide",parsePatterns:VO,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:HO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cr({matchPatterns:qO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),day:Cr({matchPatterns:KO,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:QO,defaultMatchWidth:"any",parsePatterns:YO,defaultParseWidth:"any"})},Y0={code:"fr",formatDistance:CO,formatLong:EO,formatRelative:MO,localize:FO,match:XO,options:{weekStartsOn:1,firstWeekContainsDate:4}};function JO({isIncoming:e=!1,callerName:t="",onAccept:n,onReject:s,onEnd:o,callType:a,isActive:c=!1}){const[u,d]=p.useState(!1),[f,g]=p.useState(a==="video"),[m,v]=p.useState(0),y=p.useRef(null),j=p.useRef(null);p.useEffect(()=>{let _;return c&&(_=setInterval(()=>{v(S=>S+1)},1e3)),()=>clearInterval(_)},[c]);const w=_=>{const S=Math.floor(_/60),P=_%60;return`${S.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`},C=()=>{d(!u)},b=()=>{g(!f)};return e&&!c?r.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-black/90 to-blue-900/80 backdrop-blur-lg flex items-center justify-center z-50",children:r.jsxs("div",{className:"glass-card border-0 rounded-3xl p-8 max-w-sm w-full mx-4 text-center modern-shadow-lg animate-float",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mx-auto mb-6 flex items-center justify-center modern-shadow-lg animate-pulse",children:r.jsx("span",{className:"text-3xl font-bold text-white",children:t.charAt(0).toUpperCase()})}),r.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:t}),r.jsxs("p",{className:"text-gray-600 text-lg",children:["Appel ",a==="video"?"vidéo":"audio"," entrant..."]})]}),r.jsxs("div",{className:"flex justify-center space-x-8",children:[r.jsx(V,{onClick:s,variant:"destructive",size:"lg",className:"rounded-full w-20 h-20 p-0 glass-card border-0 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 modern-shadow hover:modern-shadow-lg hover:scale-110 transition-all duration-300",children:r.jsx(v0,{className:"w-10 h-10"})}),r.jsx(V,{onClick:n,variant:"default",size:"lg",className:"rounded-full w-20 h-20 p-0 glass-card border-0 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 modern-shadow hover:modern-shadow-lg hover:scale-110 transition-all duration-300",children:r.jsx(Do,{className:"w-10 h-10"})})]})]})}):c?r.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[a==="video"&&r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("video",{ref:j,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0}),r.jsx("div",{className:"absolute top-4 right-4 w-32 h-24 bg-gray-800 rounded-lg overflow-hidden",children:r.jsx("video",{ref:y,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0})}),r.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 text-white px-4 py-2 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:t}),r.jsx("p",{className:"text-sm",children:w(m)})]})]}),a==="audio"&&r.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-blue-900 to-purple-900",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsx("div",{className:"w-32 h-32 bg-white/20 rounded-full mx-auto mb-6 flex items-center justify-center",children:r.jsx("span",{className:"text-4xl font-bold",children:t.charAt(0).toUpperCase()})}),r.jsx("h3",{className:"text-2xl font-semibold mb-2",children:t}),r.jsx("p",{className:"text-lg opacity-80",children:w(m)})]})}),r.jsx("div",{className:"glass-card bg-black/90 p-8 border-0 backdrop-blur-xl",children:r.jsxs("div",{className:"flex justify-center items-center space-x-8",children:[r.jsx(V,{onClick:C,variant:"outline",size:"lg",className:ce("rounded-full w-16 h-16 p-0 glass-card border-0 modern-shadow hover:modern-shadow-lg hover:scale-110 transition-all duration-300",u?"bg-gradient-to-r from-red-500 to-red-600 text-white":"bg-gradient-to-r from-gray-500 to-gray-600 text-white"),children:u?r.jsx(tR,{className:"w-6 h-6"}):r.jsx(nR,{className:"w-6 h-6"})}),a==="video"&&r.jsx(V,{onClick:b,variant:"outline",size:"lg",className:ce("rounded-full w-14 h-14 p-0",f?"bg-gray-600 hover:bg-gray-700":"bg-red-600 hover:bg-red-700 border-red-600"),children:f?r.jsx(E1,{className:"w-6 h-6"}):r.jsx(pR,{className:"w-6 h-6"})}),r.jsx(V,{onClick:o,variant:"destructive",size:"lg",className:"rounded-full w-20 h-20 p-0 glass-card border-0 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 modern-shadow hover:modern-shadow-lg hover:scale-110 transition-all duration-300",children:r.jsx(v0,{className:"w-10 h-10"})})]})})]}):null}var e3=p.createContext(void 0);function Ia(e){const t=p.useContext(e3);return e||t||"ltr"}var Qf=0;function yv(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??X0()),document.body.insertAdjacentElement("beforeend",e[1]??X0()),Qf++,()=>{Qf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qf--}},[])}function X0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yf="focusScope.autoFocusOnMount",Xf="focusScope.autoFocusOnUnmount",J0={bubbles:!1,cancelable:!0},t3="FocusScope",fh=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[u,d]=p.useState(null),f=st(o),g=st(a),m=p.useRef(null),v=we(t,w=>d(w)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let w=function(S){if(y.paused||!u)return;const P=S.target;u.contains(P)?m.current=P:_s(m.current,{select:!0})},C=function(S){if(y.paused||!u)return;const P=S.relatedTarget;P!==null&&(u.contains(P)||_s(m.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&_s(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const _=new MutationObserver(b);return u&&_.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),_.disconnect()}}},[s,u,y.paused]),p.useEffect(()=>{if(u){tw.add(y);const w=document.activeElement;if(!u.contains(w)){const b=new CustomEvent(Yf,J0);u.addEventListener(Yf,f),u.dispatchEvent(b),b.defaultPrevented||(n3(a3(aN(u)),{select:!0}),document.activeElement===w&&_s(u))}return()=>{u.removeEventListener(Yf,f),setTimeout(()=>{const b=new CustomEvent(Xf,J0);u.addEventListener(Xf,g),u.dispatchEvent(b),b.defaultPrevented||_s(w??document.body,{select:!0}),u.removeEventListener(Xf,g),tw.remove(y)},0)}}},[u,f,g,y]);const j=p.useCallback(w=>{if(!n&&!s||y.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(C&&b){const _=w.currentTarget,[S,P]=r3(_);S&&P?!w.shiftKey&&b===P?(w.preventDefault(),n&&_s(S,{select:!0})):w.shiftKey&&b===S&&(w.preventDefault(),n&&_s(P,{select:!0})):b===_&&w.preventDefault()}},[n,s,y.paused]);return r.jsx(ve.div,{tabIndex:-1,...c,ref:v,onKeyDown:j})});fh.displayName=t3;function n3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(_s(s,{select:t}),document.activeElement!==n)return}function r3(e){const t=aN(e),n=ew(t,e),s=ew(t.reverse(),e);return[n,s]}function aN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ew(e,t){for(const n of e)if(!s3(n,{upTo:t}))return n}function s3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function i3(e){return e instanceof HTMLInputElement&&"select"in e}function _s(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&i3(e)&&t&&e.select()}}var tw=o3();function o3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nw(e,t),e.unshift(t)},remove(t){var n;e=nw(e,t),(n=e[0])==null||n.resume()}}}function nw(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function a3(e){return e.filter(t=>t.tagName!=="A")}var Jf="rovingFocusGroup.onEntryFocus",l3={bubbles:!1,cancelable:!0},mh="RovingFocusGroup",[Ep,lN,c3]=th(mh),[u3,ph]=At(mh,[c3]),[d3,h3]=u3(mh),cN=p.forwardRef((e,t)=>r.jsx(Ep.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Ep.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(f3,{...e,ref:t})})}));cN.displayName=mh;var f3=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...m}=e,v=p.useRef(null),y=we(t,v),j=Ia(a),[w=null,C]=is({prop:c,defaultProp:u,onChange:d}),[b,_]=p.useState(!1),S=st(f),P=lN(n),k=p.useRef(!1),[M,R]=p.useState(0);return p.useEffect(()=>{const T=v.current;if(T)return T.addEventListener(Jf,S),()=>T.removeEventListener(Jf,S)},[S]),r.jsx(d3,{scope:n,orientation:s,dir:j,loop:o,currentTabStopId:w,onItemFocus:p.useCallback(T=>C(T),[C]),onItemShiftTab:p.useCallback(()=>_(!0),[]),onFocusableItemAdd:p.useCallback(()=>R(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>R(T=>T-1),[]),children:r.jsx(ve.div,{tabIndex:b||M===0?-1:0,"data-orientation":s,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{k.current=!0}),onFocus:re(e.onFocus,T=>{const z=!k.current;if(T.target===T.currentTarget&&z&&!b){const B=new CustomEvent(Jf,l3);if(T.currentTarget.dispatchEvent(B),!B.defaultPrevented){const D=P().filter(Z=>Z.focusable),K=D.find(Z=>Z.active),X=D.find(Z=>Z.id===w),de=[K,X,...D].filter(Boolean).map(Z=>Z.ref.current);hN(de,g)}}k.current=!1}),onBlur:re(e.onBlur,()=>_(!1))})})}),uN="RovingFocusGroupItem",dN=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,...c}=e,u=Tr(),d=a||u,f=h3(uN,n),g=f.currentTabStopId===d,m=lN(n),{onFocusableItemAdd:v,onFocusableItemRemove:y}=f;return p.useEffect(()=>{if(s)return v(),()=>y()},[s,v,y]),r.jsx(Ep.ItemSlot,{scope:n,id:d,focusable:s,active:o,children:r.jsx(ve.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:re(e.onMouseDown,j=>{s?f.onItemFocus(d):j.preventDefault()}),onFocus:re(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:re(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const w=g3(j,f.orientation,f.dir);if(w!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let b=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(j.currentTarget);b=f.loop?v3(b,_+1):b.slice(_+1)}setTimeout(()=>hN(b))}})})})});dN.displayName=uN;var m3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g3(e,t,n){const s=p3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return m3[s]}function hN(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function v3(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var fN=cN,mN=dN,x3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wo=new WeakMap,Eu=new WeakMap,Tu={},em=0,pN=function(e){return e&&(e.host||pN(e.parentNode))},y3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=pN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},w3=function(e,t,n,s){var o=y3(t,Array.isArray(e)?e:[e]);Tu[n]||(Tu[n]=new WeakMap);var a=Tu[n],c=[],u=new Set,d=new Set(o),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};o.forEach(f);var g=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(u.has(v))g(v);else try{var y=v.getAttribute(s),j=y!==null&&y!=="false",w=(wo.get(v)||0)+1,C=(a.get(v)||0)+1;wo.set(v,w),a.set(v,C),c.push(v),w===1&&j&&Eu.set(v,!0),C===1&&v.setAttribute(n,"true"),j||v.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",v,b)}})};return g(t),u.clear(),em++,function(){c.forEach(function(m){var v=wo.get(m)-1,y=a.get(m)-1;wo.set(m,v),a.set(m,y),v||(Eu.has(m)||m.removeAttribute(s),Eu.delete(m)),y||m.removeAttribute(n)}),em--,em||(wo=new WeakMap,wo=new WeakMap,Eu=new WeakMap,Tu={})}},wv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=x3(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live]"))),w3(s,o,n,"aria-hidden")):function(){return null}},Sr=function(){return Sr=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Sr.apply(this,arguments)};function gN(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function b3(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,a;s<o;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var Ju="right-scroll-bar-position",ed="width-before-scroll-bar",_3="with-scroll-bars-hidden",j3="--removed-body-scroll-bar-size";function tm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function N3(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var C3=typeof window<"u"?p.useLayoutEffect:p.useEffect,rw=new WeakMap;function S3(e,t){var n=N3(null,function(s){return e.forEach(function(o){return tm(o,s)})});return C3(function(){var s=rw.get(n);if(s){var o=new Set(s),a=new Set(e),c=n.current;o.forEach(function(u){a.has(u)||tm(u,null)}),a.forEach(function(u){o.has(u)||tm(u,c)})}rw.set(n,e)},[e]),n}function P3(e){return e}function k3(e,t){t===void 0&&(t=P3);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var c=t(a,s);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(s=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){s=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(a),c=n}var d=function(){var g=c;c=[],g.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(g){c.push(g),f()},filter:function(g){return c=c.filter(g),n}}}};return o}function E3(e){e===void 0&&(e={});var t=k3(null);return t.options=Sr({async:!0,ssr:!1},e),t}var vN=function(e){var t=e.sideCar,n=gN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Sr({},n))};vN.isSideCarExport=!0;function T3(e,t){return e.useMedium(t),vN}var xN=E3(),nm=function(){},gh=p.forwardRef(function(e,t){var n=p.useRef(null),s=p.useState({onScrollCapture:nm,onWheelCapture:nm,onTouchMoveCapture:nm}),o=s[0],a=s[1],c=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,g=e.enabled,m=e.shards,v=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,C=e.as,b=C===void 0?"div":C,_=e.gapMode,S=gN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,k=S3([n,t]),M=Sr(Sr({},S),o);return p.createElement(p.Fragment,null,g&&p.createElement(P,{sideCar:xN,removeScrollBar:f,shards:m,noIsolation:y,inert:j,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:_}),c?p.cloneElement(p.Children.only(u),Sr(Sr({},M),{ref:k})):p.createElement(b,Sr({},M,{className:d,ref:k}),u))});gh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gh.classNames={fullWidth:ed,zeroRight:Ju};var M3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function R3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M3();return t&&e.setAttribute("nonce",t),e}function L3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function A3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var I3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=R3())&&(L3(t,n),A3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},D3=function(){var e=I3();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yN=function(){var e=D3(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},O3={left:0,top:0,right:0,gap:0},rm=function(e){return parseInt(e||"",10)||0},z3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[rm(n),rm(s),rm(o)]},F3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return O3;var t=z3(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},$3=yN(),Go="data-scroll-locked",B3=function(e,t,n,s){var o=e.left,a=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(_3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Go,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ju,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(ed,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ed," .").concat(ed,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Go,`] {
    `).concat(j3,": ").concat(u,`px;
  }
`)},sw=function(){var e=parseInt(document.body.getAttribute(Go)||"0",10);return isFinite(e)?e:0},U3=function(){p.useEffect(function(){return document.body.setAttribute(Go,(sw()+1).toString()),function(){var e=sw()-1;e<=0?document.body.removeAttribute(Go):document.body.setAttribute(Go,e.toString())}},[])},V3=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;U3();var a=p.useMemo(function(){return F3(o)},[o]);return p.createElement($3,{styles:B3(a,!t,o,n?"":"!important")})},Tp=!1;if(typeof window<"u")try{var Mu=Object.defineProperty({},"passive",{get:function(){return Tp=!0,!0}});window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{Tp=!1}var bo=Tp?{passive:!1}:!1,H3=function(e){return e.tagName==="TEXTAREA"},wN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!H3(e)&&n[t]==="visible")},W3=function(e){return wN(e,"overflowY")},q3=function(e){return wN(e,"overflowX")},iw=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=bN(e,s);if(o){var a=_N(e,s),c=a[1],u=a[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Z3=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},K3=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},bN=function(e,t){return e==="v"?W3(t):q3(t)},_N=function(e,t){return e==="v"?Z3(t):K3(t)},G3=function(e,t){return e==="h"&&t==="rtl"?-1:1},Q3=function(e,t,n,s,o){var a=G3(e,window.getComputedStyle(t).direction),c=a*s,u=n.target,d=t.contains(u),f=!1,g=c>0,m=0,v=0;do{var y=_N(e,u),j=y[0],w=y[1],C=y[2],b=w-C-a*j;(j||b)&&bN(e,u)&&(m+=b,v+=j),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(g&&(Math.abs(m)<1||!o)||!g&&(Math.abs(v)<1||!o))&&(f=!0),f},Ru=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ow=function(e){return[e.deltaX,e.deltaY]},aw=function(e){return e&&"current"in e?e.current:e},Y3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},X3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},J3=0,_o=[];function ez(e){var t=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),o=p.useState(J3++)[0],a=p.useState(yN)[0],c=p.useRef(e);p.useEffect(function(){c.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=b3([e.lockRef.current],(e.shards||[]).map(aw),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=p.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var b=Ru(w),_=n.current,S="deltaX"in w?w.deltaX:_[0]-b[0],P="deltaY"in w?w.deltaY:_[1]-b[1],k,M=w.target,R=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in w&&R==="h"&&M.type==="range")return!1;var T=iw(R,M);if(!T)return!0;if(T?k=R:(k=R==="v"?"h":"v",T=iw(R,M)),!T)return!1;if(!s.current&&"changedTouches"in w&&(S||P)&&(s.current=k),!k)return!0;var z=s.current||k;return Q3(z,C,w,z==="h"?S:P,!0)},[]),d=p.useCallback(function(w){var C=w;if(!(!_o.length||_o[_o.length-1]!==a)){var b="deltaY"in C?ow(C):Ru(C),_=t.current.filter(function(k){return k.name===C.type&&(k.target===C.target||C.target===k.shadowParent)&&Y3(k.delta,b)})[0];if(_&&_.should){C.cancelable&&C.preventDefault();return}if(!_){var S=(c.current.shards||[]).map(aw).filter(Boolean).filter(function(k){return k.contains(C.target)}),P=S.length>0?u(C,S[0]):!c.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),f=p.useCallback(function(w,C,b,_){var S={name:w,delta:C,target:b,should:_,shadowParent:tz(b)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(P){return P!==S})},1)},[]),g=p.useCallback(function(w){n.current=Ru(w),s.current=void 0},[]),m=p.useCallback(function(w){f(w.type,ow(w),w.target,u(w,e.lockRef.current))},[]),v=p.useCallback(function(w){f(w.type,Ru(w),w.target,u(w,e.lockRef.current))},[]);p.useEffect(function(){return _o.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,bo),document.addEventListener("touchmove",d,bo),document.addEventListener("touchstart",g,bo),function(){_o=_o.filter(function(w){return w!==a}),document.removeEventListener("wheel",d,bo),document.removeEventListener("touchmove",d,bo),document.removeEventListener("touchstart",g,bo)}},[]);var y=e.removeScrollBar,j=e.inert;return p.createElement(p.Fragment,null,j?p.createElement(a,{styles:X3(o)}):null,y?p.createElement(V3,{gapMode:e.gapMode}):null)}function tz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nz=T3(xN,ez);var vh=p.forwardRef(function(e,t){return p.createElement(gh,Sr({},e,{ref:t,sideCar:nz}))});vh.classNames=gh.classNames;var Mp=["Enter"," "],rz=["ArrowDown","PageUp","Home"],jN=["ArrowUp","PageDown","End"],sz=[...rz,...jN],iz={ltr:[...Mp,"ArrowRight"],rtl:[...Mp,"ArrowLeft"]},oz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nc="Menu",[rc,az,lz]=th(Nc),[io,NN]=At(Nc,[lz,Ta,ph]),xh=Ta(),CN=ph(),[cz,oo]=io(Nc),[uz,Cc]=io(Nc),SN=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:a,modal:c=!0}=e,u=xh(t),[d,f]=p.useState(null),g=p.useRef(!1),m=st(a),v=Ia(o);return p.useEffect(()=>{const y=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),r.jsx(oj,{...u,children:r.jsx(cz,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:f,children:r.jsx(uz,{scope:t,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:v,modal:c,children:s})})})};SN.displayName=Nc;var dz="MenuAnchor",bv=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=xh(n);return r.jsx(sv,{...o,...s,ref:t})});bv.displayName=dz;var _v="MenuPortal",[hz,PN]=io(_v,{forceMount:void 0}),kN=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,a=oo(_v,t);return r.jsx(hz,{scope:t,forceMount:n,children:r.jsx(Hn,{present:n||a.open,children:r.jsx(gc,{asChild:!0,container:o,children:s})})})};kN.displayName=_v;var Bn="MenuContent",[fz,jv]=io(Bn),EN=p.forwardRef((e,t)=>{const n=PN(Bn,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=oo(Bn,e.__scopeMenu),c=Cc(Bn,e.__scopeMenu);return r.jsx(rc.Provider,{scope:e.__scopeMenu,children:r.jsx(Hn,{present:s||a.open,children:r.jsx(rc.Slot,{scope:e.__scopeMenu,children:c.modal?r.jsx(mz,{...o,ref:t}):r.jsx(pz,{...o,ref:t})})})})}),mz=p.forwardRef((e,t)=>{const n=oo(Bn,e.__scopeMenu),s=p.useRef(null),o=we(t,s);return p.useEffect(()=>{const a=s.current;if(a)return wv(a)},[]),r.jsx(Nv,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pz=p.forwardRef((e,t)=>{const n=oo(Bn,e.__scopeMenu);return r.jsx(Nv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),gz=Hi("MenuContent.ScrollLock"),Nv=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:v,onDismiss:y,disableOutsideScroll:j,...w}=e,C=oo(Bn,n),b=Cc(Bn,n),_=xh(n),S=CN(n),P=az(n),[k,M]=p.useState(null),R=p.useRef(null),T=we(t,R,C.onContentChange),z=p.useRef(0),B=p.useRef(""),D=p.useRef(0),K=p.useRef(null),X=p.useRef("right"),G=p.useRef(0),de=j?vh:p.Fragment,Z=j?{as:gz,allowPinchZoom:!0}:void 0,W=H=>{var ue,je;const q=B.current+H,$=P().filter(Ie=>!Ie.disabled),ee=document.activeElement,se=(ue=$.find(Ie=>Ie.ref.current===ee))==null?void 0:ue.textValue,J=$.map(Ie=>Ie.textValue),ge=kz(J,q,se),te=(je=$.find(Ie=>Ie.textValue===ge))==null?void 0:je.ref.current;(function Ie(Me){B.current=Me,window.clearTimeout(z.current),Me!==""&&(z.current=window.setTimeout(()=>Ie(""),1e3))})(q),te&&setTimeout(()=>te.focus())};p.useEffect(()=>()=>window.clearTimeout(z.current),[]),yv();const O=p.useCallback(H=>{var $,ee;return X.current===(($=K.current)==null?void 0:$.side)&&Tz(H,(ee=K.current)==null?void 0:ee.area)},[]);return r.jsx(fz,{scope:n,searchRef:B,onItemEnter:p.useCallback(H=>{O(H)&&H.preventDefault()},[O]),onItemLeave:p.useCallback(H=>{var q;O(H)||((q=R.current)==null||q.focus(),M(null))},[O]),onTriggerLeave:p.useCallback(H=>{O(H)&&H.preventDefault()},[O]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(H=>{K.current=H},[]),children:r.jsx(de,{...Z,children:r.jsx(fh,{asChild:!0,trapped:o,onMountAutoFocus:re(a,H=>{var q;H.preventDefault(),(q=R.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:r.jsx(Sa,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:v,onDismiss:y,children:r.jsx(fN,{asChild:!0,...S,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:re(d,H=>{b.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(iv,{role:"menu","aria-orientation":"vertical","data-state":WN(C.open),"data-radix-menu-content":"",dir:b.dir,..._,...w,ref:T,style:{outline:"none",...w.style},onKeyDown:re(w.onKeyDown,H=>{const $=H.target.closest("[data-radix-menu-content]")===H.currentTarget,ee=H.ctrlKey||H.altKey||H.metaKey,se=H.key.length===1;$&&(H.key==="Tab"&&H.preventDefault(),!ee&&se&&W(H.key));const J=R.current;if(H.target!==J||!sz.includes(H.key))return;H.preventDefault();const te=P().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);jN.includes(H.key)&&te.reverse(),Sz(te)}),onBlur:re(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(z.current),B.current="")}),onPointerMove:re(e.onPointerMove,sc(H=>{const q=H.target,$=G.current!==H.clientX;if(H.currentTarget.contains(q)&&$){const ee=H.clientX>G.current?"right":"left";X.current=ee,G.current=H.clientX}}))})})})})})})});EN.displayName=Bn;var vz="MenuGroup",Cv=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ve.div,{role:"group",...s,ref:t})});Cv.displayName=vz;var xz="MenuLabel",TN=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ve.div,{...s,ref:t})});TN.displayName=xz;var Ld="MenuItem",lw="menu.itemSelect",yh=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,a=p.useRef(null),c=Cc(Ld,e.__scopeMenu),u=jv(Ld,e.__scopeMenu),d=we(t,a),f=p.useRef(!1),g=()=>{const m=a.current;if(!n&&m){const v=new CustomEvent(lw,{bubbles:!0,cancelable:!0});m.addEventListener(lw,y=>s==null?void 0:s(y),{once:!0}),Fg(m,v),v.defaultPrevented?f.current=!1:c.onClose()}};return r.jsx(MN,{...o,ref:d,disabled:n,onClick:re(e.onClick,g),onPointerDown:m=>{var v;(v=e.onPointerDown)==null||v.call(e,m),f.current=!0},onPointerUp:re(e.onPointerUp,m=>{var v;f.current||(v=m.currentTarget)==null||v.click()}),onKeyDown:re(e.onKeyDown,m=>{const v=u.searchRef.current!=="";n||v&&m.key===" "||Mp.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});yh.displayName=Ld;var MN=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...a}=e,c=jv(Ld,n),u=CN(n),d=p.useRef(null),f=we(t,d),[g,m]=p.useState(!1),[v,y]=p.useState("");return p.useEffect(()=>{const j=d.current;j&&y((j.textContent??"").trim())},[a.children]),r.jsx(rc.ItemSlot,{scope:n,disabled:s,textValue:o??v,children:r.jsx(mN,{asChild:!0,...u,focusable:!s,children:r.jsx(ve.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:f,onPointerMove:re(e.onPointerMove,sc(j=>{s?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,sc(j=>c.onItemLeave(j))),onFocus:re(e.onFocus,()=>m(!0)),onBlur:re(e.onBlur,()=>m(!1))})})})}),yz="MenuCheckboxItem",RN=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return r.jsx(ON,{scope:e.__scopeMenu,checked:n,children:r.jsx(yh,{role:"menuitemcheckbox","aria-checked":Ad(n)?"mixed":n,...o,ref:t,"data-state":Pv(n),onSelect:re(o.onSelect,()=>s==null?void 0:s(Ad(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RN.displayName=yz;var LN="MenuRadioGroup",[wz,bz]=io(LN,{value:void 0,onValueChange:()=>{}}),AN=p.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,a=st(s);return r.jsx(wz,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(Cv,{...o,ref:t})})});AN.displayName=LN;var IN="MenuRadioItem",DN=p.forwardRef((e,t)=>{const{value:n,...s}=e,o=bz(IN,e.__scopeMenu),a=n===o.value;return r.jsx(ON,{scope:e.__scopeMenu,checked:a,children:r.jsx(yh,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":Pv(a),onSelect:re(s.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,n)},{checkForDefaultPrevented:!1})})})});DN.displayName=IN;var Sv="MenuItemIndicator",[ON,_z]=io(Sv,{checked:!1}),zN=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,a=_z(Sv,n);return r.jsx(Hn,{present:s||Ad(a.checked)||a.checked===!0,children:r.jsx(ve.span,{...o,ref:t,"data-state":Pv(a.checked)})})});zN.displayName=Sv;var jz="MenuSeparator",FN=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});FN.displayName=jz;var Nz="MenuArrow",$N=p.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=xh(n);return r.jsx(ov,{...o,...s,ref:t})});$N.displayName=Nz;var Cz="MenuSub",[M$,BN]=io(Cz),bl="MenuSubTrigger",UN=p.forwardRef((e,t)=>{const n=oo(bl,e.__scopeMenu),s=Cc(bl,e.__scopeMenu),o=BN(bl,e.__scopeMenu),a=jv(bl,e.__scopeMenu),c=p.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=a,f={__scopeMenu:e.__scopeMenu},g=p.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return p.useEffect(()=>g,[g]),p.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),r.jsx(bv,{asChild:!0,...f,children:r.jsx(MN,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":WN(n.open),...e,ref:Ca(t,o.onTriggerChange),onClick:m=>{var v;(v=e.onClick)==null||v.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,sc(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:re(e.onPointerLeave,sc(m=>{var y,j;g();const v=(y=n.content)==null?void 0:y.getBoundingClientRect();if(v){const w=(j=n.content)==null?void 0:j.dataset.side,C=w==="right",b=C?-5:5,_=v[C?"left":"right"],S=v[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:_,y:v.top},{x:S,y:v.top},{x:S,y:v.bottom},{x:_,y:v.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,m=>{var y;const v=a.searchRef.current!=="";e.disabled||v&&m.key===" "||iz[s.dir].includes(m.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),m.preventDefault())})})})});UN.displayName=bl;var VN="MenuSubContent",HN=p.forwardRef((e,t)=>{const n=PN(Bn,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=oo(Bn,e.__scopeMenu),c=Cc(Bn,e.__scopeMenu),u=BN(VN,e.__scopeMenu),d=p.useRef(null),f=we(t,d);return r.jsx(rc.Provider,{scope:e.__scopeMenu,children:r.jsx(Hn,{present:s||a.open,children:r.jsx(rc.Slot,{scope:e.__scopeMenu,children:r.jsx(Nv,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var m;c.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:re(e.onFocusOutside,g=>{g.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,g=>{c.onClose(),g.preventDefault()}),onKeyDown:re(e.onKeyDown,g=>{var y;const m=g.currentTarget.contains(g.target),v=oz[c.dir].includes(g.key);m&&v&&(a.onOpenChange(!1),(y=u.trigger)==null||y.focus(),g.preventDefault())})})})})})});HN.displayName=VN;function WN(e){return e?"open":"closed"}function Ad(e){return e==="indeterminate"}function Pv(e){return Ad(e)?"indeterminate":e?"checked":"unchecked"}function Sz(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Pz(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function kz(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=Pz(e,Math.max(a,0));o.length===1&&(c=c.filter(f=>f!==n));const d=c.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function Ez(e,t){const{x:n,y:s}=e;let o=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const u=t[a].x,d=t[a].y,f=t[c].x,g=t[c].y;d>s!=g>s&&n<(f-u)*(s-d)/(g-d)+u&&(o=!o)}return o}function Tz(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ez(n,t)}function sc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Mz=SN,Rz=bv,Lz=kN,Az=EN,Iz=Cv,Dz=TN,Oz=yh,zz=RN,Fz=AN,$z=DN,Bz=zN,Uz=FN,Vz=$N,Hz=UN,Wz=HN,kv="DropdownMenu",[qz,R$]=At(kv,[NN]),rn=NN(),[Zz,qN]=qz(kv),ZN=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:a,onOpenChange:c,modal:u=!0}=e,d=rn(t),f=p.useRef(null),[g=!1,m]=is({prop:o,defaultProp:a,onChange:c});return r.jsx(Zz,{scope:t,triggerId:Tr(),triggerRef:f,contentId:Tr(),open:g,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(v=>!v),[m]),modal:u,children:r.jsx(Mz,{...d,open:g,onOpenChange:m,dir:s,modal:u,children:n})})};ZN.displayName=kv;var KN="DropdownMenuTrigger",GN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,a=qN(KN,n),c=rn(n);return r.jsx(Rz,{asChild:!0,...c,children:r.jsx(ve.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:Ca(t,a.triggerRef),onPointerDown:re(e.onPointerDown,u=>{!s&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:re(e.onKeyDown,u=>{s||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});GN.displayName=KN;var Kz="DropdownMenuPortal",QN=e=>{const{__scopeDropdownMenu:t,...n}=e,s=rn(t);return r.jsx(Lz,{...s,...n})};QN.displayName=Kz;var YN="DropdownMenuContent",XN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=qN(YN,n),a=rn(n),c=p.useRef(!1);return r.jsx(Az,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...s,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,u=>{var d;c.current||(d=o.triggerRef.current)==null||d.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:re(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,g=d.button===2||f;(!o.modal||g)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XN.displayName=YN;var Gz="DropdownMenuGroup",Qz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Iz,{...o,...s,ref:t})});Qz.displayName=Gz;var Yz="DropdownMenuLabel",JN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Dz,{...o,...s,ref:t})});JN.displayName=Yz;var Xz="DropdownMenuItem",e2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Oz,{...o,...s,ref:t})});e2.displayName=Xz;var Jz="DropdownMenuCheckboxItem",t2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(zz,{...o,...s,ref:t})});t2.displayName=Jz;var e5="DropdownMenuRadioGroup",t5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Fz,{...o,...s,ref:t})});t5.displayName=e5;var n5="DropdownMenuRadioItem",n2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx($z,{...o,...s,ref:t})});n2.displayName=n5;var r5="DropdownMenuItemIndicator",r2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Bz,{...o,...s,ref:t})});r2.displayName=r5;var s5="DropdownMenuSeparator",s2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Uz,{...o,...s,ref:t})});s2.displayName=s5;var i5="DropdownMenuArrow",o5=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Vz,{...o,...s,ref:t})});o5.displayName=i5;var a5="DropdownMenuSubTrigger",i2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Hz,{...o,...s,ref:t})});i2.displayName=a5;var l5="DropdownMenuSubContent",o2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=rn(n);return r.jsx(Wz,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o2.displayName=l5;var c5=ZN,u5=GN,d5=QN,a2=XN,l2=JN,c2=e2,u2=t2,d2=n2,h2=r2,f2=s2,m2=i2,p2=o2;const g2=c5,v2=u5,h5=p.forwardRef(({className:e,inset:t,children:n,...s},o)=>r.jsxs(m2,{ref:o,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(Cd,{className:"ml-auto h-4 w-4"})]}));h5.displayName=m2.displayName;const f5=p.forwardRef(({className:e,...t},n)=>r.jsx(p2,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));f5.displayName=p2.displayName;const Ev=p.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(d5,{children:r.jsx(a2,{ref:s,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ev.displayName=a2.displayName;const _r=p.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(c2,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));_r.displayName=c2.displayName;const m5=p.forwardRef(({className:e,children:t,checked:n,...s},o)=>r.jsxs(u2,{ref:o,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(h2,{children:r.jsx(yc,{className:"h-4 w-4"})})}),t]}));m5.displayName=u2.displayName;const p5=p.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(d2,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(h2,{children:r.jsx(HM,{className:"h-2 w-2 fill-current"})})}),t]}));p5.displayName=d2.displayName;const g5=p.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(l2,{ref:s,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));g5.displayName=l2.displayName;const x2=p.forwardRef(({className:e,...t},n)=>r.jsx(f2,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));x2.displayName=f2.displayName;function v5({onFileSelect:e,disabled:t=!1,className:n}){const s=p.useRef(null),o=p.useRef(null),a=p.useRef(null),[c,u]=p.useState(!1),d=(v,y)=>{var w;const j=(w=v.target.files)==null?void 0:w[0];j&&e(j,y),v.target.value=""},f=v=>{v.preventDefault(),u(!1);const y=v.dataTransfer.files;if(y.length>0){const j=y[0],w=j.type.startsWith("image/")?"image":"file";e(j,w)}},g=v=>{v.preventDefault(),u(!0)},m=v=>{v.preventDefault(),u(!1)};return r.jsxs("div",{className:ce("relative",n),children:[r.jsx("input",{ref:s,type:"file",onChange:v=>d(v,"file"),className:"hidden",accept:"*/*"}),r.jsx("input",{ref:o,type:"file",onChange:v=>d(v,"image"),className:"hidden",accept:"image/*"}),r.jsx("input",{ref:a,type:"file",onChange:v=>d(v,"camera"),className:"hidden",accept:"image/*",capture:"environment"}),c&&r.jsx("div",{className:"fixed inset-0 bg-blue-500/20 border-2 border-dashed border-blue-500 z-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-lg",children:[r.jsx(Zg,{className:"w-12 h-12 mx-auto mb-4 text-blue-500"}),r.jsx("p",{className:"text-lg font-medium text-center",children:"Déposez votre fichier ici"})]})}),r.jsxs(g2,{children:[r.jsx(v2,{asChild:!0,children:r.jsx(V,{variant:"ghost",size:"sm",disabled:t,className:"h-8 w-8 p-0",onDrop:f,onDragOver:g,onDragLeave:m,children:r.jsx(iR,{className:"h-4 w-4"})})}),r.jsxs(Ev,{align:"end",className:"w-56",children:[r.jsxs(_r,{onClick:()=>{var v;return(v=o.current)==null?void 0:v.click()},className:"cursor-pointer",children:[r.jsx(j1,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Choisir une image"})]}),r.jsxs(_r,{onClick:()=>{var v;return(v=a.current)==null?void 0:v.click()},className:"cursor-pointer",children:[r.jsx(np,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Prendre une photo"})]}),r.jsxs(_r,{onClick:()=>{var v;return(v=s.current)==null?void 0:v.click()},className:"cursor-pointer",children:[r.jsx(_1,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Choisir un fichier"})]})]})]})]})}function x5({file:e,onRemove:t,onSend:n,uploading:s=!1}){const[o,a]=p.useState(null);Y.useEffect(()=>{if(e.type.startsWith("image/")){const u=new FileReader;u.onload=d=>{var f;return a((f=d.target)==null?void 0:f.result)},u.readAsDataURL(e)}return()=>a(null)},[e]);const c=u=>{if(u===0)return"0 Bytes";const d=1024,f=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(u)/Math.log(d));return parseFloat((u/Math.pow(d,g)).toFixed(2))+" "+f[g]};return r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500",children:c(e.size)})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0 ml-2",disabled:s,children:r.jsx(gn,{className:"h-4 w-4"})})]}),o&&r.jsx("div",{className:"relative",children:r.jsx("img",{src:o,alt:"Preview",className:"max-w-full h-auto max-h-40 object-contain rounded border"})}),!o&&r.jsx("div",{className:"flex items-center justify-center h-20 bg-gray-100 dark:bg-gray-700 rounded border",children:r.jsx(_1,{className:"h-8 w-8 text-gray-400"})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{onClick:n,disabled:s,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:s?"Envoi...":"Envoyer"})})]})}function y2(){var G,de,Z;const{user:e}=It(),{conversations:t,isLoadingConversations:n,useConversationMessages:s,sendMessage:o,isSendingMessage:a}=RD(),[c,u]=p.useState(null),[d,f]=p.useState(""),[g,m]=p.useState(null),[v,y]=p.useState(null),[j,w]=p.useState(!1),[C,b]=p.useState(null),_=s(c),S=async()=>{if(!(!d.trim()||!c))try{await o({conversationId:c,content:d.trim()}),f(""),await P()}catch(W){console.error("Error sending message:",W)}},P=async()=>{var W;if(!(!(X!=null&&X.product_image_url)||!c))try{(((W=_.data)==null?void 0:W.length)||0)<=2&&await o({conversationId:c,content:`Voici le produit dont nous discutons: ${X.product_title}`})}catch(O){console.error("Error auto-sending product photo:",O)}},k=W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),S())},M=(W,O)=>{m(W),y(O)},R=()=>{m(null),y(null)},T=async()=>{if(!(!g||!c)){w(!0);try{const W={conversationId:c,content:g.name,message_type:v==="image"||v==="camera"?"image":"file",file_url:URL.createObjectURL(g),file_name:g.name,file_size:g.size};await o(W),R()}catch(W){console.error("Error sending file:",W)}finally{w(!1)}}},z=W=>{X&&b({type:W,isIncoming:!1,callerName:X.other_user_name||X.other_user_email,isActive:!0})},B=()=>{b(null)},D=()=>{C&&b({...C,isActive:!0})},K=()=>{b(null)},X=t.find(W=>W.id===c);return n?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid gap-4",children:[1,2,3].map(W=>r.jsx("div",{className:"h-20 bg-gray-200 rounded"},W))})]})}):r.jsxs("div",{className:"container mx-auto px-4 py-8 min-h-screen bg-white",children:[r.jsxs("div",{className:"flex gap-6 h-[600px]",children:[r.jsx("div",{className:`${c?"hidden lg:block":"block"} w-full lg:w-1/3`,children:r.jsxs(ae,{className:"h-full border border-gray-300",children:[r.jsx(Ve,{className:"bg-red-500 text-white",children:r.jsxs(Ze,{className:"flex items-center gap-3",children:[r.jsx(hn,{className:"h-5 w-5"}),r.jsxs("span",{className:"font-bold",children:["Messages (",t.length,")"]})]})}),r.jsx(le,{className:"p-0",children:r.jsx("div",{className:"divide-y max-h-[500px] overflow-y-auto",children:t.length===0?r.jsxs("div",{className:"p-6 text-center text-gray-500",children:[r.jsx(hn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"Aucune conversation"}),r.jsx("p",{className:"text-sm",children:"Contactez un vendeur depuis la carte pour commencer"})]}):t.map(W=>{var O;return r.jsx("div",{className:`p-4 cursor-pointer hover:bg-gray-50 ${c===W.id?"bg-red-50 border-l-4 border-red-500":""}`,onClick:()=>u(W.id),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(zn,{className:"h-12 w-12",children:W.other_user_avatar_url?r.jsx("img",{src:W.other_user_avatar_url,alt:W.other_user_name||"Avatar",className:"w-full h-full object-cover rounded-full"}):r.jsx(Fn,{className:"bg-red-500 text-white font-bold",children:((O=W.other_user_name)==null?void 0:O.charAt(0).toUpperCase())||"U"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-green-500 border-2 border-white"})]}),W.product_image_url&&r.jsx("div",{className:"w-12 h-12 rounded border border-gray-200 bg-white overflow-hidden",children:r.jsx("img",{src:W.product_image_url,alt:W.product_title,className:"w-full h-full object-cover"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("p",{className:"font-bold text-sm truncate text-black",children:W.other_user_name||W.other_user_email})}),W.unread_count>0&&r.jsx("span",{className:"text-xs bg-red-500 text-white px-2 py-1 rounded",children:W.unread_count})]}),r.jsx("p",{className:"text-xs text-red-600 mb-1 font-semibold",children:W.product_title}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:W.last_message||"Nouvelle conversation"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Q0(new Date(W.last_message_time),{addSuffix:!0,locale:Y0})})]})]})},W.id)})})})]})}),c?r.jsx("div",{className:`${c?"block":"hidden lg:block"} w-full lg:w-2/3`,children:r.jsxs(ae,{className:"h-full flex flex-col border border-gray-200 bg-white",children:[r.jsx(Ve,{className:"pb-4 bg-white border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>u(null),children:r.jsx(ir,{className:"h-4 w-4"})}),r.jsxs("div",{className:"relative flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(zn,{className:"h-12 w-12 border-2 border-white shadow-sm",children:X!=null&&X.other_user_avatar_url?r.jsx("img",{src:X.other_user_avatar_url,alt:X.other_user_name||"Avatar",className:"w-full h-full object-cover rounded-full"}):r.jsx(Fn,{className:"bg-red-500 text-white font-bold",children:((G=X==null?void 0:X.other_user_name)==null?void 0:G.charAt(0).toUpperCase())||"U"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-green-500 border-2 border-white"})]}),(X==null?void 0:X.product_image_url)&&r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-12 h-12 rounded border border-gray-200 bg-white overflow-hidden",children:r.jsx("img",{src:X.product_image_url,alt:X.product_title,className:"w-full h-full object-cover"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("h3",{className:"font-bold text-lg text-black",children:(X==null?void 0:X.other_user_name)||(X==null?void 0:X.other_user_email)})}),r.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["À propos de: ",r.jsx("span",{className:"text-red-600 font-semibold",children:X==null?void 0:X.product_title})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>z("audio"),title:"Appel audio",className:"border-gray-300 hover:bg-gray-50",children:r.jsx(Do,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>z("video"),title:"Appel vidéo",className:"border-gray-300 hover:bg-gray-50",children:r.jsx(E1,{className:"h-4 w-4"})})]})]})}),r.jsxs(le,{className:"flex-1 flex flex-col p-0 bg-white",children:[r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 max-h-[400px] relative",children:_.isLoading?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-pulse text-gray-500",children:"Chargement des messages..."})}):((de=_.data)==null?void 0:de.length)===0?r.jsxs("div",{className:"text-center text-gray-500 py-8",children:[r.jsx(hn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"Commencez la conversation"})]}):(Z=_.data)==null?void 0:Z.map(W=>{const O=W.sender_id===(e==null?void 0:e.id);return r.jsxs("div",{className:`flex ${O?"justify-end":"justify-start"} items-end gap-3`,children:[!O&&r.jsx(zn,{className:"h-8 w-8 mb-1",children:W.sender_avatar_url?r.jsx("img",{src:W.sender_avatar_url,alt:W.sender_name||"Avatar",className:"w-full h-full object-cover rounded-full"}):r.jsx(Fn,{className:"bg-red-500 text-white text-xs font-bold",children:(W.sender_name||W.sender_email||"U").charAt(0).toUpperCase()})}),r.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded border ${O?"bg-red-500 text-white border-red-500":"bg-white text-black border-gray-300"}`,children:[W.message_type==="image"&&W.file_url?r.jsxs("div",{className:"mb-2",children:[r.jsx("img",{src:W.file_url,alt:W.file_name||"Image",className:"max-w-full h-auto rounded border"}),W.file_name&&r.jsx("p",{className:"text-xs mt-1 opacity-80",children:W.file_name})]}):W.message_type==="file"&&W.file_url?r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(j1,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:W.file_name}),W.file_size&&r.jsxs("p",{className:"text-xs opacity-80",children:[(W.file_size/1024/1024).toFixed(2)," MB"]})]})]}):r.jsx("p",{className:"text-sm",children:W.content}),r.jsx("p",{className:`text-xs mt-1 ${O?"text-red-100":"text-gray-500"}`,children:Q0(new Date(W.created_at),{addSuffix:!0,locale:Y0})})]}),O&&r.jsx(zn,{className:"h-8 w-8 mb-1",children:e!=null&&e.avatar_url?r.jsx("img",{src:e.avatar_url,alt:e.display_name||"Mon avatar",className:"w-full h-full object-cover rounded-full"}):r.jsx(Fn,{className:"bg-red-500 text-white text-xs font-semibold",children:((e==null?void 0:e.display_name)||(e==null?void 0:e.email)||"M").charAt(0).toUpperCase()})})]},W.id)})}),g&&r.jsx("div",{className:"border-t p-4",children:r.jsx(x5,{file:g,onRemove:R,onSend:T,uploading:j})}),r.jsx("div",{className:"border-t p-3 bg-white",children:r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsx("button",{onClick:()=>f("Pouvez-vous me donner votre localisation exacte ?"),className:"px-3 py-1 text-xs bg-red-500 text-white border border-red-500 hover:bg-red-600",children:"Localisation"}),r.jsx("button",{onClick:()=>f("Pouvons-nous prendre rendez-vous pour voir le produit ?"),className:"px-3 py-1 text-xs bg-red-500 text-white border border-red-500 hover:bg-red-600",children:"Rendez-vous"}),r.jsx("button",{onClick:()=>f("Quel est votre meilleur prix ?"),className:"px-3 py-1 text-xs bg-red-500 text-white border border-red-500 hover:bg-red-600",children:"Prix"}),r.jsx("button",{onClick:()=>f("Le produit est-il encore disponible ?"),className:"px-3 py-1 text-xs bg-red-500 text-white border border-red-500 hover:bg-red-600",children:"Disponibilité"}),r.jsx("button",{onClick:()=>f("Pouvez-vous m'envoyer plus de photos ?"),className:"px-3 py-1 text-xs bg-red-500 text-white border border-red-500 hover:bg-red-600",children:"Photos"}),r.jsx("button",{onClick:()=>f("Merci beaucoup !"),className:"px-3 py-1 text-xs bg-red-500 text-white border border-red-500 hover:bg-red-600",children:"Merci"})]})}),r.jsx("div",{className:"p-4 bg-white border-t border-gray-300",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(V,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-600 hover:bg-gray-50",children:r.jsx(en,{className:"h-4 w-4"})}),r.jsx(V,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-600 hover:bg-gray-50",children:r.jsx(dR,{className:"h-4 w-4"})}),r.jsx(v5,{onFileSelect:M,disabled:a||j}),r.jsxs("div",{className:"flex-1 flex gap-3",children:[r.jsx(_e,{placeholder:"Tapez votre message...",value:d,onChange:W=>f(W.target.value),onKeyPress:k,disabled:a||j,className:"border-gray-300"}),r.jsx(V,{onClick:S,disabled:!d.trim()||a||j,className:"bg-red-500 hover:bg-red-600 text-white",children:r.jsx(P1,{className:"h-5 w-5"})})]})]})})]})]})}):r.jsx("div",{className:"hidden lg:flex w-2/3 items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(hn,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sélectionnez une conversation"}),r.jsx("p",{children:"Choisissez une conversation pour commencer à discuter"})]})})]}),C&&r.jsx(JO,{isIncoming:C.isIncoming,callerName:C.callerName,onAccept:D,onReject:K,onEnd:B,callType:C.type,isActive:C.isActive})]})}var Tv="Dialog",[w2,b2]=At(Tv),[y5,cr]=w2(Tv),_2=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=e,u=p.useRef(null),d=p.useRef(null),[f=!1,g]=is({prop:s,defaultProp:o,onChange:a});return r.jsx(y5,{scope:t,triggerRef:u,contentRef:d,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:f,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(m=>!m),[g]),modal:c,children:n})};_2.displayName=Tv;var j2="DialogTrigger",N2=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=cr(j2,n),a=we(t,o.triggerRef);return r.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Lv(o.open),...s,ref:a,onClick:re(e.onClick,o.onOpenToggle)})});N2.displayName=j2;var Mv="DialogPortal",[w5,C2]=w2(Mv,{forceMount:void 0}),S2=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:o}=e,a=cr(Mv,t);return r.jsx(w5,{scope:t,forceMount:n,children:p.Children.map(s,c=>r.jsx(Hn,{present:n||a.open,children:r.jsx(gc,{asChild:!0,container:o,children:c})}))})};S2.displayName=Mv;var Id="DialogOverlay",P2=p.forwardRef((e,t)=>{const n=C2(Id,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,a=cr(Id,e.__scopeDialog);return a.modal?r.jsx(Hn,{present:s||a.open,children:r.jsx(_5,{...o,ref:t})}):null});P2.displayName=Id;var b5=Hi("DialogOverlay.RemoveScroll"),_5=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=cr(Id,n);return r.jsx(vh,{as:b5,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(ve.div,{"data-state":Lv(o.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Xi="DialogContent",k2=p.forwardRef((e,t)=>{const n=C2(Xi,e.__scopeDialog),{forceMount:s=n.forceMount,...o}=e,a=cr(Xi,e.__scopeDialog);return r.jsx(Hn,{present:s||a.open,children:a.modal?r.jsx(j5,{...o,ref:t}):r.jsx(N5,{...o,ref:t})})});k2.displayName=Xi;var j5=p.forwardRef((e,t)=>{const n=cr(Xi,e.__scopeDialog),s=p.useRef(null),o=we(t,n.contentRef,s);return p.useEffect(()=>{const a=s.current;if(a)return wv(a)},[]),r.jsx(E2,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:re(e.onFocusOutside,a=>a.preventDefault())})}),N5=p.forwardRef((e,t)=>{const n=cr(Xi,e.__scopeDialog),s=p.useRef(!1),o=p.useRef(!1);return r.jsx(E2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),E2=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=e,u=cr(Xi,n),d=p.useRef(null),f=we(t,d);return yv(),r.jsxs(r.Fragment,{children:[r.jsx(fh,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:r.jsx(Sa,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Lv(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(S5,{titleId:u.titleId}),r.jsx(k5,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Rv="DialogTitle",T2=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=cr(Rv,n);return r.jsx(ve.h2,{id:o.titleId,...s,ref:t})});T2.displayName=Rv;var M2="DialogDescription",R2=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=cr(M2,n);return r.jsx(ve.p,{id:o.descriptionId,...s,ref:t})});R2.displayName=M2;var L2="DialogClose",A2=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,o=cr(L2,n);return r.jsx(ve.button,{type:"button",...s,ref:t,onClick:re(e.onClick,()=>o.onOpenChange(!1))})});A2.displayName=L2;function Lv(e){return e?"open":"closed"}var I2="DialogTitleWarning",[C5,D2]=QT(I2,{contentName:Xi,titleName:Rv,docsSlug:"dialog"}),S5=({titleId:e})=>{const t=D2(I2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},P5="DialogDescriptionWarning",k5=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D2(P5).contentName}}.`;return p.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},O2=_2,z2=N2,F2=S2,Av=P2,Iv=k2,Dv=T2,Ov=R2,zv=A2;const Ji=O2,wh=z2,E5=F2,$2=p.forwardRef(({className:e,...t},n)=>r.jsx(Av,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$2.displayName=Av.displayName;const ii=p.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(E5,{children:[r.jsx($2,{}),r.jsxs(Iv,{ref:s,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(zv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(gn,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ii.displayName=Iv.displayName;const eo=({className:e,...t})=>r.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});eo.displayName="DialogHeader";const Fv=({className:e,...t})=>r.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fv.displayName="DialogFooter";const to=p.forwardRef(({className:e,...t},n)=>r.jsx(Dv,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));to.displayName=Dv.displayName;const bh=p.forwardRef(({className:e,...t},n)=>r.jsx(Ov,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));bh.displayName=Ov.displayName;const cw=({images:e,title:t,className:n})=>{const[s,o]=p.useState(0),[a,c]=p.useState(!1),u=()=>{o(m=>(m+1)%e.length)},d=()=>{o(m=>(m-1+e.length)%e.length)},f=()=>{c(!0)},g=()=>{c(!1)};return e.length===0?null:r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:ce("relative overflow-hidden rounded-xl",n),children:[r.jsxs("div",{className:"relative aspect-[4/3] bg-muted",children:[r.jsx("img",{src:e[s],alt:t||`Image ${s+1}`,className:"w-full h-full object-cover cursor-zoom-in",onClick:f}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 text-white hover:bg-black/70",onClick:d,children:r.jsx(rp,{size:16})}),r.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-black/50 text-white hover:bg-black/70",onClick:u,children:r.jsx(Cd,{size:16})})]}),r.jsx(V,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-black/50 text-white hover:bg-black/70",onClick:f,title:"Plein écran",children:r.jsx(b1,{size:16})}),e.length>1&&r.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[s+1," / ",e.length]})]}),e.length>1&&r.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto pb-2",children:e.map((m,v)=>r.jsx("button",{className:ce("flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all",v===s?"border-tomati-red shadow-lg":"border-transparent opacity-60 hover:opacity-100"),onClick:()=>o(v),children:r.jsx("img",{src:m,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"})},v))})]}),a&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 text-white hover:bg-white/30",onClick:g,children:r.jsx(gn,{size:20})}),r.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[r.jsx("img",{src:e[s],alt:t||`Image ${s+1}`,className:"max-w-full max-h-full object-contain"}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"ghost",size:"sm",className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 text-white hover:bg-white/30",onClick:d,children:r.jsx(rp,{size:24})}),r.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 text-white hover:bg-white/30",onClick:u,children:r.jsx(Cd,{size:24})})]})]})]})]})};function T5(e){const t=M5(e),n=p.forwardRef((s,o)=>{const{children:a,...c}=s,u=p.Children.toArray(a),d=u.find(L5);if(d){const f=d.props.children,g=u.map(m=>m===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:m);return r.jsx(t,{...c,ref:o,children:p.isValidElement(f)?p.cloneElement(f,void 0,g):null})}return r.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function M5(e){const t=p.forwardRef((n,s)=>{const{children:o,...a}=n;if(p.isValidElement(o)){const c=I5(o),u=A5(a,o.props);return o.type!==p.Fragment&&(u.ref=s?Ca(s,c):c),p.cloneElement(o,u)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var R5=Symbol("radix.slottable");function L5(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===R5}function A5(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...u)=>{const d=a(...u);return o(...u),d}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function I5(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var D5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sc=D5.reduce((e,t)=>{const n=T5(`Primitive.${t}`),s=p.forwardRef((o,a)=>{const{asChild:c,...u}=o,d=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...u,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function O5(e,t){return p.useReducer((n,s)=>t[n][s]??n,e)}var Pc=e=>{const{present:t,children:n}=e,s=z5(t),o=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),a=we(s.ref,F5(o));return typeof n=="function"||s.isPresent?p.cloneElement(o,{ref:a}):null};Pc.displayName="Presence";function z5(e){const[t,n]=p.useState(),s=p.useRef(null),o=p.useRef(e),a=p.useRef("none"),c=e?"mounted":"unmounted",[u,d]=O5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=Lu(s.current);a.current=u==="mounted"?f:"none"},[u]),dt(()=>{const f=s.current,g=o.current;if(g!==e){const v=a.current,y=Lu(f);e?d("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(g&&v!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),dt(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,m=y=>{const w=Lu(s.current).includes(y.animationName);if(y.target===t&&w&&(d("ANIMATION_END"),!o.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},v=y=>{y.target===t&&(a.current=Lu(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(f=>{s.current=f?getComputedStyle(f):null,n(f)},[])}}function Lu(e){return(e==null?void 0:e.animationName)||"none"}function F5(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ic(e,[t,n]){return Math.min(n,Math.max(t,e))}function $5(e,t){return p.useReducer((n,s)=>t[n][s]??n,e)}var $v="ScrollArea",[B2,L$]=At($v),[B5,Wn]=B2($v),U2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:a=600,...c}=e,[u,d]=p.useState(null),[f,g]=p.useState(null),[m,v]=p.useState(null),[y,j]=p.useState(null),[w,C]=p.useState(null),[b,_]=p.useState(0),[S,P]=p.useState(0),[k,M]=p.useState(!1),[R,T]=p.useState(!1),z=we(t,D=>d(D)),B=Ia(o);return r.jsx(B5,{scope:n,type:s,dir:B,scrollHideDelay:a,scrollArea:u,viewport:f,onViewportChange:g,content:m,onContentChange:v,scrollbarX:y,onScrollbarXChange:j,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:R,onScrollbarYEnabledChange:T,onCornerWidthChange:_,onCornerHeightChange:P,children:r.jsx(Sc.div,{dir:B,...c,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});U2.displayName=$v;var V2="ScrollAreaViewport",H2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:o,...a}=e,c=Wn(V2,n),u=p.useRef(null),d=we(t,u,c.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(Sc.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});H2.displayName=V2;var Dr="ScrollAreaScrollbar",Bv=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Wn(Dr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=o,u=e.orientation==="horizontal";return p.useEffect(()=>(u?a(!0):c(!0),()=>{u?a(!1):c(!1)}),[u,a,c]),o.type==="hover"?r.jsx(U5,{...s,ref:t,forceMount:n}):o.type==="scroll"?r.jsx(V5,{...s,ref:t,forceMount:n}):o.type==="auto"?r.jsx(W2,{...s,ref:t,forceMount:n}):o.type==="always"?r.jsx(Uv,{...s,ref:t}):null});Bv.displayName=Dr;var U5=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Wn(Dr,e.__scopeScrollArea),[a,c]=p.useState(!1);return p.useEffect(()=>{const u=o.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),c(!0)},g=()=>{d=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",g)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(Pc,{present:n||a,children:r.jsx(W2,{"data-state":a?"visible":"hidden",...s,ref:t})})}),V5=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=Wn(Dr,e.__scopeScrollArea),a=e.orientation==="horizontal",c=jh(()=>d("SCROLL_END"),100),[u,d]=$5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,o.scrollHideDelay,d]),p.useEffect(()=>{const f=o.viewport,g=a?"scrollLeft":"scrollTop";if(f){let m=f[g];const v=()=>{const y=f[g];m!==y&&(d("SCROLL"),c()),m=y};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[o.viewport,a,d,c]),r.jsx(Pc,{present:n||u!=="hidden",children:r.jsx(Uv,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:re(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:re(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),W2=p.forwardRef((e,t)=>{const n=Wn(Dr,e.__scopeScrollArea),{forceMount:s,...o}=e,[a,c]=p.useState(!1),u=e.orientation==="horizontal",d=jh(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;c(u?f:g)}},10);return wa(n.viewport,d),wa(n.content,d),r.jsx(Pc,{present:s||a,children:r.jsx(Uv,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Uv=p.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,o=Wn(Dr,e.__scopeScrollArea),a=p.useRef(null),c=p.useRef(0),[u,d]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Q2(u.viewport,u.content),g={...s,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function m(v,y){return G5(v,c.current,u,y)}return n==="horizontal"?r.jsx(H5,{...g,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollLeft,y=uw(v,u,o.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=m(v,o.dir))}}):n==="vertical"?r.jsx(W5,{...g,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollTop,y=uw(v,u);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=m(v))}}):null}),H5=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,a=Wn(Dr,e.__scopeScrollArea),[c,u]=p.useState(),d=p.useRef(null),f=we(t,d,a.onScrollbarXChange);return p.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),r.jsx(Z2,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_h(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(a.viewport){const v=a.viewport.scrollLeft+g.deltaX;e.onWheelScroll(v),X2(v,m)&&g.preventDefault()}},onResize:()=>{d.current&&a.viewport&&c&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Od(c.paddingLeft),paddingEnd:Od(c.paddingRight)}})}})}),W5=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...o}=e,a=Wn(Dr,e.__scopeScrollArea),[c,u]=p.useState(),d=p.useRef(null),f=we(t,d,a.onScrollbarYChange);return p.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),r.jsx(Z2,{"data-orientation":"vertical",...o,ref:f,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_h(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(a.viewport){const v=a.viewport.scrollTop+g.deltaY;e.onWheelScroll(v),X2(v,m)&&g.preventDefault()}},onResize:()=>{d.current&&a.viewport&&c&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Od(c.paddingTop),paddingEnd:Od(c.paddingBottom)}})}})}),[q5,q2]=B2(Dr),Z2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:g,onResize:m,...v}=e,y=Wn(Dr,n),[j,w]=p.useState(null),C=we(t,z=>w(z)),b=p.useRef(null),_=p.useRef(""),S=y.viewport,P=s.content-s.viewport,k=st(g),M=st(d),R=jh(m,10);function T(z){if(b.current){const B=z.clientX-b.current.left,D=z.clientY-b.current.top;f({x:B,y:D})}}return p.useEffect(()=>{const z=B=>{const D=B.target;(j==null?void 0:j.contains(D))&&k(B,P)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[S,j,P,k]),p.useEffect(M,[s,M]),wa(j,R),wa(y.content,R),r.jsx(q5,{scope:n,scrollbar:j,hasThumb:o,onThumbChange:st(a),onThumbPointerUp:st(c),onThumbPositionChange:M,onThumbPointerDown:st(u),children:r.jsx(Sc.div,{...v,ref:C,style:{position:"absolute",...v.style},onPointerDown:re(e.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),b.current=j.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),T(z))}),onPointerMove:re(e.onPointerMove,T),onPointerUp:re(e.onPointerUp,z=>{const B=z.target;B.hasPointerCapture(z.pointerId)&&B.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=_.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),Dd="ScrollAreaThumb",K2=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,o=q2(Dd,e.__scopeScrollArea);return r.jsx(Pc,{present:n||o.hasThumb,children:r.jsx(Z5,{ref:t,...s})})}),Z5=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...o}=e,a=Wn(Dd,n),c=q2(Dd,n),{onThumbPositionChange:u}=c,d=we(t,m=>c.onThumbChange(m)),f=p.useRef(void 0),g=jh(()=>{f.current&&(f.current(),f.current=void 0)},100);return p.useEffect(()=>{const m=a.viewport;if(m){const v=()=>{if(g(),!f.current){const y=Q5(m,u);f.current=y,u()}};return u(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[a.viewport,g,u]),r.jsx(Sc.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:re(e.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),j=m.clientX-y.left,w=m.clientY-y.top;c.onThumbPointerDown({x:j,y:w})}),onPointerUp:re(e.onPointerUp,c.onThumbPointerUp)})});K2.displayName=Dd;var Vv="ScrollAreaCorner",G2=p.forwardRef((e,t)=>{const n=Wn(Vv,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(K5,{...e,ref:t}):null});G2.displayName=Vv;var K5=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,o=Wn(Vv,n),[a,c]=p.useState(0),[u,d]=p.useState(0),f=!!(a&&u);return wa(o.scrollbarX,()=>{var m;const g=((m=o.scrollbarX)==null?void 0:m.offsetHeight)||0;o.onCornerHeightChange(g),d(g)}),wa(o.scrollbarY,()=>{var m;const g=((m=o.scrollbarY)==null?void 0:m.offsetWidth)||0;o.onCornerWidthChange(g),c(g)}),f?r.jsx(Sc.div,{...s,ref:t,style:{width:a,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Od(e){return e?parseInt(e,10):0}function Q2(e,t){const n=e/t;return isNaN(n)?0:n}function _h(e){const t=Q2(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function G5(e,t,n,s="ltr"){const o=_h(n),a=o/2,c=t||a,u=o-c,d=n.scrollbar.paddingStart+c,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,g=n.content-n.viewport,m=s==="ltr"?[0,g]:[g*-1,0];return Y2([d,f],m)(e)}function uw(e,t,n="ltr"){const s=_h(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,c=t.content-t.viewport,u=a-s,d=n==="ltr"?[0,c]:[c*-1,0],f=ic(e,d);return Y2([0,c],[0,u])(f)}function Y2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function X2(e,t){return e>0&&e<t}var Q5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},c=n.left!==a.left,u=n.top!==a.top;(c||u)&&t(),n=a,s=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(s)};function jh(e,t){const n=st(e),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function wa(e,t){const n=st(t);dt(()=>{let s=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(s),o.unobserve(e)}}},[e,n])}var J2=U2,Y5=H2,X5=G2;const eC=p.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(J2,{ref:s,className:ce("relative overflow-hidden",e),...n,children:[r.jsx(Y5,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(tC,{}),r.jsx(X5,{})]}));eC.displayName=J2.displayName;const tC=p.forwardRef(({className:e,orientation:t="vertical",...n},s)=>r.jsx(Bv,{ref:s,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:r.jsx(K2,{className:"relative flex-1 rounded-full bg-border"})}));tC.displayName=Bv.displayName;const dw=({productId:e,sellerId:t,onClose:n})=>{const[s,o]=p.useState([]),[a,c]=p.useState(""),[u,d]=p.useState(!1),[f,g]=p.useState(null),m=p.useRef(null),{user:v}=It(),{toast:y}=Je();Aa();const j=()=>{var b;(b=m.current)==null||b.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{v&&(g({display_name:"Seller"}),o([]))},[e,t,v]),p.useEffect(()=>{j()},[s]);const w=async()=>{if(!(!a.trim()||!v)){d(!0);try{const b=await fetch("/api/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({product_id:e,seller_id:t})});if(!b.ok)throw new Error("Failed to create conversation");const _=await b.json(),S=await fetch(`/api/conversations/${_.id}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({content:a.trim()})});if(!S.ok)throw new Error("Failed to send message");const P=await S.json();o(k=>[...k,{id:P.id,content:P.content,sender_id:P.sender_id,recipient_id:t,created_at:P.created_at,profiles:{display_name:v.email}}]),c("")}catch{y({title:"Erreur",description:"Impossible d'envoyer le message",variant:"destructive"})}finally{d(!1)}}},C=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),w())};return v?r.jsxs(ae,{className:"w-full max-w-md mx-auto h-96 flex flex-col",children:[r.jsx(Ve,{className:"pb-3",children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(hn,{className:"w-5 h-5"}),(f==null?void 0:f.display_name)||"Vendeur"]})}),r.jsxs(le,{className:"flex-1 p-3 flex flex-col",children:[r.jsx(eC,{className:"flex-1 pr-3",children:r.jsxs("div",{className:"space-y-3",children:[s.map(b=>{var S,P;const _=b.sender_id===v.id;return r.jsx("div",{className:`flex ${_?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`flex gap-2 max-w-[80%] ${_?"flex-row-reverse":"flex-row"}`,children:[r.jsx(zn,{className:"w-8 h-8",children:r.jsx(Fn,{className:"text-xs",children:_?(S=v.email)==null?void 0:S.charAt(0).toUpperCase():((P=f==null?void 0:f.display_name)==null?void 0:P.charAt(0))||"U"})}),r.jsxs("div",{className:`p-2 rounded-lg ${_?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:[r.jsx("p",{className:"text-sm",children:b.content}),r.jsx("p",{className:"text-xs mt-1 opacity-70",children:new Date(b.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})]})},b.id)}),r.jsx("div",{ref:m})]})}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx(_e,{value:a,onChange:b=>c(b.target.value),onKeyPress:C,placeholder:"Tapez votre message...",className:"flex-1",disabled:u}),r.jsx(V,{onClick:w,disabled:!a.trim()||u,size:"sm",children:r.jsx(P1,{className:"w-4 h-4"})})]})]})]}):r.jsx(ae,{className:"w-full max-w-md mx-auto",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx(hn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"Connectez-vous pour commencer une conversation"})]})})};var Rp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(yk,function(n){var s="1.9.4";function o(i){var l,h,x,N;for(h=1,x=arguments.length;h<x;h++){N=arguments[h];for(l in N)i[l]=N[l]}return i}var a=Object.create||function(){function i(){}return function(l){return i.prototype=l,new i}}();function c(i,l){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var x=h.call(arguments,2);return function(){return i.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var u=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function f(i,l,h){var x,N,E,A;return A=function(){x=!1,N&&(E.apply(h,N),N=!1)},E=function(){x?N=arguments:(i.apply(h,arguments),setTimeout(A,l),x=!0)},E}function g(i,l,h){var x=l[1],N=l[0],E=x-N;return i===x&&h?i:((i-N)%E+E)%E+N}function m(){return!1}function v(i,l){if(l===!1)return i;var h=Math.pow(10,l===void 0?6:l);return Math.round(i*h)/h}function y(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function j(i){return y(i).split(/\s+/)}function w(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var h in l)i.options[h]=l[h];return i.options}function C(i,l,h){var x=[];for(var N in i)x.push(encodeURIComponent(h?N.toUpperCase():N)+"="+encodeURIComponent(i[N]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function _(i,l){return i.replace(b,function(h,x){var N=l[x];if(N===void 0)throw new Error("No value provided for variable "+h);return typeof N=="function"&&(N=N(l)),N})}var S=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function P(i,l){for(var h=0;h<i.length;h++)if(i[h]===l)return h;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var R=0;function T(i){var l=+new Date,h=Math.max(0,16-(l-R));return R=l+h,window.setTimeout(i,h)}var z=window.requestAnimationFrame||M("RequestAnimationFrame")||T,B=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function D(i,l,h){if(h&&z===T)i.call(l);else return z.call(window,c(i,l))}function K(i){i&&B.call(window,i)}var X={__proto__:null,extend:o,create:a,bind:c,get lastId(){return u},stamp:d,throttle:f,wrapNum:g,falseFn:m,formatNum:v,trim:y,splitWords:j,setOptions:w,getParamString:C,template:_,isArray:S,indexOf:P,emptyImageUrl:k,requestFn:z,cancelFn:B,requestAnimFrame:D,cancelAnimFrame:K};function G(){}G.extend=function(i){var l=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=a(h);x.constructor=l,l.prototype=x;for(var N in this)Object.prototype.hasOwnProperty.call(this,N)&&N!=="prototype"&&N!=="__super__"&&(l[N]=this[N]);return i.statics&&o(l,i.statics),i.includes&&(de(i.includes),o.apply(null,[x].concat(i.includes))),o(x,i),delete x.statics,delete x.includes,x.options&&(x.options=h.options?a(h.options):{},o(x.options,i.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,A=x._initHooks.length;E<A;E++)x._initHooks[E].call(this)}},l},G.include=function(i){var l=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},G.mergeOptions=function(i){return o(this.prototype.options,i),this},G.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function de(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=S(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(i,l,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],l);else{i=j(i);for(var N=0,E=i.length;N<E;N++)this._on(i[N],l,h)}return this},off:function(i,l,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var x in i)this._off(x,i[x],l);else{i=j(i);for(var N=arguments.length===1,E=0,A=i.length;E<A;E++)N?this._off(i[E]):this._off(i[E],l,h)}return this},_on:function(i,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,h)===!1){h===this&&(h=void 0);var N={fn:l,ctx:h};x&&(N.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(N)}},_off:function(i,l,h){var x,N,E;if(this._events&&(x=this._events[i],!!x)){if(arguments.length===1){if(this._firingCount)for(N=0,E=x.length;N<E;N++)x[N].fn=m;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var A=this._listens(i,l,h);if(A!==!1){var F=x[A];this._firingCount&&(F.fn=m,this._events[i]=x=x.slice()),x.splice(A,1)}}},fire:function(i,l,h){if(!this.listens(i,h))return this;var x=o({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var N=this._events[i];if(N){this._firingCount=this._firingCount+1||1;for(var E=0,A=N.length;E<A;E++){var F=N[E],U=F.fn;F.once&&this.off(i,U,F.ctx),U.call(F.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(i,l,h,x){typeof i!="string"&&console.warn('"string" type argument expected');var N=l;typeof l!="function"&&(x=!!l,N=void 0,h=void 0);var E=this._events&&this._events[i];if(E&&E.length&&this._listens(i,N,h)!==!1)return!0;if(x){for(var A in this._eventParents)if(this._eventParents[A].listens(i,l,h,x))return!0}return!1},_listens:function(i,l,h){if(!this._events)return!1;var x=this._events[i]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var N=0,E=x.length;N<E;N++)if(x[N].fn===l&&x[N].ctx===h)return N;return!1},once:function(i,l,h){if(typeof i=="object")for(var x in i)this._on(x,i[x],l,!0);else{i=j(i);for(var N=0,E=i.length;N<E;N++)this._on(i[N],l,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var W=G.extend(Z);function O(i,l,h){this.x=h?Math.round(i):i,this.y=h?Math.round(l):l}var H=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(i){return this.clone()._add(q(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(q(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new O(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new O(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(i){i=q(i);var l=i.x-this.x,h=i.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(i){return i=q(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=q(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function q(i,l,h){return i instanceof O?i:S(i)?new O(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new O(i.x,i.y):new O(i,l,h)}function $(i,l){if(i)for(var h=l?[i,l]:i,x=0,N=h.length;x<N;x++)this.extend(h[x])}$.prototype={extend:function(i){var l,h;if(!i)return this;if(i instanceof O||typeof i[0]=="number"||"x"in i)l=h=q(i);else if(i=ee(i),l=i.min,h=i.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,h;return typeof i[0]=="number"||i instanceof O?i=q(i):i=ee(i),i instanceof $?(l=i.min,h=i.max):l=h=i,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=ee(i);var l=this.min,h=this.max,x=i.min,N=i.max,E=N.x>=l.x&&x.x<=h.x,A=N.y>=l.y&&x.y<=h.y;return E&&A},overlaps:function(i){i=ee(i);var l=this.min,h=this.max,x=i.min,N=i.max,E=N.x>l.x&&x.x<h.x,A=N.y>l.y&&x.y<h.y;return E&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*i,N=Math.abs(l.y-h.y)*i;return ee(q(l.x-x,l.y-N),q(h.x+x,h.y+N))},equals:function(i){return i?(i=ee(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ee(i,l){return!i||i instanceof $?i:new $(i,l)}function se(i,l){if(i)for(var h=l?[i,l]:i,x=0,N=h.length;x<N;x++)this.extend(h[x])}se.prototype={extend:function(i){var l=this._southWest,h=this._northEast,x,N;if(i instanceof ge)x=i,N=i;else if(i instanceof se){if(x=i._southWest,N=i._northEast,!x||!N)return this}else return i?this.extend(te(i)||J(i)):this;return!l&&!h?(this._southWest=new ge(x.lat,x.lng),this._northEast=new ge(N.lat,N.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(N.lat,h.lat),h.lng=Math.max(N.lng,h.lng)),this},pad:function(i){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*i,N=Math.abs(l.lng-h.lng)*i;return new se(new ge(l.lat-x,l.lng-N),new ge(h.lat+x,h.lng+N))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ge||"lat"in i?i=te(i):i=J(i);var l=this._southWest,h=this._northEast,x,N;return i instanceof se?(x=i.getSouthWest(),N=i.getNorthEast()):x=N=i,x.lat>=l.lat&&N.lat<=h.lat&&x.lng>=l.lng&&N.lng<=h.lng},intersects:function(i){i=J(i);var l=this._southWest,h=this._northEast,x=i.getSouthWest(),N=i.getNorthEast(),E=N.lat>=l.lat&&x.lat<=h.lat,A=N.lng>=l.lng&&x.lng<=h.lng;return E&&A},overlaps:function(i){i=J(i);var l=this._southWest,h=this._northEast,x=i.getSouthWest(),N=i.getNorthEast(),E=N.lat>l.lat&&x.lat<h.lat,A=N.lng>l.lng&&x.lng<h.lng;return E&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=J(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(i,l){return i instanceof se?i:new se(i,l)}function ge(i,l,h){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,h!==void 0&&(this.alt=+h)}ge.prototype={equals:function(i,l){if(!i)return!1;i=te(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return je.distance(this,te(i))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,h=l/Math.cos(Math.PI/180*this.lat);return J([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function te(i,l,h){return i instanceof ge?i:S(i)&&typeof i[0]!="object"?i.length===3?new ge(i[0],i[1],i[2]):i.length===2?new ge(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ge(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new ge(i,l,h)}var ue={latLngToPoint:function(i,l){var h=this.projection.project(i),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(i,l){var h=this.scale(l),x=this.transformation.untransform(i,h);return this.projection.unproject(x)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(i),x=this.transformation.transform(l.min,h),N=this.transformation.transform(l.max,h);return new $(x,N)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,x=i.alt;return new ge(h,l,x)},wrapLatLngBounds:function(i){var l=i.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,N=l.lng-h.lng;if(x===0&&N===0)return i;var E=i.getSouthWest(),A=i.getNorthEast(),F=new ge(E.lat-x,E.lng-N),U=new ge(A.lat-x,A.lng-N);return new se(F,U)}},je=o({},ue,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var h=Math.PI/180,x=i.lat*h,N=l.lat*h,E=Math.sin((l.lat-i.lat)*h/2),A=Math.sin((l.lng-i.lng)*h/2),F=E*E+Math.cos(x)*Math.cos(N)*A*A,U=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*U}}),Ie=6378137,Me={R:Ie,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,i.lat),-h),N=Math.sin(x*l);return new O(this.R*i.lng*l,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(i){var l=180/Math.PI;return new ge((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:function(){var i=Ie*Math.PI;return new $([-i,-i],[i,i])}()};function Oe(i,l,h,x){if(S(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=h,this._d=x}Oe.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new O((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Le(i,l,h,x){return new Oe(i,l,h,x)}var bt=o({},je,{code:"EPSG:3857",projection:Me,transformation:function(){var i=.5/(Math.PI*Me.R);return Le(i,.5,-i,.5)}()}),Dt=o({},bt,{code:"EPSG:900913"});function ur(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function qn(i,l){var h="",x,N,E,A,F,U;for(x=0,E=i.length;x<E;x++){for(F=i[x],N=0,A=F.length;N<A;N++)U=F[N],h+=(N?"L":"M")+U.x+" "+U.y;h+=l?pe.svg?"z":"x":""}return h||"M0 0"}var qt=document.documentElement.style,Or="ActiveXObject"in window,Ot=Or&&!document.addEventListener,Mc="msLaunchUri"in navigator&&!("documentMode"in document),za=yn("webkit"),zt=yn("android"),zr=yn("android 2")||yn("android 3"),Dh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oh=zt&&yn("Google")&&Dh<537&&!("AudioNode"in window),fs=!!window.opera,Rc=!Mc&&yn("chrome"),Fa=yn("gecko")&&!za&&!fs&&!Or,$a=!Rc&&yn("safari"),Fr=yn("phantom"),Ba="OTransition"in qt,ms=navigator.platform.indexOf("Win")===0,Lc=Or&&"transition"in qt,Ua="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zr,Va="MozPerspective"in qt,Ac=!window.L_DISABLE_3D&&(Lc||Ua||Va)&&!Ba&&!Fr,mi=typeof orientation<"u"||yn("mobile"),Ha=mi&&za,dr=mi&&Ua,Ic=!window.PointerEvent&&window.MSPointerEvent,Dc=!!(window.PointerEvent||Ic),Wa="ontouchstart"in window||!!window.TouchEvent,Oc=!window.L_NO_TOUCH&&(Wa||Dc),Ne=mi&&fs,vt=mi&&Fa,Ct=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zt=function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return i}(),ao=function(){return!!document.createElement("canvas").getContext}(),mt=!!(document.createElementNS&&ur("svg").createSVGRect),sn=!!mt&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),lo=!mt&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),vn=navigator.platform.indexOf("Mac")===0,xn=navigator.platform.indexOf("Linux")===0;function yn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var pe={ie:Or,ielt9:Ot,edge:Mc,webkit:za,android:zt,android23:zr,androidStock:Oh,opera:fs,chrome:Rc,gecko:Fa,safari:$a,phantom:Fr,opera12:Ba,win:ms,ie3d:Lc,webkit3d:Ua,gecko3d:Va,any3d:Ac,mobile:mi,mobileWebkit:Ha,mobileWebkit3d:dr,msPointer:Ic,pointer:Dc,touch:Oc,touchNative:Wa,mobileOpera:Ne,mobileGecko:vt,retina:Ct,passiveEvents:Zt,canvas:ao,svg:mt,vml:lo,inlineSvg:sn,mac:vn,linux:xn},zh=pe.msPointer?"MSPointerDown":"pointerdown",sx=pe.msPointer?"MSPointerMove":"pointermove",ix=pe.msPointer?"MSPointerUp":"pointerup",ox=pe.msPointer?"MSPointerCancel":"pointercancel",Fh={touchstart:zh,touchmove:sx,touchend:ix,touchcancel:ox},ax={touchstart:xP,touchmove:zc,touchend:zc,touchcancel:zc},co={},lx=!1;function fP(i,l,h){return l==="touchstart"&&vP(),ax[l]?(h=ax[l].bind(this,h),i.addEventListener(Fh[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function mP(i,l,h){if(!Fh[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(Fh[l],h,!1)}function pP(i){co[i.pointerId]=i}function gP(i){co[i.pointerId]&&(co[i.pointerId]=i)}function cx(i){delete co[i.pointerId]}function vP(){lx||(document.addEventListener(zh,pP,!0),document.addEventListener(sx,gP,!0),document.addEventListener(ix,cx,!0),document.addEventListener(ox,cx,!0),lx=!0)}function zc(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in co)l.touches.push(co[h]);l.changedTouches=[l],i(l)}}function xP(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Et(l),zc(i,l)}function yP(i){var l={},h,x;for(x in i)h=i[x],l[x]=h&&h.bind?h.bind(i):h;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var wP=200;function bP(i,l){i.addEventListener("dblclick",l);var h=0,x;function N(E){if(E.detail!==1){x=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var A=mx(E);if(!(A.some(function(U){return U instanceof HTMLLabelElement&&U.attributes.for})&&!A.some(function(U){return U instanceof HTMLInputElement||U instanceof HTMLSelectElement}))){var F=Date.now();F-h<=wP?(x++,x===2&&l(yP(E))):x=1,h=F}}}return i.addEventListener("click",N),{dblclick:l,simDblclick:N}}function _P(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var $h=Bc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qa=Bc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ux=qa==="webkitTransition"||qa==="OTransition"?qa+"End":"transitionend";function dx(i){return typeof i=="string"?document.getElementById(i):i}function Za(i,l){var h=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(i,null);h=x?x[l]:null}return h==="auto"?null:h}function $e(i,l,h){var x=document.createElement(i);return x.className=l||"",h&&h.appendChild(x),x}function it(i){var l=i.parentNode;l&&l.removeChild(i)}function Fc(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function uo(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function ho(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function Bh(i,l){if(i.classList!==void 0)return i.classList.contains(l);var h=$c(i);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Ee(i,l){if(i.classList!==void 0)for(var h=j(l),x=0,N=h.length;x<N;x++)i.classList.add(h[x]);else if(!Bh(i,l)){var E=$c(i);Uh(i,(E?E+" ":"")+l)}}function pt(i,l){i.classList!==void 0?i.classList.remove(l):Uh(i,y((" "+$c(i)+" ").replace(" "+l+" "," ")))}function Uh(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function $c(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Tn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&jP(i,l)}function jP(i,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):i.style.filter+=" progid:"+x+"(opacity="+l+")"}function Bc(i){for(var l=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in l)return i[h];return!1}function pi(i,l,h){var x=l||new O(0,0);i.style[$h]=(pe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function xt(i,l){i._leaflet_pos=l,pe.any3d?pi(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function gi(i){return i._leaflet_pos||new O(0,0)}var Ka,Ga,Vh;if("onselectstart"in document)Ka=function(){Se(window,"selectstart",Et)},Ga=function(){Qe(window,"selectstart",Et)};else{var Qa=Bc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ka=function(){if(Qa){var i=document.documentElement.style;Vh=i[Qa],i[Qa]="none"}},Ga=function(){Qa&&(document.documentElement.style[Qa]=Vh,Vh=void 0)}}function Hh(){Se(window,"dragstart",Et)}function Wh(){Qe(window,"dragstart",Et)}var Uc,qh;function Zh(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Vc(),Uc=i,qh=i.style.outlineStyle,i.style.outlineStyle="none",Se(window,"keydown",Vc))}function Vc(){Uc&&(Uc.style.outlineStyle=qh,Uc=void 0,qh=void 0,Qe(window,"keydown",Vc))}function hx(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Kh(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var NP={__proto__:null,TRANSFORM:$h,TRANSITION:qa,TRANSITION_END:ux,get:dx,getStyle:Za,create:$e,remove:it,empty:Fc,toFront:uo,toBack:ho,hasClass:Bh,addClass:Ee,removeClass:pt,setClass:Uh,getClass:$c,setOpacity:Tn,testProp:Bc,setTransform:pi,setPosition:xt,getPosition:gi,get disableTextSelection(){return Ka},get enableTextSelection(){return Ga},disableImageDrag:Hh,enableImageDrag:Wh,preventOutline:Zh,restoreOutline:Vc,getSizedParentNode:hx,getScale:Kh};function Se(i,l,h,x){if(l&&typeof l=="object")for(var N in l)Qh(i,N,l[N],h);else{l=j(l);for(var E=0,A=l.length;E<A;E++)Qh(i,l[E],h,x)}return this}var hr="_leaflet_events";function Qe(i,l,h,x){if(arguments.length===1)fx(i),delete i[hr];else if(l&&typeof l=="object")for(var N in l)Yh(i,N,l[N],h);else if(l=j(l),arguments.length===2)fx(i,function(F){return P(l,F)!==-1});else for(var E=0,A=l.length;E<A;E++)Yh(i,l[E],h,x);return this}function fx(i,l){for(var h in i[hr]){var x=h.split(/\d/)[0];(!l||l(x))&&Yh(i,x,null,null,h)}}var Gh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qh(i,l,h,x){var N=l+d(h)+(x?"_"+d(x):"");if(i[hr]&&i[hr][N])return this;var E=function(F){return h.call(x||i,F||window.event)},A=E;!pe.touchNative&&pe.pointer&&l.indexOf("touch")===0?E=fP(i,l,E):pe.touch&&l==="dblclick"?E=bP(i,E):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(Gh[l]||l,E,pe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(E=function(F){F=F||window.event,Jh(i,F)&&A(F)},i.addEventListener(Gh[l],E,!1)):i.addEventListener(l,A,!1):i.attachEvent("on"+l,E),i[hr]=i[hr]||{},i[hr][N]=E}function Yh(i,l,h,x,N){N=N||l+d(h)+(x?"_"+d(x):"");var E=i[hr]&&i[hr][N];if(!E)return this;!pe.touchNative&&pe.pointer&&l.indexOf("touch")===0?mP(i,l,E):pe.touch&&l==="dblclick"?_P(i,E):"removeEventListener"in i?i.removeEventListener(Gh[l]||l,E,!1):i.detachEvent("on"+l,E),i[hr][N]=null}function vi(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Xh(i){return Qh(i,"wheel",vi),this}function Ya(i){return Se(i,"mousedown touchstart dblclick contextmenu",vi),i._leaflet_disable_click=!0,this}function Et(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function xi(i){return Et(i),vi(i),this}function mx(i){if(i.composedPath)return i.composedPath();for(var l=[],h=i.target;h;)l.push(h),h=h.parentNode;return l}function px(i,l){if(!l)return new O(i.clientX,i.clientY);var h=Kh(l),x=h.boundingClientRect;return new O((i.clientX-x.left)/h.x-l.clientLeft,(i.clientY-x.top)/h.y-l.clientTop)}var CP=pe.linux&&pe.chrome?window.devicePixelRatio:pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function gx(i){return pe.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/CP:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Jh(i,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var SP={__proto__:null,on:Se,off:Qe,stopPropagation:vi,disableScrollPropagation:Xh,disableClickPropagation:Ya,preventDefault:Et,stop:xi,getPropagationPath:mx,getMousePosition:px,getWheelDelta:gx,isExternalTarget:Jh,addListener:Se,removeListener:Qe},vx=W.extend({run:function(i,l,h,x){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=gi(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var h=this._startPos.add(this._offset.multiplyBy(i));l&&h._round(),xt(this._el,h),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ze=W.extend({options:{crs:bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=w(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(te(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qa&&pe.any3d&&!pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Se(this._proxy,ux,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(te(i),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=o({animate:h.animate},h.zoom),h.pan=o({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,h.zoom):this._tryAnimatedPan(i,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,h){var x=this.getZoomScale(l),N=this.getSize().divideBy(2),E=i instanceof O?i:this.latLngToContainerPoint(i),A=E.subtract(N).multiplyBy(1-1/x),F=this.containerPointToLatLng(N.add(A));return this.setView(F,l,{zoom:h})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():J(i);var h=q(l.paddingTopLeft||l.padding||[0,0]),x=q(l.paddingBottomRight||l.padding||[0,0]),N=this.getBoundsZoom(i,!1,h.add(x));if(N=typeof l.maxZoom=="number"?Math.min(l.maxZoom,N):N,N===1/0)return{center:i.getCenter(),zoom:N};var E=x.subtract(h).divideBy(2),A=this.project(i.getSouthWest(),N),F=this.project(i.getNorthEast(),N),U=this.unproject(A.add(F).divideBy(2).add(E),N);return{center:U,zoom:N}},fitBounds:function(i,l){if(i=J(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=q(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vx,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ee(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,h){if(h=h||{},h.animate===!1||!pe.any3d)return this.setView(i,l,h);this._stop();var x=this.project(this.getCenter()),N=this.project(i),E=this.getSize(),A=this._zoom;i=te(i),l=l===void 0?A:l;var F=Math.max(E.x,E.y),U=F*this.getZoomScale(A,l),Q=N.distanceTo(x)||1,he=1.42,be=he*he;function Re(yt){var tu=yt?-1:1,mk=yt?U:F,pk=U*U-F*F+tu*be*be*Q*Q,gk=2*mk*be*Q,df=pk/gk,Yx=Math.sqrt(df*df+1)-df,vk=Yx<1e-9?-18:Math.log(Yx);return vk}function Kt(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function St(yt){return(Math.exp(yt)+Math.exp(-yt))/2}function Rn(yt){return Kt(yt)/St(yt)}var on=Re(0);function xo(yt){return F*(St(on)/St(on+he*yt))}function uk(yt){return F*(St(on)*Rn(on+he*yt)-Kt(on))/be}function dk(yt){return 1-Math.pow(1-yt,1.5)}var hk=Date.now(),Gx=(Re(1)-on)/he,fk=h.duration?1e3*h.duration:1e3*Gx*.8;function Qx(){var yt=(Date.now()-hk)/fk,tu=dk(yt)*Gx;yt<=1?(this._flyToFrame=D(Qx,this),this._move(this.unproject(x.add(N.subtract(x).multiplyBy(uk(tu)/Q)),A),this.getScaleZoom(F/xo(tu),A),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Qx.call(this),this},flyToBounds:function(i,l){var h=this._getBoundsCenterZoom(i,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(i){return i=J(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,J(i));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var h=q(l.paddingTopLeft||l.padding||[0,0]),x=q(l.paddingBottomRight||l.padding||[0,0]),N=this.project(this.getCenter()),E=this.project(i),A=this.getPixelBounds(),F=ee([A.min.add(h),A.max.subtract(x)]),U=F.getSize();if(!F.contains(E)){this._enforcingBounds=!0;var Q=E.subtract(F.getCenter()),he=F.extend(E).getSize().subtract(U);N.x+=Q.x<0?-he.x:he.x,N.y+=Q.y<0?-he.y:he.y,this.panTo(this.unproject(N),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),N=h.divideBy(2).round(),E=x.subtract(N);return!E.x&&!E.y?this:(i.animate&&i.pan?this.panBy(E):(i.pan&&this._rawPanBy(E),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=c(this._handleGeolocationResponse,this),h=c(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,i):navigator.geolocation.getCurrentPosition(l,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,h=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,h=i.coords.longitude,x=new ge(l,h),N=x.toBounds(i.coords.accuracy*2),E=this._locateOptions;if(E.setView){var A=this.getBoundsZoom(N);this.setView(x,E.maxZoom?Math.min(A,E.maxZoom):A)}var F={latlng:x,bounds:N,timestamp:i.timestamp};for(var U in i.coords)typeof i.coords[U]=="number"&&(F[U]=i.coords[U]);this.fire("locationfound",F)}},addHandler:function(i,l){if(!l)return this;var h=this[i]=new l(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)it(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),x=$e("div",h,l||this._mapPane);return i&&(this._panes[i]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new se(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,h){i=J(i),h=q(h||[0,0]);var x=this.getZoom()||0,N=this.getMinZoom(),E=this.getMaxZoom(),A=i.getNorthWest(),F=i.getSouthEast(),U=this.getSize().subtract(h),Q=ee(this.project(F,x),this.project(A,x)).getSize(),he=pe.any3d?this.options.zoomSnap:1,be=U.x/Q.x,Re=U.y/Q.y,Kt=l?Math.max(be,Re):Math.min(be,Re);return x=this.getScaleZoom(Kt,x),he&&(x=Math.round(x/(he/100))*(he/100),x=l?Math.ceil(x/he)*he:Math.floor(x/he)*he),Math.max(N,Math.min(E,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var h=this._getTopLeftPoint(i,l);return new $(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(i)/h.scale(l)},getScaleZoom:function(i,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(i*h.scale(l));return isNaN(x)?1/0:x},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(te(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(q(i),l)},layerPointToLatLng:function(i){var l=q(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(te(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(te(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(J(i))},distance:function(i,l){return this.options.crs.distance(te(i),te(l))},containerPointToLayerPoint:function(i){return q(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return q(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(q(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(i)))},mouseEventToContainerPoint:function(i){return px(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=dx(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Se(l,"scroll",this._onScroll,this),this._containerId=d(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&pe.any3d,Ee(i,"leaflet-container"+(pe.touch?" leaflet-touch":"")+(pe.retina?" leaflet-retina":"")+(pe.ielt9?" leaflet-oldie":"")+(pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Za(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xt(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ee(i.markerPane,"leaflet-zoom-hide"),Ee(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,h){xt(this._mapPane,new O(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var N=this._zoom!==l;this._moveStart(N,h)._move(i,l)._moveEnd(N),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,h,x){l===void 0&&(l=this._zoom);var N=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),x?h&&h.pinch&&this.fire("zoom",h):((N||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){xt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var l=i?Qe:Se;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),pe.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var h=[],x,N=l==="mouseout"||l==="mouseover",E=i.target||i.srcElement,A=!1;E;){if(x=this._targets[d(E)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){A=!0;break}if(x&&x.listens(l,!0)&&(N&&!Jh(E,i)||(h.push(x),N))||E===this._container)break;E=E.parentNode}return!h.length&&!A&&!N&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var h=i.type;h==="mousedown"&&Zh(l),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,h){if(i.type==="click"){var x=o({},i);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var N=this._findEventTargets(i,l);if(h){for(var E=[],A=0;A<h.length;A++)h[A].listens(l,!0)&&E.push(h[A]);N=E.concat(N)}if(N.length){l==="contextmenu"&&Et(i);var F=N[0],U={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Q=F.getLatLng&&(!F._radius||F._radius<=10);U.containerPoint=Q?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(i),U.layerPoint=this.containerPointToLayerPoint(U.containerPoint),U.latlng=Q?F.getLatLng():this.layerPointToLatLng(U.layerPoint)}for(A=0;A<N.length;A++)if(N[A].fire(l,U,!0),U.originalEvent._stopped||N[A].options.bubblingMouseEvents===!1&&P(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return gi(this._mapPane)||new O(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var h=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var h=this.getSize()._divideBy(2);return this.project(i,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(i,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(i,l,h){var x=this._getNewPixelOrigin(h,l);return ee([this.project(i.getSouthWest(),l)._subtract(x),this.project(i.getNorthWest(),l)._subtract(x),this.project(i.getSouthEast(),l)._subtract(x),this.project(i.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,h){if(!h)return i;var x=this.project(i,l),N=this.getSize().divideBy(2),E=new $(x.subtract(N),x.add(N)),A=this._getBoundsOffset(E,h,l);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?i:this.unproject(x.add(A),l)},_limitOffset:function(i,l){if(!l)return i;var h=this.getPixelBounds(),x=new $(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(i,l,h){var x=ee(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),N=x.min.subtract(i.min),E=x.max.subtract(i.max),A=this._rebound(N.x,-E.x),F=this._rebound(N.y,-E.y);return new O(A,F)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),h=this.getMaxZoom(),x=pe.any3d?this.options.zoomSnap:1;return x&&(i=Math.round(i/x)*x),Math.max(l,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var h=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var i=this._proxy=$e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var h=$h,x=this._proxy.style[h];pi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();pi(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),N=this._getCenterOffset(i)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(N)?!1:(D(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function PP(i,l){return new ze(i,l)}var Zn=G.extend({options:{position:"topright"},initialize:function(i){w(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),h=this.getPosition(),x=i._controlCorners[h];return Ee(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Xa=function(i){return new Zn(i)};ze.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",h=this._controlContainer=$e("div",l+"control-container",this._container);function x(N,E){var A=l+N+" "+l+E;i[N+E]=$e("div",A,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)it(this._controlCorners[i]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xx=Zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(i,l,h){w(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in i)this._addLayer(i[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Zn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(d(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=$e("div",i),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ya(l),Xh(l);var x=this._section=$e("section",i+"-list");h&&(this._map.on("click",this.collapse,this),Se(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=$e("a",i+"-toggle",l);N.href="#",N.title="Layers",N.setAttribute("role","button"),Se(N,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Et(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=$e("div",i+"-base",x),this._separator=$e("div",i+"-separator",x),this._overlaysList=$e("div",i+"-overlays",x),l.appendChild(x)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&d(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(c(function(x,N){return this.options.sortFunction(x.layer,N.layer,x.name,N.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fc(this._baseLayersList),Fc(this._overlaysList),this._layerControlInputs=[];var i,l,h,x,N=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,i=i||!x.overlay,N+=x.overlay?0:1;return this.options.hideSingleBase&&(i=i&&N>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(d(i.target)),h=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(i,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(i){var l=document.createElement("label"),h=this._map.hasLayer(i.layer),x;i.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+d(this),h),this._layerControlInputs.push(x),x.layerId=d(i.layer),Se(x,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+i.name;var E=document.createElement("span");l.appendChild(E),E.appendChild(x),E.appendChild(N);var A=i.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,h,x=[],N=[];this._handlingClick=!0;for(var E=i.length-1;E>=0;E--)l=i[E],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||N.push(h);for(E=0;E<N.length;E++)this._map.hasLayer(N[E])&&this._map.removeLayer(N[E]);for(E=0;E<x.length;E++)this._map.hasLayer(x[E])||this._map.addLayer(x[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,h,x=this._map.getZoom(),N=i.length-1;N>=0;N--)l=i[N],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Se(i,"click",Et),this.expand();var l=this;setTimeout(function(){Qe(i,"click",Et),l._preventClick=!1})}}),kP=function(i,l,h){return new xx(i,l,h)},ef=Zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",h=$e("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,h,x,N){var E=$e("a",h,x);return E.innerHTML=i,E.href="#",E.title=l,E.setAttribute("role","button"),E.setAttribute("aria-label",l),Ya(E),Se(E,"click",xi),Se(E,"click",N,this),Se(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";pt(this._zoomInButton,l),pt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Ee(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Ee(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ze.mergeOptions({zoomControl:!0}),ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ef,this.addControl(this.zoomControl))});var EP=function(i){return new ef(i)},yx=Zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",h=$e("div",l),x=this.options;return this._addScales(x,l+"-line",h),i.on(x.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,h){i.metric&&(this._mScale=$e("div",l,h)),i.imperial&&(this._iScale=$e("div",l,h))},_update:function(){var i=this._map,l=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/i)},_updateImperial:function(i){var l=i*3.2808399,h,x,N;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(N=this._getRoundNum(l),this._updateScale(this._iScale,N+" ft",N/l))},_updateScale:function(i,l,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),h=i/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),TP=function(i){return new yx(i)},MP='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tf=Zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pe.inlineSvg?MP+" ":"")+"Leaflet</a>"},initialize:function(i){w(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=$e("div","leaflet-control-attribution"),Ya(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ze.mergeOptions({attributionControl:!0}),ze.addInitHook(function(){this.options.attributionControl&&new tf().addTo(this)});var RP=function(i){return new tf(i)};Zn.Layers=xx,Zn.Zoom=ef,Zn.Scale=yx,Zn.Attribution=tf,Xa.layers=kP,Xa.zoom=EP,Xa.scale=TP,Xa.attribution=RP;var fr=G.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fr.addTo=function(i,l){return i.addHandler(l,this),this};var LP={Events:Z},wx=pe.touch?"touchstart mousedown":"mousedown",ps=W.extend({options:{clickTolerance:3},initialize:function(i,l,h,x){w(this,x),this._element=i,this._dragStartTarget=l||i,this._preventOutline=h},enable:function(){this._enabled||(Se(this._dragStartTarget,wx,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ps._dragging===this&&this.finishDrag(!0),Qe(this._dragStartTarget,wx,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Bh(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ps._dragging===this&&this.finishDrag();return}if(!(ps._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ps._dragging=this,this._preventOutline&&Zh(this._element),Hh(),Ka(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,h=hx(this._element);this._startPoint=new O(l.clientX,l.clientY),this._startPos=gi(this._element),this._parentScale=Kh(h);var x=i.type==="mousedown";Se(document,x?"mousemove":"touchmove",this._onMove,this),Se(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,h=new O(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Et(i),this._moved||(this.fire("dragstart"),this._moved=!0,Ee(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),xt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){pt(document.body,"leaflet-dragging"),this._lastTarget&&(pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qe(document,"mousemove touchmove",this._onMove,this),Qe(document,"mouseup touchend touchcancel",this._onUp,this),Wh(),Ga();var l=this._moved&&this._moving;this._moving=!1,ps._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function bx(i,l,h){var x,N=[1,4,2,8],E,A,F,U,Q,he,be,Re;for(E=0,he=i.length;E<he;E++)i[E]._code=yi(i[E],l);for(F=0;F<4;F++){for(be=N[F],x=[],E=0,he=i.length,A=he-1;E<he;A=E++)U=i[E],Q=i[A],U._code&be?Q._code&be||(Re=Hc(Q,U,be,l,h),Re._code=yi(Re,l),x.push(Re)):(Q._code&be&&(Re=Hc(Q,U,be,l,h),Re._code=yi(Re,l),x.push(Re)),x.push(U));i=x}return i}function _x(i,l){var h,x,N,E,A,F,U,Q,he;if(!i||i.length===0)throw new Error("latlngs not passed");Mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var be=te([0,0]),Re=J(i),Kt=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());Kt<1700&&(be=nf(i));var St=i.length,Rn=[];for(h=0;h<St;h++){var on=te(i[h]);Rn.push(l.project(te([on.lat-be.lat,on.lng-be.lng])))}for(F=U=Q=0,h=0,x=St-1;h<St;x=h++)N=Rn[h],E=Rn[x],A=N.y*E.x-E.y*N.x,U+=(N.x+E.x)*A,Q+=(N.y+E.y)*A,F+=A*3;F===0?he=Rn[0]:he=[U/F,Q/F];var xo=l.unproject(q(he));return te([xo.lat+be.lat,xo.lng+be.lng])}function nf(i){for(var l=0,h=0,x=0,N=0;N<i.length;N++){var E=te(i[N]);l+=E.lat,h+=E.lng,x++}return te([l/x,h/x])}var AP={__proto__:null,clipPolygon:bx,polygonCenter:_x,centroid:nf};function jx(i,l){if(!l||!i.length)return i.slice();var h=l*l;return i=OP(i,h),i=DP(i,h),i}function Nx(i,l,h){return Math.sqrt(Ja(i,l,h,!0))}function IP(i,l,h){return Ja(i,l,h)}function DP(i,l){var h=i.length,x=typeof Uint8Array<"u"?Uint8Array:Array,N=new x(h);N[0]=N[h-1]=1,rf(i,N,l,0,h-1);var E,A=[];for(E=0;E<h;E++)N[E]&&A.push(i[E]);return A}function rf(i,l,h,x,N){var E=0,A,F,U;for(F=x+1;F<=N-1;F++)U=Ja(i[F],i[x],i[N],!0),U>E&&(A=F,E=U);E>h&&(l[A]=1,rf(i,l,h,x,A),rf(i,l,h,A,N))}function OP(i,l){for(var h=[i[0]],x=1,N=0,E=i.length;x<E;x++)zP(i[x],i[N])>l&&(h.push(i[x]),N=x);return N<E-1&&h.push(i[E-1]),h}var Cx;function Sx(i,l,h,x,N){var E=x?Cx:yi(i,h),A=yi(l,h),F,U,Q;for(Cx=A;;){if(!(E|A))return[i,l];if(E&A)return!1;F=E||A,U=Hc(i,l,F,h,N),Q=yi(U,h),F===E?(i=U,E=Q):(l=U,A=Q)}}function Hc(i,l,h,x,N){var E=l.x-i.x,A=l.y-i.y,F=x.min,U=x.max,Q,he;return h&8?(Q=i.x+E*(U.y-i.y)/A,he=U.y):h&4?(Q=i.x+E*(F.y-i.y)/A,he=F.y):h&2?(Q=U.x,he=i.y+A*(U.x-i.x)/E):h&1&&(Q=F.x,he=i.y+A*(F.x-i.x)/E),new O(Q,he,N)}function yi(i,l){var h=0;return i.x<l.min.x?h|=1:i.x>l.max.x&&(h|=2),i.y<l.min.y?h|=4:i.y>l.max.y&&(h|=8),h}function zP(i,l){var h=l.x-i.x,x=l.y-i.y;return h*h+x*x}function Ja(i,l,h,x){var N=l.x,E=l.y,A=h.x-N,F=h.y-E,U=A*A+F*F,Q;return U>0&&(Q=((i.x-N)*A+(i.y-E)*F)/U,Q>1?(N=h.x,E=h.y):Q>0&&(N+=A*Q,E+=F*Q)),A=i.x-N,F=i.y-E,x?A*A+F*F:new O(N,E)}function Mn(i){return!S(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Px(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(i)}function kx(i,l){var h,x,N,E,A,F,U,Q;if(!i||i.length===0)throw new Error("latlngs not passed");Mn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var he=te([0,0]),be=J(i),Re=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());Re<1700&&(he=nf(i));var Kt=i.length,St=[];for(h=0;h<Kt;h++){var Rn=te(i[h]);St.push(l.project(te([Rn.lat-he.lat,Rn.lng-he.lng])))}for(h=0,x=0;h<Kt-1;h++)x+=St[h].distanceTo(St[h+1])/2;if(x===0)Q=St[0];else for(h=0,E=0;h<Kt-1;h++)if(A=St[h],F=St[h+1],N=A.distanceTo(F),E+=N,E>x){U=(E-x)/N,Q=[F.x-U*(F.x-A.x),F.y-U*(F.y-A.y)];break}var on=l.unproject(q(Q));return te([on.lat+he.lat,on.lng+he.lng])}var FP={__proto__:null,simplify:jx,pointToSegmentDistance:Nx,closestPointOnSegment:IP,clipSegment:Sx,_getEdgeIntersection:Hc,_getBitCode:yi,_sqClosestPointOnSegment:Ja,isFlat:Mn,_flat:Px,polylineCenter:kx},sf={project:function(i){return new O(i.lng,i.lat)},unproject:function(i){return new ge(i.y,i.x)},bounds:new $([-180,-90],[180,90])},of={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,h=this.R,x=i.lat*l,N=this.R_MINOR/h,E=Math.sqrt(1-N*N),A=E*Math.sin(x),F=Math.tan(Math.PI/4-x/2)/Math.pow((1-A)/(1+A),E/2);return x=-h*Math.log(Math.max(F,1e-10)),new O(i.lng*l*h,x)},unproject:function(i){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,N=Math.sqrt(1-x*x),E=Math.exp(-i.y/h),A=Math.PI/2-2*Math.atan(E),F=0,U=.1,Q;F<15&&Math.abs(U)>1e-7;F++)Q=N*Math.sin(A),Q=Math.pow((1-Q)/(1+Q),N/2),U=Math.PI/2-2*Math.atan(E*Q)-A,A+=U;return new ge(A*l,i.x*l/h)}},$P={__proto__:null,LonLat:sf,Mercator:of,SphericalMercator:Me},BP=o({},je,{code:"EPSG:3395",projection:of,transformation:function(){var i=.5/(Math.PI*of.R);return Le(i,.5,-i,.5)}()}),Ex=o({},je,{code:"EPSG:4326",projection:sf,transformation:Le(1/180,1,-1/180,.5)}),UP=o({},ue,{projection:sf,transformation:Le(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var h=l.lng-i.lng,x=l.lat-i.lat;return Math.sqrt(h*h+x*x)},infinite:!0});ue.Earth=je,ue.EPSG3395=BP,ue.EPSG3857=bt,ue.EPSG900913=Dt,ue.EPSG4326=Ex,ue.Simple=UP;var Kn=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ze.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=d(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=d(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},_addLayers:function(i){i=i?S(i)?i:[i]:[];for(var l=0,h=i.length;l<h;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=d(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var N=this._zoomBoundLayers[x].options;i=N.minZoom===void 0?i:Math.min(i,N.minZoom),l=N.maxZoom===void 0?l:Math.max(l,N.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fo=Kn.extend({initialize:function(i,l){w(this,l),this._layers={};var h,x;if(i)for(h=0,x=i.length;h<x;h++)this.addLayer(i[h])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[i]&&x[i].apply(x,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var h in this._layers)i.call(l,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),VP=function(i,l){return new fo(i,l)},$r=fo.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),fo.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),fo.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new se;for(var l in this._layers){var h=this._layers[l];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),HP=function(i,l){return new $r(i,l)},mo=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){w(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(i,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var N=q(x),E=q(l==="shadow"&&h.shadowAnchor||h.iconAnchor||N&&N.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(h.className||""),E&&(i.style.marginLeft=-E.x+"px",i.style.marginTop=-E.y+"px"),N&&(i.style.width=N.x+"px",i.style.height=N.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return pe.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function WP(i){return new mo(i)}var el=mo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof el.imagePath!="string"&&(el.imagePath=this._detectIconPath()),(this.options.imagePath||el.imagePath)+mo.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(h,x,N){var E=x.exec(h);return E&&E[N]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=$e("div","leaflet-default-icon-path",document.body),l=Za(i,"background-image")||Za(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Tx=fr.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ps(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ee(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,E=gi(l._icon),A=h.getPixelBounds(),F=h.getPixelOrigin(),U=ee(A.min._subtract(F).add(N),A.max._subtract(F).subtract(N));if(!U.contains(E)){var Q=q((Math.max(U.max.x,E.x)-U.max.x)/(A.max.x-U.max.x)-(Math.min(U.min.x,E.x)-U.min.x)/(A.min.x-U.min.x),(Math.max(U.max.y,E.y)-U.max.y)/(A.max.y-U.max.y)-(Math.min(U.min.y,E.y)-U.min.y)/(A.min.y-U.min.y)).multiplyBy(x);h.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),xt(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=D(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,h=l._shadow,x=gi(l._icon),N=l._map.layerPointToLatLng(x);h&&xt(h,x),l._latlng=N,i.latlng=N,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Wc=Kn.extend({options:{icon:new el,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){w(this,l),this._latlng=te(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=te(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),Ee(h,l),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(h,"focus",this._panOnFocus,this);var N=i.icon.createShadow(this._shadow),E=!1;N!==this._shadow&&(this._removeShadow(),E=!0),N&&(Ee(N,l),N.alt=""),this._shadow=N,i.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&E&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&xt(this._icon,i),this._shadow&&xt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tx)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tx(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Tn(this._icon,i),this._shadow&&Tn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,h=l.iconSize?q(l.iconSize):q(0,0),x=l.iconAnchor?q(l.iconAnchor):q(0,0);i.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qP(i,l){return new Wc(i,l)}var gs=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return w(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qc=gs.extend({options:{fill:!0,radius:10},initialize:function(i,l){w(this,l),this._latlng=te(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=te(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return gs.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,h=this._clickTolerance(),x=[i+h,l+h];this._pxBounds=new $(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ZP(i,l){return new qc(i,l)}var af=qc.extend({initialize:function(i,l,h){if(typeof l=="number"&&(l=o({},h,{radius:l})),w(this,l),this._latlng=te(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new se(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:gs.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===je.distance){var N=Math.PI/180,E=this._mRadius/je.R/N,A=h.project([l+E,i]),F=h.project([l-E,i]),U=A.add(F).divideBy(2),Q=h.unproject(U).lat,he=Math.acos((Math.cos(E*N)-Math.sin(l*N)*Math.sin(Q*N))/(Math.cos(l*N)*Math.cos(Q*N)))/N;(isNaN(he)||he===0)&&(he=E/Math.cos(Math.PI/180*l)),this._point=U.subtract(h.getPixelOrigin()),this._radius=isNaN(he)?0:U.x-h.project([Q,i-he]).x,this._radiusY=U.y-A.y}else{var be=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(be).x}this._updateBounds()}});function KP(i,l,h){return new af(i,l,h)}var Br=gs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){w(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,h=null,x=Ja,N,E,A=0,F=this._parts.length;A<F;A++)for(var U=this._parts[A],Q=1,he=U.length;Q<he;Q++){N=U[Q-1],E=U[Q];var be=x(i,N,E,!0);be<l&&(l=be,h=x(i,N,E))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=te(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new se,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],h=Mn(i),x=0,N=i.length;x<N;x++)h?(l[x]=te(i[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(i[x]);return l},_project:function(){var i=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new O(i,i);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,h){var x=i[0]instanceof ge,N=i.length,E,A;if(x){for(A=[],E=0;E<N;E++)A[E]=this._map.latLngToLayerPoint(i[E]),h.extend(A[E]);l.push(A)}else for(E=0;E<N;E++)this._projectLatlngs(i[E],l,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,N,E,A,F,U;for(h=0,N=0,E=this._rings.length;h<E;h++)for(U=this._rings[h],x=0,A=U.length;x<A-1;x++)F=Sx(U[x],U[x+1],i,x,!0),F&&(l[N]=l[N]||[],l[N].push(F[0]),(F[1]!==U[x+1]||x===A-2)&&(l[N].push(F[1]),N++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,h=0,x=i.length;h<x;h++)i[h]=jx(i[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var h,x,N,E,A,F,U=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,E=this._parts.length;h<E;h++)for(F=this._parts[h],x=0,A=F.length,N=A-1;x<A;N=x++)if(!(!l&&x===0)&&Nx(i,F[N],F[x])<=U)return!0;return!1}});function GP(i,l){return new Br(i,l)}Br._flat=Px;var po=Br.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _x(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=Br.prototype._convertLatLngs.call(this,i),h=l.length;return h>=2&&l[0]instanceof ge&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(i){Br.prototype._setLatLngs.call(this,i),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,h=new O(l,l);if(i=new $(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,N=this._rings.length,E;x<N;x++)E=bx(this._rings[x],i,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,h,x,N,E,A,F,U,Q;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(E=0,U=this._parts.length;E<U;E++)for(h=this._parts[E],A=0,Q=h.length,F=Q-1;A<Q;F=A++)x=h[A],N=h[F],x.y>i.y!=N.y>i.y&&i.x<(N.x-x.x)*(i.y-x.y)/(N.y-x.y)+x.x&&(l=!l);return l||Br.prototype._containsPoint.call(this,i,!0)}});function QP(i,l){return new po(i,l)}var Ur=$r.extend({initialize:function(i,l){w(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=S(i)?i:i.features,h,x,N;if(l){for(h=0,x=l.length;h<x;h++)N=l[h],(N.geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var E=this.options;if(E.filter&&!E.filter(i))return this;var A=Zc(i,E);return A?(A.feature=Qc(i),A.defaultOptions=A.options,this.resetStyle(A),E.onEachFeature&&E.onEachFeature(i,A),this.addLayer(A)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function Zc(i,l){var h=i.type==="Feature"?i.geometry:i,x=h?h.coordinates:null,N=[],E=l&&l.pointToLayer,A=l&&l.coordsToLatLng||lf,F,U,Q,he;if(!x&&!h)return null;switch(h.type){case"Point":return F=A(x),Mx(E,i,F,l);case"MultiPoint":for(Q=0,he=x.length;Q<he;Q++)F=A(x[Q]),N.push(Mx(E,i,F,l));return new $r(N);case"LineString":case"MultiLineString":return U=Kc(x,h.type==="LineString"?0:1,A),new Br(U,l);case"Polygon":case"MultiPolygon":return U=Kc(x,h.type==="Polygon"?1:2,A),new po(U,l);case"GeometryCollection":for(Q=0,he=h.geometries.length;Q<he;Q++){var be=Zc({geometry:h.geometries[Q],type:"Feature",properties:i.properties},l);be&&N.push(be)}return new $r(N);case"FeatureCollection":for(Q=0,he=h.features.length;Q<he;Q++){var Re=Zc(h.features[Q],l);Re&&N.push(Re)}return new $r(N);default:throw new Error("Invalid GeoJSON object.")}}function Mx(i,l,h,x){return i?i(l,h):new Wc(h,x&&x.markersInheritOptions&&x)}function lf(i){return new ge(i[1],i[0],i[2])}function Kc(i,l,h){for(var x=[],N=0,E=i.length,A;N<E;N++)A=l?Kc(i[N],l-1,h):(h||lf)(i[N]),x.push(A);return x}function cf(i,l){return i=te(i),i.alt!==void 0?[v(i.lng,l),v(i.lat,l),v(i.alt,l)]:[v(i.lng,l),v(i.lat,l)]}function Gc(i,l,h,x){for(var N=[],E=0,A=i.length;E<A;E++)N.push(l?Gc(i[E],Mn(i[E])?0:l-1,h,x):cf(i[E],x));return!l&&h&&N.length>0&&N.push(N[0].slice()),N}function go(i,l){return i.feature?o({},i.feature,{geometry:l}):Qc(l)}function Qc(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var uf={toGeoJSON:function(i){return go(this,{type:"Point",coordinates:cf(this.getLatLng(),i)})}};Wc.include(uf),af.include(uf),qc.include(uf),Br.include({toGeoJSON:function(i){var l=!Mn(this._latlngs),h=Gc(this._latlngs,l?1:0,!1,i);return go(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),po.include({toGeoJSON:function(i){var l=!Mn(this._latlngs),h=l&&!Mn(this._latlngs[0]),x=Gc(this._latlngs,h?2:l?1:0,!0,i);return l||(x=[x]),go(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),fo.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(i).geometry.coordinates)}),go(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(N){if(N.toGeoJSON){var E=N.toGeoJSON(i);if(h)x.push(E.geometry);else{var A=Qc(E);A.type==="FeatureCollection"?x.push.apply(x,A.features):x.push(A)}}}),h?go(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Rx(i,l){return new Ur(i,l)}var YP=Rx,Yc=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,h){this._url=i,this._bounds=J(l),w(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&uo(this._image),this},bringToBack:function(){return this._map&&ho(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=J(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:$e("img");if(Ee(l,"leaflet-image-layer"),this._zoomAnimated&&Ee(l,"leaflet-zoom-animated"),this.options.className&&Ee(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=c(this.fire,this,"load"),l.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;pi(this._image,h,l)},_reset:function(){var i=this._image,l=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();xt(i,l.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),XP=function(i,l,h){return new Yc(i,l,h)},Lx=Yc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:$e("video");if(Ee(l,"leaflet-image-layer"),this._zoomAnimated&&Ee(l,"leaflet-zoom-animated"),this.options.className&&Ee(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=c(this.fire,this,"load"),i){for(var h=l.getElementsByTagName("source"),x=[],N=0;N<h.length;N++)x.push(h[N].src);this._url=h.length>0?x:[l.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var A=$e("source");A.src=this._url[E],l.appendChild(A)}}});function JP(i,l,h){return new Lx(i,l,h)}var Ax=Yc.extend({_initImage:function(){var i=this._image=this._url;Ee(i,"leaflet-image-layer"),this._zoomAnimated&&Ee(i,"leaflet-zoom-animated"),this.options.className&&Ee(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function ek(i,l,h){return new Ax(i,l,h)}var mr=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof ge||S(i))?(this._latlng=te(i),w(this,l)):(w(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Tn(this._container,1),this.bringToFront(),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Tn(this._container,0),this._removeTimeout=setTimeout(c(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=te(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&uo(this._container),this},bringToBack:function(){return this._map&&ho(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof $r){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=q(this.options.offset),h=this._getAnchor();this._zoomAnimated?xt(this._container,i.add(h)):l=l.add(i).add(h);var x=this._containerBottom=-l.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});ze.include({_initOverlay:function(i,l,h,x){var N=l;return N instanceof i||(N=new i(x).setContent(l)),h&&N.setLatLng(h),N}}),Kn.include({_initOverlay:function(i,l,h,x){var N=h;return N instanceof i?(w(N,x),N._source=this):(N=l&&!x?l:new i(x,this),N.setContent(h)),N}});var Xc=mr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,mr.prototype.openOn.call(this,i)},onAdd:function(i){mr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gs||this._source.on("preclick",vi))},onRemove:function(i){mr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gs||this._source.off("preclick",vi))},getEvents:function(){var i=mr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=$e("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=$e("div",i+"-content-wrapper",l);if(this._contentNode=$e("div",i+"-content",h),Ya(l),Xh(this._contentNode),Se(l,"contextmenu",vi),this._tipContainer=$e("div",i+"-tip-container",l),this._tip=$e("div",i+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=$e("a",i+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Se(x,"click",function(N){Et(N),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=i.offsetHeight,N=this.options.maxHeight,E="leaflet-popup-scrolled";N&&x>N?(l.height=N+"px",Ee(i,E)):pt(i,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();xt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Za(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,N=new O(this._containerLeft,-h-this._containerBottom);N._add(gi(this._container));var E=i.layerPointToContainerPoint(N),A=q(this.options.autoPanPadding),F=q(this.options.autoPanPaddingTopLeft||A),U=q(this.options.autoPanPaddingBottomRight||A),Q=i.getSize(),he=0,be=0;E.x+x+U.x>Q.x&&(he=E.x+x-Q.x+U.x),E.x-he-F.x<0&&(he=E.x-F.x),E.y+h+U.y>Q.y&&(be=E.y+h-Q.y+U.y),E.y-be-F.y<0&&(be=E.y-F.y),(he||be)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([he,be]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tk=function(i,l){return new Xc(i,l)};ze.mergeOptions({closePopupOnClick:!0}),ze.include({openPopup:function(i,l,h){return this._initOverlay(Xc,i,l,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Kn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(Xc,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof $r||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){xi(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof gs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Jc=mr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){mr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){mr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=mr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$e("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,h,x=this._map,N=this._container,E=x.latLngToContainerPoint(x.getCenter()),A=x.layerPointToContainerPoint(i),F=this.options.direction,U=N.offsetWidth,Q=N.offsetHeight,he=q(this.options.offset),be=this._getAnchor();F==="top"?(l=U/2,h=Q):F==="bottom"?(l=U/2,h=0):F==="center"?(l=U/2,h=Q/2):F==="right"?(l=0,h=Q/2):F==="left"?(l=U,h=Q/2):A.x<E.x?(F="right",l=0,h=Q/2):(F="left",l=U+(he.x+be.x)*2,h=Q/2),i=i.subtract(q(l,h,!0)).add(he).add(be),pt(N,"leaflet-tooltip-right"),pt(N,"leaflet-tooltip-left"),pt(N,"leaflet-tooltip-top"),pt(N,"leaflet-tooltip-bottom"),Ee(N,"leaflet-tooltip-"+F),xt(N,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Tn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),nk=function(i,l){return new Jc(i,l)};ze.include({openTooltip:function(i,l,h){return this._initOverlay(Jc,i,l,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Kn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jc,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof $r||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(Se(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Se(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,h,x;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var Ix=mo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Fc(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=q(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function rk(i){return new Ix(i)}mo.Default=el;var tl=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){w(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),it(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(uo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ho(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof O?i:new O(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,h=-i(-1/0,1/0),x=0,N=l.length,E;x<N;x++)E=l[x].style.zIndex,l[x]!==this._container&&E&&(h=i(h,+E));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pe.ielt9){Tn(this._container,this.options.opacity);var i=+new Date,l=!1,h=!1;for(var x in this._tiles){var N=this._tiles[x];if(!(!N.current||!N.loaded)){var E=Math.min(1,(i-N.loaded)/200);Tn(N.el,E),E<1?l=!0:(N.active?h=!0:this._onOpaqueTile(N),N.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(K(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=$e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=l-Math.abs(i-h),this._onUpdateLevel(h)):(it(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[i],N=this._map;return x||(x=this._levels[i]={},x.el=$e("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=N.project(N.unproject(N.getPixelOrigin()),i).round(),x.zoom=i,this._setZoomTransform(x,N.getCenter(),N.getZoom()),m(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)it(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,h,x){var N=Math.floor(i/2),E=Math.floor(l/2),A=h-1,F=new O(+N,+E);F.z=+A;var U=this._tileCoordsToKey(F),Q=this._tiles[U];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),A>x?this._retainParent(N,E,A,x):!1)},_retainChildren:function(i,l,h,x){for(var N=2*i;N<2*i+2;N++)for(var E=2*l;E<2*l+2;E++){var A=new O(N,E);A.z=h+1;var F=this._tileCoordsToKey(A),U=this._tiles[F];if(U&&U.active){U.retain=!0;continue}else U&&U.loaded&&(U.retain=!0);h+1<x&&this._retainChildren(N,E,h+1,x)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,h,x){var N=Math.round(l);this.options.maxZoom!==void 0&&N>this.options.maxZoom||this.options.minZoom!==void 0&&N<this.options.minZoom?N=void 0:N=this._clampZoom(N);var E=this.options.updateWhenZooming&&N!==this._tileZoom;(!x||E)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),N!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,l)},_setZoomTransform:function(i,l,h){var x=this._map.getZoomScale(h,i.zoom),N=i.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();pe.any3d?pi(i.el,N,x):xt(i.el,N)},_resetGrid:function(){var i=this._map,l=i.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(i.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(i.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),N=l.project(i,this._tileZoom).floor(),E=l.getSize().divideBy(x*2);return new $(N.subtract(E),N.add(E))},_update:function(i){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(i),N=this._pxBoundsToTileRange(x),E=N.getCenter(),A=[],F=this.options.keepBuffer,U=new $(N.getBottomLeft().subtract([F,-F]),N.getTopRight().add([F,-F]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var he=this._tiles[Q].coords;(he.z!==this._tileZoom||!U.contains(new O(he.x,he.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var be=N.min.y;be<=N.max.y;be++)for(var Re=N.min.x;Re<=N.max.x;Re++){var Kt=new O(Re,be);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var St=this._tiles[this._tileCoordsToKey(Kt)];St?St.current=!0:A.push(Kt)}}if(A.sort(function(on,xo){return on.distanceTo(E)-xo.distanceTo(E)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rn=document.createDocumentFragment();for(Re=0;Re<A.length;Re++)this._addTile(A[Re],Rn);this._level.el.appendChild(Rn)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!l.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(i);return J(this.options.bounds).overlaps(x)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,h=this.getTileSize(),x=i.scaleBy(h),N=x.add(h),E=l.unproject(x,i.z),A=l.unproject(N,i.z);return[E,A]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),h=new se(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),h=new O(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(i){var l=this._tiles[i];l&&(it(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Ee(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=m,i.onmousemove=m,pe.ielt9&&this.options.opacity<1&&Tn(i,this.options.opacity)},_addTile:function(i,l){var h=this._getTilePos(i),x=this._tileCoordsToKey(i),N=this.createTile(this._wrapCoords(i),c(this._tileReady,this,i));this._initTile(N),this.createTile.length<2&&D(c(this._tileReady,this,i,null,N)),xt(N,h),this._tiles[x]={el:N,coords:i,current:!0},l.appendChild(N),this.fire("tileloadstart",{tile:N,coords:i})},_tileReady:function(i,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:i});var x=this._tileCoordsToKey(i);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Tn(h.el,0),K(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Ee(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pe.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new O(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new $(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function sk(i){return new tl(i)}var vo=tl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=w(this,l),l.detectRetina&&pe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var h=document.createElement("img");return Se(h,"load",c(this._tileOnLoad,this,l,h)),Se(h,"error",c(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var l={r:pe.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=h),l["-y"]=h}return _(this._url,o(l,this.options))},_tileOnLoad:function(i,l){pe.ielt9?setTimeout(c(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),i(h,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(i=l-i),i+x},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=m,l.onerror=m,!l.complete)){l.src=k;var h=this._tiles[i].coords;it(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",k),tl.prototype._removeTile.call(this,i)},_tileReady:function(i,l,h){if(!(!this._map||h&&h.getAttribute("src")===k))return tl.prototype._tileReady.call(this,i,l,h)}});function Dx(i,l){return new vo(i,l)}var Ox=vo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var h=o({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=w(this,l);var N=l.detectRetina&&pe.retina?2:1,E=this.getTileSize();h.width=E.x*N,h.height=E.y*N,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,vo.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),h=this._crs,x=ee(h.project(l[0]),h.project(l[1])),N=x.min,E=x.max,A=(this._wmsVersion>=1.3&&this._crs===Ex?[N.y,N.x,E.y,E.x]:[N.x,N.y,E.x,E.y]).join(","),F=vo.prototype.getTileUrl.call(this,i);return F+C(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(i,l){return o(this.wmsParams,i),l||this.redraw(),this}});function ik(i,l){return new Ox(i,l)}vo.WMS=Ox,Dx.wms=ik;var Vr=Kn.extend({options:{padding:.1},initialize:function(i){w(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,l),E=x.multiplyBy(-h).add(N).subtract(this._map._getNewPixelOrigin(i,l));pe.any3d?pi(this._container,E,h):xt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new $(h,h.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zx=Vr.extend({options:{tolerance:0},getEvents:function(){var i=Vr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Se(i,"mousemove",this._onMouseMove,this),Se(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Se(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,it(this._container),Qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vr.prototype._update.call(this);var i=this._bounds,l=this._container,h=i.getSize(),x=pe.retina?2:1;xt(l,i.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),h=[],x,N;for(N=0;N<l.length;N++){if(x=Number(l[N]),isNaN(x))return;h.push(x)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)i=x.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var h,x,N,E,A=i._parts,F=A.length,U=this._ctx;if(F){for(U.beginPath(),h=0;h<F;h++){for(x=0,N=A[h].length;x<N;x++)E=A[h][x],U[x?"lineTo":"moveTo"](E.x,E.y);l&&U.closePath()}this._fillStroke(U,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,h=this._ctx,x=Math.max(Math.round(i._radius),1),N=(Math.max(Math.round(i._radiusY),1)||x)/x;N!==1&&(h.save(),h.scale(1,N)),h.beginPath(),h.arc(l.x,l.y/N,x,0,Math.PI*2,!1),N!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,l){var h=l.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),h,x,N=this._drawFirst;N;N=N.next)h=N.layer,h.options.interactive&&h._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(pt(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var h,x,N=this._drawFirst;N;N=N.next)h=N.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(i),x&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([x],i,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,h){this._map._fireDOMEvent(l,h||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function Fx(i){return pe.canvas?new zx(i):null}var nl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ok={_initContainer:function(){this._container=$e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=nl("shape");Ee(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=nl("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;it(l),i.removeInteractiveTarget(l),delete this._layers[d(i)]},_updateStyle:function(i){var l=i._stroke,h=i._fill,x=i.options,N=i._container;N.stroked=!!x.stroke,N.filled=!!x.fill,x.stroke?(l||(l=i._stroke=nl("stroke")),N.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=S(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(N.removeChild(l),i._stroke=null),x.fill?(h||(h=i._fill=nl("fill")),N.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(N.removeChild(h),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),h=Math.round(i._radius),x=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){uo(i._container)},_bringToBack:function(i){ho(i._container)}},eu=pe.vml?nl:ur,rl=Vr.extend({_initContainer:function(){this._container=eu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=eu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),Qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vr.prototype._update.call(this);var i=this._bounds,l=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),xt(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=eu("path");i.options.className&&Ee(l,i.options.className),i.options.interactive&&Ee(l,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){it(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,h=i.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,qn(i._parts,l))},_updateCircle:function(i){var l=i._point,h=Math.max(Math.round(i._radius),1),x=Math.max(Math.round(i._radiusY),1)||h,N="a"+h+","+x+" 0 1,0 ",E=i._empty()?"M0 0":"M"+(l.x-h)+","+l.y+N+h*2+",0 "+N+-h*2+",0 ";this._setPath(i,E)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){uo(i._path)},_bringToBack:function(i){ho(i._path)}});pe.vml&&rl.include(ok);function $x(i){return pe.svg||pe.vml?new rl(i):null}ze.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&Fx(i)||$x(i)}});var Bx=po.extend({initialize:function(i,l){po.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=J(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function ak(i,l){return new Bx(i,l)}rl.create=eu,rl.pointsToPath=qn,Ur.geometryToLayer=Zc,Ur.coordsToLatLng=lf,Ur.coordsToLatLngs=Kc,Ur.latLngToCoords=cf,Ur.latLngsToCoords=Gc,Ur.getFeature=go,Ur.asFeature=Qc,ze.mergeOptions({boxZoom:!0});var Ux=fr.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ka(),Hh(),this._startPoint=this._map.mouseEventToContainerPoint(i),Se(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=$e("div","leaflet-zoom-box",this._container),Ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new $(this._point,this._startPoint),h=l.getSize();xt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(it(this._box),pt(this._container,"leaflet-crosshair")),Ga(),Wh(),Qe(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var l=new se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ze.addInitHook("addHandler","boxZoom",Ux),ze.mergeOptions({doubleClickZoom:!0});var Vx=fr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,N=i.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(N):l.setZoomAround(i.containerPoint,N)}});ze.addInitHook("addHandler","doubleClickZoom",Vx),ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Hx=fr.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ps(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pt(this._map._container,"leaflet-grab"),pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=J(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,N=(x-l+h)%i+l-h,E=(x+l+h)%i-l-h,A=Math.abs(N+h)<Math.abs(E+h)?N:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(i){var l=this._map,h=l.options,x=!h.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),x)l.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,A=h.easeLinearity,F=N.multiplyBy(A/E),U=F.distanceTo([0,0]),Q=Math.min(h.inertiaMaxSpeed,U),he=F.multiplyBy(Q/U),be=Q/(h.inertiaDeceleration*A),Re=he.multiplyBy(-be/2).round();!Re.x&&!Re.y?l.fire("moveend"):(Re=l._limitOffset(Re,l.options.maxBounds),D(function(){l.panBy(Re,{duration:be,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});ze.addInitHook("addHandler","dragging",Hx),ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wx=fr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Se(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,h=i.scrollTop||l.scrollTop,x=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},h=this.keyCodes,x,N;for(x=0,N=h.left.length;x<N;x++)l[h.left[x]]=[-1*i,0];for(x=0,N=h.right.length;x<N;x++)l[h.right[x]]=[i,0];for(x=0,N=h.down.length;x<N;x++)l[h.down[x]]=[0,i];for(x=0,N=h.up.length;x<N;x++)l[h.up[x]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},h=this.keyCodes,x,N;for(x=0,N=h.zoomIn.length;x<N;x++)l[h.zoomIn[x]]=i;for(x=0,N=h.zoomOut.length;x<N;x++)l[h.zoomOut[x]]=-i},_addHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],i.shiftKey&&(x=q(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(q(x),h.options.maxBounds)),h.options.worldCopyJump){var N=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(N)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;xi(i)}}});ze.addInitHook("addHandler","keyboard",Wx),ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qx=fr.extend({addHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=gx(i),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),x),xi(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),N=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,E=h?Math.ceil(N/h)*h:N,A=i._limitZoom(l+(this._delta>0?E:-E))-l;this._delta=0,this._startTime=null,A&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+A):i.setZoomAround(this._lastMousePos,l+A))}});ze.addInitHook("addHandler","scrollWheelZoom",qx);var lk=600;ze.mergeOptions({tapHold:pe.touchNative&&pe.safari&&pe.mobile,tapTolerance:15});var Zx=fr.extend({addHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new O(l.clientX,l.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Se(document,"touchend",Et),Se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),lk),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Qe(document,"touchend",Et),Qe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new O(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});ze.addInitHook("addHandler","tapHold",Zx),ze.mergeOptions({touchZoom:pe.touch,bounceAtZoomLimits:!0});var Kx=fr.extend({addHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(i.touches[0]),x=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),Et(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(i.touches[0]),x=l.mouseEventToContainerPoint(i.touches[1]),N=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(N,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&N<1||this._zoom>l.getMaxZoom()&&N>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,N===1)return}else{var E=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(N===1&&E.x===0&&E.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var A=c(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(A,this,!0),Et(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ze.addInitHook("addHandler","touchZoom",Kx),ze.BoxZoom=Ux,ze.DoubleClickZoom=Vx,ze.Drag=Hx,ze.Keyboard=Wx,ze.ScrollWheelZoom=qx,ze.TapHold=Zx,ze.TouchZoom=Kx,n.Bounds=$,n.Browser=pe,n.CRS=ue,n.Canvas=zx,n.Circle=af,n.CircleMarker=qc,n.Class=G,n.Control=Zn,n.DivIcon=Ix,n.DivOverlay=mr,n.DomEvent=SP,n.DomUtil=NP,n.Draggable=ps,n.Evented=W,n.FeatureGroup=$r,n.GeoJSON=Ur,n.GridLayer=tl,n.Handler=fr,n.Icon=mo,n.ImageOverlay=Yc,n.LatLng=ge,n.LatLngBounds=se,n.Layer=Kn,n.LayerGroup=fo,n.LineUtil=FP,n.Map=ze,n.Marker=Wc,n.Mixin=LP,n.Path=gs,n.Point=O,n.PolyUtil=AP,n.Polygon=po,n.Polyline=Br,n.Popup=Xc,n.PosAnimation=vx,n.Projection=$P,n.Rectangle=Bx,n.Renderer=Vr,n.SVG=rl,n.SVGOverlay=Ax,n.TileLayer=vo,n.Tooltip=Jc,n.Transformation=Oe,n.Util=X,n.VideoOverlay=Lx,n.bind=c,n.bounds=ee,n.canvas=Fx,n.circle=KP,n.circleMarker=ZP,n.control=Xa,n.divIcon=rk,n.extend=o,n.featureGroup=HP,n.geoJSON=Rx,n.geoJson=YP,n.gridLayer=sk,n.icon=WP,n.imageOverlay=XP,n.latLng=te,n.latLngBounds=J,n.layerGroup=VP,n.map=PP,n.marker=qP,n.point=q,n.polygon=QP,n.polyline=GP,n.popup=tk,n.rectangle=ak,n.setOptions=w,n.stamp=d,n.svg=$x,n.svgOverlay=ek,n.tileLayer=Dx,n.tooltip=nk,n.transformation=Le,n.version=s,n.videoOverlay=JP;var ck=window.L;n.noConflict=function(){return window.L=ck,this},window.L=n})})(Rp,Rp.exports);var di=Rp.exports;const Oo=Vp(di);delete Oo.Icon.Default.prototype._getIconUrl;Oo.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const J5=({location:e,onLocationSelect:t,readonly:n=!1,className:s})=>{const o=p.useRef(null),a=p.useRef(null),c=p.useRef(null),[u,d]=p.useState(e||"");p.useEffect(()=>{if(o.current)return a.current=Oo.map(o.current).setView([36.8065,10.1815],7),Oo.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(a.current),!n&&t&&a.current.on("click",m=>{const{lat:v,lng:y}=m.latlng,j=`${v.toFixed(4)}, ${y.toFixed(4)}`;t(j,[y,v]),c.current&&c.current.remove(),c.current=Oo.marker([v,y]).addTo(a.current)}),()=>{a.current&&a.current.remove()}},[n,t]);const f=async()=>{if(!(!u.trim()||!a.current))try{const v=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(u)}&countrycodes=tn&limit=1`)).json();if(v&&v.length>0){const{lat:y,lon:j,display_name:w}=v[0];a.current.setView([parseFloat(y),parseFloat(j)],12),c.current&&c.current.remove(),c.current=Oo.marker([parseFloat(y),parseFloat(j)]).addTo(a.current),t&&t(w,[parseFloat(j),parseFloat(y)])}}catch(m){console.error("Error searching location:",m)}};p.useEffect(()=>{e&&e!==u&&d(e)},[e]);const g=m=>{m.key==="Enter"&&f()};return r.jsx(ae,{className:s,children:r.jsxs(le,{className:"p-0",children:[!n&&r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(_e,{placeholder:"Rechercher une ville en Tunisie...",value:u,onChange:m=>d(m.target.value),onKeyPress:g,className:"flex-1"}),r.jsx(V,{onClick:f,size:"sm",children:r.jsx(C1,{className:"w-4 h-4"})})]})}),r.jsx("div",{ref:o,className:"w-full h-64 rounded-lg"}),e&&r.jsx("div",{className:"p-4 border-t",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:e})]})})]})})},e6=["/src/assets/tesla-model3.jpg","/src/assets/motherboard-i5.jpg","/src/assets/modern-sofa.jpg","/src/assets/iphone-15-pro.jpg","/src/assets/mountain-bike.jpg","/src/assets/tractor-holland.jpg"],t6=({productId:e,onBack:t,onEdit:n})=>{var H,q;const[s,o]=p.useState(!1),[a,c]=p.useState(null),[u,d]=p.useState(!0),[f,g]=p.useState(!1),[m,v]=p.useState(!1),[y,j]=p.useState(null),[w,C]=p.useState(0),[b,_]=p.useState(0),{user:S}=It(),{toast:P}=Je();Aa();const k=e6,M=$=>{const ee=new Date($),J=Math.floor((new Date().getTime()-ee.getTime())/(1e3*60*60));return J<24?`${J}h`:`${Math.floor(J/24)}j`},R=$=>$?`${$.replace(/[€$TND]/g,"").trim()} TND`:"",{data:T,isLoading:z}=Xe({queryKey:["/products",e],queryFn:()=>Ce.getProduct(e),enabled:!!e&&e.trim()!=="",staleTime:5*60*1e3}),{data:B}=Xe({queryKey:["/users",T==null?void 0:T.user_id,"profile"],queryFn:()=>Ce.request(`/users/${T==null?void 0:T.user_id}/profile`),enabled:!!(T!=null&&T.user_id),staleTime:5*60*1e3}),{data:D}=Xe({queryKey:["/products",e,"liked"],queryFn:()=>Ce.request(`/products/${e}/liked`),enabled:!!e&&!!S,staleTime:1*60*1e3});Ge({mutationFn:async $=>{const ee=localStorage.getItem("authToken");console.log("ProductDetail like - Token:",ee?`Present (${ee.substring(0,20)}...)`:"Missing");const se=await fetch(`/api/products/${$}/like`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`}});if(!se.ok){const J=await se.json().catch(()=>({error:"Request failed"}));throw new Error(J.error||"Request failed")}return se.json()},onSuccess:$=>{o(!0),P({title:"Succès",description:$.message||"Produit ajouté aux favoris"}),Xt.invalidateQueries({queryKey:["/products",e]}),Xt.invalidateQueries({queryKey:["/products",e,"liked"]})},onError:$=>{P({title:"Erreur",description:$.message||"Impossible d'aimer ce produit",variant:"destructive"})}});const K=Ge({mutationFn:async({productId:$,rating:ee})=>{const se=localStorage.getItem("authToken"),J=await fetch(`/api/products/${$}/rate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({rating:ee})});if(!J.ok){const ge=await J.json();throw new Error(ge.error||"Failed to rate product")}return J.json()},onSuccess:($,ee)=>{C(ee.rating),P({title:"Note enregistrée",description:`Vous avez donné ${ee.rating} étoile${ee.rating>1?"s":""} à ce produit.`}),Xt.invalidateQueries({queryKey:["/products",e]})},onError:$=>{P({title:"Erreur",description:$.message||"Impossible d'enregistrer votre note",variant:"destructive"})}}),X=Ge({mutationFn:async $=>{const ee=localStorage.getItem("authToken"),se=await fetch(`/api/products/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${ee}`}});if(!se.ok){const J=await se.json();throw new Error(J.error||"Failed to delete product")}return se.json()},onSuccess:()=>{P({title:"Produit supprimé",description:"Votre produit a été supprimé avec succès"}),t==null||t(),Xt.invalidateQueries({queryKey:["/api/products"]})},onError:$=>{P({title:"Erreur",description:$.message||"Impossible de supprimer le produit",variant:"destructive"})}});p.useEffect(()=>{T?(c(T),d(!1)):d(!!z)},[T,z]),p.useEffect(()=>{D&&o(D.liked)},[D]),p.useEffect(()=>{B&&j(B)},[B]);const G=$=>{if(!S){P({title:"Connexion requise",description:"Veuillez vous connecter pour noter ce produit.",variant:"destructive"});return}e&&K.mutate({productId:e,rating:$})},de=async()=>{if(!a)return;const $={title:a.title,text:`${a.title} - ${a.price}`,url:window.location.href};try{if(navigator.share)await navigator.share($),P({title:"Partagé",description:"Le produit a été partagé avec succès"});else try{await navigator.clipboard.writeText(window.location.href),P({title:"Lien copié",description:"Le lien du produit a été copié dans le presse-papiers"})}catch{const se=document.createElement("textarea");se.value=window.location.href,document.body.appendChild(se),se.select(),document.execCommand("copy"),document.body.removeChild(se),P({title:"Lien copié",description:"Le lien du produit a été copié dans le presse-papiers"})}}catch(ee){console.error("Error sharing:",ee),P({title:"Erreur",description:"Impossible de partager ce produit",variant:"destructive"})}},Z=()=>{!S||!a||confirm("Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible.")&&X.mutate(a.id)},W=(S==null?void 0:S.id)===(a==null?void 0:a.user_id),O=()=>{var ee;if(!a)return null;const $=(ee=a.category)==null?void 0:ee.toLowerCase();if(console.log("Category check:",$,"Product category:",a.category,"Product ID:",a.id,"Car details:",{brand:a.car_brand,model:a.car_model,year:a.car_year,fuel_type:a.car_fuel_type}),$==="auto"||$==="voiture"||$==="voitures"||$==="véhicules"){const se=[{icon:Oi,label:"Marque",value:a.car_brand,color:"text-blue-600"},{icon:Oi,label:"Modèle",value:a.car_model,color:"text-blue-600"},{icon:Yl,label:"Année",value:a.car_year,color:"text-green-600"},{icon:qg,label:"Kilométrage",value:a.car_mileage?`${Number(a.car_mileage).toLocaleString()} km`:null,color:"text-orange-600"},{icon:Wg,label:"Carburant",value:a.car_fuel_type,color:"text-purple-600"},{icon:Cs,label:"Transmission",value:a.car_transmission,color:"text-indigo-600"},{icon:Cs,label:"État",value:a.car_condition,color:"text-gray-600"},{icon:Cs,label:"Couleur",value:a.car_color,color:"text-pink-600"},{icon:Cs,label:"Portes",value:a.car_doors?`${a.car_doors} portes`:null,color:"text-yellow-600"},{icon:Cs,label:"Puissance moteur",value:a.car_engine_size,color:"text-red-600"}].filter(te=>te.value);let J=[];try{J=a.car_equipment?JSON.parse(a.car_equipment):[]}catch(te){console.error("Error parsing car_equipment:",te),J=[]}console.log("Equipment from database:",J);const ge=[{key:"abs",icon:"🛡️",label:"ABS",available:J.includes("abs")||!0},{key:"direction_assistee",icon:"🔄",label:"Direction assistée",available:J.includes("direction_assistee")||!0},{key:"climatisation",icon:"❄️",label:"Climatisation",available:J.includes("climatisation")||!0},{key:"esp",icon:"⚡",label:"ESP",available:J.includes("esp")||!0},{key:"vitres_electriques",icon:"🪟",label:"Vitres électriques",available:J.includes("vitres_electriques")||!0},{key:"fermeture_centrale",icon:"🔒",label:"Fermeture centrale",available:J.includes("fermeture_centrale")||!0},{key:"airbags",icon:"💨",label:"Airbags",available:J.includes("airbags")||!0},{key:"mp3_bluetooth",icon:"🎵",label:"MP3 Bluetooth",available:J.includes("mp3_bluetooth")||!0},{key:"antipatinage",icon:"⚙️",label:"Antipatinage",available:J.includes("antipatinage")||!0},{key:"limiteur_vitesse",icon:"⏱️",label:"Limiteur De Vitesse",available:J.includes("limiteur_vitesse")||!0},{key:"regulateur_vitesse",icon:"🎯",label:"Régulateur de vitesse",available:J.includes("regulateur_vitesse")||!0},{key:"sieges_ventiles",icon:"🪑",label:"Sièges ventilés",available:J.includes("sieges_ventiles")||!1}];return console.log("Car details found:",se.length,se),r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-black mb-4",style:{fontFamily:"Arial, sans-serif"},children:"Caractéristiques du véhicule"}),r.jsx("div",{className:"grid grid-cols-1 gap-2 mb-6",children:se.map((te,ue)=>r.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-gray-100",children:[r.jsx(te.icon,{size:18,className:"text-black flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm text-gray-600",style:{fontFamily:"Arial, sans-serif"},children:te.label}),r.jsx("div",{className:"text-sm font-medium text-black",style:{fontFamily:"Arial, sans-serif"},children:te.value})]})]},ue))}),r.jsx("h3",{className:"text-lg font-bold text-black mb-4",style:{fontFamily:"Arial, sans-serif"},children:"Équipements disponibles"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:ge.map(te=>r.jsxs("div",{className:"flex items-center gap-2 py-3 px-3 border border-gray-200",style:{backgroundColor:"#fff",color:te.available?"#000":"#666"},children:[r.jsx("span",{className:"text-base",style:{color:te.available?"#000":"#999"},children:te.icon}),r.jsx("span",{className:"text-sm font-medium",style:{fontFamily:"Arial, sans-serif"},children:te.label})]},te.key))})]})})}if($==="immobilier"||$==="logement"){const se=[{icon:Gr,label:"Type de propriété",value:a.real_estate_type||a.property_type},{icon:Qs,label:"Nombre de pièces",value:a.real_estate_rooms||a.rooms?`${a.real_estate_rooms||a.rooms} pièces`:null},{icon:Gr,label:"Salles de bain",value:a.real_estate_bathrooms||a.bathrooms},{icon:_u,label:"Surface habitable",value:a.real_estate_surface||a.surface?`${a.real_estate_surface||a.surface} m²`:null},{icon:_u,label:"Étage",value:a.real_estate_floor||a.floor},{icon:Oi,label:"Parking",value:a.real_estate_parking||a.parking?"Oui":"Non"},{icon:_u,label:"Jardin",value:a.real_estate_garden||a.garden?"Oui":"Non"},{icon:Gr,label:"Balcon",value:a.real_estate_balcony||a.balcony?"Oui":"Non"},{icon:Gr,label:"Meublé",value:a.real_estate_furnished?"Oui":"Non"},{icon:Cs,label:"État",value:a.real_estate_condition}].filter(J=>J.value);return se.length===0?null:r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("h3",{className:"text-lg font-bold text-black mb-4",style:{fontFamily:"Arial, sans-serif"},children:"Caractéristiques du bien"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:se.map((J,ge)=>r.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-gray-100",children:[r.jsx(J.icon,{size:18,className:"text-black flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm text-gray-600",style:{fontFamily:"Arial, sans-serif"},children:J.label}),r.jsx("div",{className:"text-sm font-medium text-black",style:{fontFamily:"Arial, sans-serif"},children:J.value})]})]},ge))})]})}if($==="emplois"||$==="emploi"||$==="travail"||$==="job"){const se=[{icon:ei,label:"Type de contrat",value:a.job_type||a.contract_type},{icon:_u,label:"Secteur d'activité",value:a.job_sector||a.sector},{icon:Fs,label:"Niveau d'expérience",value:a.job_experience||a.experience_level},{icon:GM,label:"Formation requise",value:a.job_education||a.education_level},{icon:WM,label:"Salaire",value:a.job_salary_min&&a.job_salary_max?`${a.job_salary_min} - ${a.job_salary_max} TND`:a.salary_range||null},{icon:Gr,label:"Télétravail",value:a.job_remote_work||a.remote_work?"Possible":"Non"},{icon:ei,label:"Entreprise",value:a.job_company||a.company},{icon:Pr,label:"Lieu de travail",value:a.job_location}].filter(J=>J.value);return se.length===0?null:r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("h3",{className:"text-lg font-bold text-black mb-4",style:{fontFamily:"Arial, sans-serif"},children:"Détails de l'offre d'emploi"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:se.map((J,ge)=>r.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-gray-100",children:[r.jsx(J.icon,{size:18,className:"text-black flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"text-sm text-gray-600",style:{fontFamily:"Arial, sans-serif"},children:J.label}),r.jsx("div",{className:"text-sm font-medium text-black",style:{fontFamily:"Arial, sans-serif"},children:J.value})]})]},ge))})]})}return null};return u?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"tomati-brand animate-pulse mb-4",children:"Tomati"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-tomati-red mx-auto"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Chargement du produit..."})]})}):a?r.jsxs("div",{className:"min-h-screen bg-white pb-20 md:pb-0",style:{fontFamily:"Arial, sans-serif"},children:[r.jsx("div",{className:"md:hidden sticky top-0 bg-white border-b border-gray-200 z-40 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"p-2 -ml-2",onClick:t,children:r.jsx(ir,{size:20})}),r.jsx("div",{className:"flex gap-2",children:r.jsx(V,{variant:"ghost",size:"sm",className:"p-2 text-black",onClick:de,children:r.jsx(Vf,{size:18})})})]})}),r.jsx("div",{className:"hidden md:block sticky top-0 bg-white border-b border-gray-200 z-40 px-6 py-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"p-2",onClick:t,children:r.jsx(ir,{size:20})}),r.jsx("h1",{className:"text-2xl font-semibold text-black",children:"Détails du produit"})]}),r.jsxs("div",{className:"flex gap-3",children:[W&&r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(a.id),className:"border-black text-black",children:r.jsx(Xl,{size:16})}),r.jsx(V,{variant:"outline",size:"sm",onClick:Z,disabled:X.isPending,className:"border-red-500 text-red-500",children:r.jsx(os,{size:16})})]}),r.jsxs(V,{variant:"outline",size:"sm",className:"gap-2 border-black text-black",onClick:de,children:[r.jsx(Vf,{size:16}),"Partager"]})]})]})}),r.jsxs("div",{className:"md:hidden",children:[r.jsx("div",{className:"w-full",children:r.jsx(cw,{images:(()=>{const $=a.images?JSON.parse(a.images):[];return $.length>0?$:a.image_url?[a.image_url]:k.slice(0,3)})(),title:a.title,className:"w-full aspect-square"})}),r.jsxs("div",{className:"px-4 py-4 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-black mb-2",style:{fontFamily:"Arial, sans-serif"},children:a.title}),r.jsx("div",{className:"text-3xl font-bold text-red-500 mb-3",style:{fontFamily:"Arial, sans-serif"},children:a.is_free?"Gratuit":R(a.price)}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-black text-sm rounded",style:{fontFamily:"Arial, sans-serif"},children:a.category}),a.is_free&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-600 text-sm rounded",style:{fontFamily:"Arial, sans-serif"},children:"Gratuit"}),a.is_reserved&&r.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-sm rounded",style:{fontFamily:"Arial, sans-serif"},children:"Réservé"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm mb-4",children:[r.jsx(Pr,{size:14}),r.jsx("span",{children:a.location}),r.jsx("span",{children:"•"}),r.jsx("span",{children:M(a.created_at)})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("h3",{className:"text-lg font-bold text-black mb-3",style:{fontFamily:"Arial, sans-serif"},children:"Vendeur"}),r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(zn,{className:"h-12 w-12 border-2 border-gray-200",children:r.jsx(Fn,{className:"bg-gray-100 text-black font-semibold",children:a.user_name?a.user_name.charAt(0).toUpperCase():"U"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-black mb-1",style:{fontFamily:"Arial, sans-serif"},children:a.user_name||"Utilisateur"}),r.jsxs("div",{className:"text-sm text-gray-600 mb-2",style:{fontFamily:"Arial, sans-serif"},children:["Membre depuis ",new Date(a.user_created_at||a.created_at).getFullYear()]}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-black",children:"Annonces:"})," ",a.user_product_count||1]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-black",children:"Note:"})," ⭐ ",(a.user_rating||4.5).toFixed(1)]})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(V,{onClick:()=>g(!0),className:"flex-1 bg-red-500 text-white border-0",style:{fontFamily:"Arial, sans-serif"},children:[r.jsx(hn,{size:18,className:"mr-2"}),"Contacter"]}),r.jsx(V,{variant:"outline",className:"px-4 border-black text-black",onClick:de,children:r.jsx(Vf,{size:18})})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("h3",{className:"text-lg font-bold text-black mb-3",style:{fontFamily:"Arial, sans-serif"},children:"Description"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",style:{fontFamily:"Arial, sans-serif"},children:a.description||"Aucune description fournie."})]}),O(),r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-6 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-red-500",children:a.view_count||0}),r.jsx("div",{className:"text-sm text-gray-600",style:{fontFamily:"Arial, sans-serif"},children:"Vues"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-red-500",children:a.rating&&a.rating>0?a.rating.toFixed(1):"0.0"}),r.jsx("div",{className:"text-sm text-gray-600",style:{fontFamily:"Arial, sans-serif"},children:"Note"}),r.jsx("div",{className:"flex gap-1 mt-2 justify-center",children:[1,2,3,4,5].map($=>r.jsx(Fs,{className:ce("w-4 h-4 cursor-pointer",(b||w)>=$?"fill-yellow-400 text-yellow-400":"text-gray-300"),onClick:()=>G($),onMouseEnter:()=>_($),onMouseLeave:()=>_(0)},$))})]})]})}),f&&!W&&r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsx(dw,{productId:a.id,sellerId:a.user_id,onClose:()=>g(!1)})})]})]}),r.jsx("div",{className:"hidden md:block max-w-7xl mx-auto px-6 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"sticky top-24 h-fit space-y-6",children:[r.jsx(cw,{images:(()=>{const $=a.images?JSON.parse(a.images):[];return $.length>0?$:a.image_url?[a.image_url]:k.slice(0,3)})(),title:a.title,className:"rounded-2xl shadow-xl w-full"}),r.jsx(ae,{className:"glass-card",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:a.like_count||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"J'aime"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:a.view_count||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Vues"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:a.rating&&a.rating>0?a.rating.toFixed(1):"5.0"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Note"})]})]})})})]}),r.jsxs("div",{className:"space-y-6 overflow-y-auto max-h-[calc(100vh-12rem)] pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[r.jsx(ae,{className:"glass-card",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:a.title}),r.jsx(ke,{variant:"secondary",className:"mb-4",children:a.category}),a.is_free&&r.jsx(ke,{variant:"outline",className:"mb-4 ml-2 text-green-600 border-green-600",children:"Gratuit"}),a.is_reserved&&r.jsx(ke,{variant:"outline",className:"mb-4 ml-2 text-red-600 border-red-600",children:"Réservé"})]}),r.jsx("div",{className:"flex items-baseline gap-3",children:r.jsx("span",{className:"text-4xl font-bold text-primary",children:a.is_free?"Gratuit":R(a.price)})}),r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(Pr,{size:16}),r.jsx("span",{className:"text-base",children:a.location}),r.jsx("span",{children:"•"}),r.jsx("span",{children:M(a.created_at)})]})]})})}),O(),r.jsx(ae,{className:"glass-card",children:r.jsxs(le,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Description"}),r.jsx("p",{className:"text-muted-foreground leading-relaxed text-base mb-6",children:a.description||"Aucune description fournie."})]})}),r.jsx(ae,{className:"glass-card",children:r.jsxs(le,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Informations vendeur"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(zn,{className:"w-16 h-16 border-2 border-primary/20",children:y!=null&&y.avatar_url?r.jsx("img",{src:y.avatar_url,alt:(y==null?void 0:y.display_name)||"Vendeur",className:"w-full h-full object-cover rounded-full"}):r.jsx(Fn,{className:"bg-primary/10 text-primary font-medium text-xl",children:((y==null?void 0:y.display_name)||(y==null?void 0:y.email)||"U").charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-foreground",children:(y==null?void 0:y.display_name)||((H=y==null?void 0:y.email)==null?void 0:H.split("@")[0])||"Vendeur"}),r.jsx(Zi,{size:18,className:"text-green-600"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[r.jsx(Fs,{size:14,className:"text-yellow-500 fill-yellow-500"}),r.jsx("span",{children:"4.8"}),r.jsx("span",{children:"•"}),r.jsx("span",{children:"Membre vérifié"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Membre depuis ",y!=null&&y.created_at?new Date(y.created_at).getFullYear():"2025"]}),(y==null?void 0:y.bio)&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-2 italic",children:['"',y.bio,'"']})]}),r.jsx(V,{variant:"outline",className:"border-primary/20 text-primary hover:bg-primary/10",onClick:()=>v(!0),children:"Voir profil"})]})]})}),r.jsx(Ll,{position:"sidebar",category:a.category}),!W&&r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(V,{variant:"outline",size:"lg",className:"flex-1 border-primary/20 text-primary hover:bg-primary/10 h-14 text-lg",children:[r.jsx(Do,{size:20,className:"mr-2"}),"Appeler"]}),r.jsxs(V,{size:"lg",className:"flex-1 bg-primary hover:bg-primary/90 text-white h-14 text-lg",onClick:()=>g(!0),children:[r.jsx(hn,{size:20,className:"mr-2"}),"Envoyer message"]})]}),W&&r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(V,{variant:"outline",size:"lg",className:"flex-1 border-blue-500/20 text-blue-600 hover:bg-blue-50 h-14 text-lg",onClick:()=>n==null?void 0:n(a.id),children:[r.jsx(Xl,{size:20,className:"mr-2"}),"Modifier"]}),r.jsxs(V,{variant:"outline",size:"lg",className:"flex-1 border-red-500/20 text-red-600 hover:bg-red-50 h-14 text-lg",onClick:Z,disabled:X.isPending,children:[r.jsx(os,{size:20,className:"mr-2"}),X.isPending?"Suppression...":"Supprimer"]})]}),r.jsx(ae,{className:"glass-card",children:r.jsxs(le,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Localisation"}),r.jsx(J5,{location:a.location,readonly:!0,className:"w-full"})]})}),f&&!W&&r.jsx(ae,{className:"glass-card",children:r.jsxs(le,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Discussion avec le vendeur"}),r.jsx(dw,{productId:a.id,sellerId:a.user_id,onClose:()=>g(!1)})]})})]})]})}),!W&&r.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:a.price}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Prix"})]}),r.jsxs(V,{variant:"outline",size:"sm",className:"px-4 py-2",children:[r.jsx(Do,{size:16,className:"mr-1"}),"Appeler"]}),r.jsxs(V,{size:"sm",className:"bg-primary text-white px-4 py-2",onClick:()=>g(!0),children:[r.jsx(hn,{size:16,className:"mr-1"}),"Message"]})]})}),r.jsx("div",{className:"mt-8 px-4",children:r.jsx(Ll,{position:"footer",showCloseButton:!1})}),r.jsx(Ji,{open:m,onOpenChange:v,children:r.jsxs(ii,{className:"max-w-md",children:[r.jsx(eo,{children:r.jsx(to,{className:"text-center",children:"Profil du vendeur"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(zn,{className:"w-24 h-24 mx-auto border-4 border-primary/20 mb-4",children:y!=null&&y.avatar_url?r.jsx("img",{src:y.avatar_url,alt:(y==null?void 0:y.display_name)||"Vendeur",className:"w-full h-full object-cover rounded-full"}):r.jsx(Fn,{className:"bg-primary/10 text-primary font-medium text-3xl",children:((y==null?void 0:y.display_name)||(y==null?void 0:y.email)||"U").charAt(0).toUpperCase()})}),r.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:(y==null?void 0:y.display_name)||((q=y==null?void 0:y.email)==null?void 0:q.split("@")[0])||"Vendeur"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground mb-2",children:[r.jsx(Fs,{size:16,className:"text-yellow-500 fill-yellow-500"}),r.jsx("span",{children:"4.8 • Membre vérifié"}),r.jsx(Zi,{size:16,className:"text-green-600"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Membre depuis ",y!=null&&y.created_at?new Date(y.created_at).getFullYear():"2025"]})]}),(y==null?void 0:y.bio)&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-foreground mb-2",children:"À propos"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:y.bio})]}),r.jsxs("div",{className:"space-y-3",children:[(y==null?void 0:y.location)&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Pr,{size:16,className:"text-muted-foreground"}),r.jsx("span",{children:y.location})]}),(y==null?void 0:y.phone)&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Do,{size:16,className:"text-muted-foreground"}),r.jsx("span",{children:y.phone})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(V,{variant:"outline",className:"flex-1",onClick:()=>v(!1),children:[r.jsx(Do,{size:16,className:"mr-2"}),"Appeler"]}),r.jsxs(V,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:()=>{v(!1),g(!0)},children:[r.jsx(hn,{size:16,className:"mr-2"}),"Message"]})]})]})]})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Produit introuvable"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Ce produit n'existe pas ou a été supprimé"}),r.jsx(V,{onClick:t,children:"Retour"})]})})},n6={"/src/assets/tesla-model3.jpg":"/src/assets/tesla-model3.jpg","/src/assets/motherboard-i5.jpg":"/src/assets/motherboard-i5.jpg","/src/assets/modern-sofa.jpg":"/src/assets/modern-sofa.jpg","/src/assets/mountain-bike.jpg":"/src/assets/mountain-bike.jpg","/src/assets/tractor-holland.jpg":"/src/assets/tractor-holland.jpg","/src/assets/iphone-15-pro.jpg":"/src/assets/iphone-15-pro.jpg","/src/assets/ad-1.jpeg":"/src/assets/ad-1.jpeg","/src/assets/ad-2.jpeg":"/src/assets/ad-2.jpeg"},r6=e=>{const t=new Date,n=new Date(e),s=Math.floor((t.getTime()-n.getTime())/(1e3*60*60));return s<24?`${s}h`:s<168?`${Math.floor(s/24)}j`:`${Math.floor(s/168)} sem`},s6=({activeTab:e,onTabChange:t,onProductClick:n})=>{const[s,o]=p.useState(""),[a,c]=p.useState([]),[u,d]=p.useState([]),[f,g]=p.useState(!0),[m,v]=p.useState(!1),{toast:y}=Je(),j=lr(),w=En(),{data:C=[],isLoading:b}=Xe({queryKey:["/products",s],queryFn:()=>s?fetch(`/api/products?search=${encodeURIComponent(s)}`).then(T=>T.json()):Ce.getProducts(),staleTime:30*1e3});p.useEffect(()=>{c(C),C.length>0?S(C):d([]),g(b)},[C,b]);const _=async T=>{o(T),v(!0);try{if(T.trim()){const z=a.filter(B=>B.title.toLowerCase().includes(T.toLowerCase())||B.category.toLowerCase().includes(T.toLowerCase())||B.location.toLowerCase().includes(T.toLowerCase()));S(z)}else S(a)}finally{v(!1)}},S=T=>{const z=[...T].sort((B,D)=>new Date(D.created_at).getTime()-new Date(B.created_at).getTime());d(z)},P=Ge({mutationFn:async T=>{const z=await fetch(`/api/products/${T}/like`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!z.ok)throw new Error("Failed to like product");return z.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/products"]}),y({title:"Produit aimé !",description:"Vous avez aimé ce produit"})},onError:()=>{y({title:"Erreur",description:"Impossible d'aimer ce produit",variant:"destructive"})}}),k=T=>{P.mutate(T)},M=T=>{w(`/messages?product=${T}`),y({title:"Redirection vers les messages",description:"Ouverture de la conversation avec le vendeur"})},R=u.map(T=>({id:T.id,title:T.title,price:T.price,location:T.location,timeAgo:r6(T.created_at),image:n6[T.image_url]||T.image_url,category:T.category,likes:T.likes,isReserved:T.is_reserved,isFree:T.is_free}));return f?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"tomati-brand animate-pulse mb-4",children:"Tomati"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-tomati-red mx-auto"})]})}):r.jsxs("div",{className:"min-h-screen bg-background p-4 pb-20",children:[r.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:18}),r.jsx(_e,{placeholder:"Rechercher produits, voitures, meubles...",value:s,onChange:T=>_(T.target.value),className:"pl-12 pr-4 py-3 rounded-2xl border-2 border-primary/20 focus:border-primary focus:ring-primary"}),m&&r.jsx("div",{className:"absolute right-12 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})})]})}),r.jsx("div",{className:"max-w-4xl mx-auto mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[r.jsxs("p",{children:[u.length," produit",u.length>1?"s":""," trouvé",u.length>1?"s":"",s&&` pour "${s}"`]}),r.jsx("p",{children:"Trié par date (plus récents en premier)"})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:s?`Résultats pour "${s}"`:"Produits récents"}),r.jsxs(ke,{variant:"secondary",className:"bg-primary/10 text-primary",children:[R.length," résultats"]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R.map(T=>r.jsx(Kj,{product:T,onClick:()=>n==null?void 0:n(T.id),onLike:()=>k(T.id),onMessage:()=>M(T.id)},T.id))}),R.length===0&&s&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Wt,{size:24,className:"text-muted-foreground"})}),r.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Aucun résultat trouvé"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:"Essayez avec des mots-clés différents ou vérifiez l'orthographe"})]})]})]})},kc=p.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));kc.displayName="Textarea";function Nh(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var i6=[" ","Enter","ArrowUp","ArrowDown"],o6=[" ","Enter"],Ec="Select",[Ch,Sh,a6]=th(Ec),[Da,A$]=At(Ec,[a6,Ta]),Ph=Ta(),[l6,hi]=Da(Ec),[c6,u6]=Da(Ec),nC=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:o,onOpenChange:a,value:c,defaultValue:u,onValueChange:d,dir:f,name:g,autoComplete:m,disabled:v,required:y,form:j}=e,w=Ph(t),[C,b]=p.useState(null),[_,S]=p.useState(null),[P,k]=p.useState(!1),M=Ia(f),[R=!1,T]=is({prop:s,defaultProp:o,onChange:a}),[z,B]=is({prop:c,defaultProp:u,onChange:d}),D=p.useRef(null),K=C?j||!!C.closest("form"):!0,[X,G]=p.useState(new Set),de=Array.from(X).map(Z=>Z.props.value).join(";");return r.jsx(oj,{...w,children:r.jsxs(l6,{required:y,scope:t,trigger:C,onTriggerChange:b,valueNode:_,onValueNodeChange:S,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:Tr(),value:z,onValueChange:B,open:R,onOpenChange:T,dir:M,triggerPointerDownPosRef:D,disabled:v,children:[r.jsx(Ch.Provider,{scope:t,children:r.jsx(c6,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(Z=>{G(W=>new Set(W).add(Z))},[]),onNativeOptionRemove:p.useCallback(Z=>{G(W=>{const O=new Set(W);return O.delete(Z),O})},[]),children:n})}),K?r.jsxs(PC,{"aria-hidden":!0,required:y,tabIndex:-1,name:g,autoComplete:m,value:z,onChange:Z=>B(Z.target.value),disabled:v,form:j,children:[z===void 0?r.jsx("option",{value:""}):null,Array.from(X)]},de):null]})})};nC.displayName=Ec;var rC="SelectTrigger",sC=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...o}=e,a=Ph(n),c=hi(rC,n),u=c.disabled||s,d=we(t,c.onTriggerChange),f=Sh(n),g=p.useRef("touch"),[m,v,y]=kC(w=>{const C=f().filter(S=>!S.disabled),b=C.find(S=>S.value===c.value),_=EC(C,w,b);_!==void 0&&c.onValueChange(_.value)}),j=w=>{u||(c.onOpenChange(!0),y()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return r.jsx(sv,{asChild:!0,...a,children:r.jsx(ve.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":SC(c.value)?"":void 0,...o,ref:d,onClick:re(o.onClick,w=>{w.currentTarget.focus(),g.current!=="mouse"&&j(w)}),onPointerDown:re(o.onPointerDown,w=>{g.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(j(w),w.preventDefault())}),onKeyDown:re(o.onKeyDown,w=>{const C=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(C&&w.key===" ")&&i6.includes(w.key)&&(j(),w.preventDefault())})})})});sC.displayName=rC;var iC="SelectValue",oC=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,children:a,placeholder:c="",...u}=e,d=hi(iC,n),{onValueNodeHasChildrenChange:f}=d,g=a!==void 0,m=we(t,d.onValueNodeChange);return dt(()=>{f(g)},[f,g]),r.jsx(ve.span,{...u,ref:m,style:{pointerEvents:"none"},children:SC(d.value)?r.jsx(r.Fragment,{children:c}):a})});oC.displayName=iC;var d6="SelectIcon",aC=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...o}=e;return r.jsx(ve.span,{"aria-hidden":!0,...o,ref:t,children:s||"▼"})});aC.displayName=d6;var h6="SelectPortal",lC=e=>r.jsx(gc,{asChild:!0,...e});lC.displayName=h6;var no="SelectContent",cC=p.forwardRef((e,t)=>{const n=hi(no,e.__scopeSelect),[s,o]=p.useState();if(dt(()=>{o(new DocumentFragment)},[]),!n.open){const a=s;return a?ci.createPortal(r.jsx(uC,{scope:e.__scopeSelect,children:r.jsx(Ch.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(dC,{...e,ref:t})});cC.displayName=no;var Qn=10,[uC,fi]=Da(no),f6="SelectContentImpl",m6=Hi("SelectContent.RemoveScroll"),dC=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:C,...b}=e,_=hi(no,n),[S,P]=p.useState(null),[k,M]=p.useState(null),R=we(t,ue=>P(ue)),[T,z]=p.useState(null),[B,D]=p.useState(null),K=Sh(n),[X,G]=p.useState(!1),de=p.useRef(!1);p.useEffect(()=>{if(S)return wv(S)},[S]),yv();const Z=p.useCallback(ue=>{const[je,...Ie]=K().map(Le=>Le.ref.current),[Me]=Ie.slice(-1),Oe=document.activeElement;for(const Le of ue)if(Le===Oe||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===je&&k&&(k.scrollTop=0),Le===Me&&k&&(k.scrollTop=k.scrollHeight),Le==null||Le.focus(),document.activeElement!==Oe))return},[K,k]),W=p.useCallback(()=>Z([T,S]),[Z,T,S]);p.useEffect(()=>{X&&W()},[X,W]);const{onOpenChange:O,triggerPointerDownPosRef:H}=_;p.useEffect(()=>{if(S){let ue={x:0,y:0};const je=Me=>{var Oe,Le;ue={x:Math.abs(Math.round(Me.pageX)-(((Oe=H.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Le=H.current)==null?void 0:Le.y)??0))}},Ie=Me=>{ue.x<=10&&ue.y<=10?Me.preventDefault():S.contains(Me.target)||O(!1),document.removeEventListener("pointermove",je),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[S,O,H]),p.useEffect(()=>{const ue=()=>O(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[O]);const[q,$]=kC(ue=>{const je=K().filter(Oe=>!Oe.disabled),Ie=je.find(Oe=>Oe.ref.current===document.activeElement),Me=EC(je,ue,Ie);Me&&setTimeout(()=>Me.ref.current.focus())}),ee=p.useCallback((ue,je,Ie)=>{const Me=!de.current&&!Ie;(_.value!==void 0&&_.value===je||Me)&&(z(ue),Me&&(de.current=!0))},[_.value]),se=p.useCallback(()=>S==null?void 0:S.focus(),[S]),J=p.useCallback((ue,je,Ie)=>{const Me=!de.current&&!Ie;(_.value!==void 0&&_.value===je||Me)&&D(ue)},[_.value]),ge=s==="popper"?Lp:hC,te=ge===Lp?{side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:m,collisionBoundary:v,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:C}:{};return r.jsx(uC,{scope:n,content:S,viewport:k,onViewportChange:M,itemRefCallback:ee,selectedItem:T,onItemLeave:se,itemTextRefCallback:J,focusSelectedItem:W,selectedItemText:B,position:s,isPositioned:X,searchRef:q,children:r.jsx(vh,{as:m6,allowPinchZoom:!0,children:r.jsx(fh,{asChild:!0,trapped:_.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:re(o,ue=>{var je;(je=_.trigger)==null||je.focus({preventScroll:!0}),ue.preventDefault()}),children:r.jsx(Sa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:r.jsx(ge,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ue=>ue.preventDefault(),...b,...te,onPlaced:()=>G(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:re(b.onKeyDown,ue=>{const je=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!je&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Me=K().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Oe=ue.target,Le=Me.indexOf(Oe);Me=Me.slice(Le+1)}setTimeout(()=>Z(Me)),ue.preventDefault()}})})})})})})});dC.displayName=f6;var p6="SelectItemAlignedPosition",hC=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...o}=e,a=hi(no,n),c=fi(no,n),[u,d]=p.useState(null),[f,g]=p.useState(null),m=we(t,R=>g(R)),v=Sh(n),y=p.useRef(!1),j=p.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:b,focusSelectedItem:_}=c,S=p.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&f&&w&&C&&b){const R=a.trigger.getBoundingClientRect(),T=f.getBoundingClientRect(),z=a.valueNode.getBoundingClientRect(),B=b.getBoundingClientRect();if(a.dir!=="rtl"){const Oe=B.left-T.left,Le=z.left-Oe,bt=R.left-Le,Dt=R.width+bt,ur=Math.max(Dt,T.width),qn=window.innerWidth-Qn,qt=ic(Le,[Qn,Math.max(Qn,qn-ur)]);u.style.minWidth=Dt+"px",u.style.left=qt+"px"}else{const Oe=T.right-B.right,Le=window.innerWidth-z.right-Oe,bt=window.innerWidth-R.right-Le,Dt=R.width+bt,ur=Math.max(Dt,T.width),qn=window.innerWidth-Qn,qt=ic(Le,[Qn,Math.max(Qn,qn-ur)]);u.style.minWidth=Dt+"px",u.style.right=qt+"px"}const D=v(),K=window.innerHeight-Qn*2,X=w.scrollHeight,G=window.getComputedStyle(f),de=parseInt(G.borderTopWidth,10),Z=parseInt(G.paddingTop,10),W=parseInt(G.borderBottomWidth,10),O=parseInt(G.paddingBottom,10),H=de+Z+X+O+W,q=Math.min(C.offsetHeight*5,H),$=window.getComputedStyle(w),ee=parseInt($.paddingTop,10),se=parseInt($.paddingBottom,10),J=R.top+R.height/2-Qn,ge=K-J,te=C.offsetHeight/2,ue=C.offsetTop+te,je=de+Z+ue,Ie=H-je;if(je<=J){const Oe=D.length>0&&C===D[D.length-1].ref.current;u.style.bottom="0px";const Le=f.clientHeight-w.offsetTop-w.offsetHeight,bt=Math.max(ge,te+(Oe?se:0)+Le+W),Dt=je+bt;u.style.height=Dt+"px"}else{const Oe=D.length>0&&C===D[0].ref.current;u.style.top="0px";const bt=Math.max(J,de+w.offsetTop+(Oe?ee:0)+te)+Ie;u.style.height=bt+"px",w.scrollTop=je-J+w.offsetTop}u.style.margin=`${Qn}px 0`,u.style.minHeight=q+"px",u.style.maxHeight=K+"px",s==null||s(),requestAnimationFrame(()=>y.current=!0)}},[v,a.trigger,a.valueNode,u,f,w,C,b,a.dir,s]);dt(()=>S(),[S]);const[P,k]=p.useState();dt(()=>{f&&k(window.getComputedStyle(f).zIndex)},[f]);const M=p.useCallback(R=>{R&&j.current===!0&&(S(),_==null||_(),j.current=!1)},[S,_]);return r.jsx(v6,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:r.jsx(ve.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});hC.displayName=p6;var g6="SelectPopperPosition",Lp=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=Qn,...a}=e,c=Ph(n);return r.jsx(iv,{...c,...a,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lp.displayName=g6;var[v6,Hv]=Da(no,{}),Ap="SelectViewport",fC=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...o}=e,a=fi(Ap,n),c=Hv(Ap,n),u=we(t,a.onViewportChange),d=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Ch.Slot,{scope:n,children:r.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:re(o.onScroll,f=>{const g=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&m){const y=Math.abs(d.current-g.scrollTop);if(y>0){const j=window.innerHeight-Qn*2,w=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),b=Math.max(w,C);if(b<j){const _=b+y,S=Math.min(j,_),P=_-S;m.style.height=S+"px",m.style.bottom==="0px"&&(g.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});fC.displayName=Ap;var mC="SelectGroup",[x6,y6]=Da(mC),w6=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Tr();return r.jsx(x6,{scope:n,id:o,children:r.jsx(ve.div,{role:"group","aria-labelledby":o,...s,ref:t})})});w6.displayName=mC;var pC="SelectLabel",gC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=y6(pC,n);return r.jsx(ve.div,{id:o.id,...s,ref:t})});gC.displayName=pC;var zd="SelectItem",[b6,vC]=Da(zd),xC=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:a,...c}=e,u=hi(zd,n),d=fi(zd,n),f=u.value===s,[g,m]=p.useState(a??""),[v,y]=p.useState(!1),j=we(t,_=>{var S;return(S=d.itemRefCallback)==null?void 0:S.call(d,_,s,o)}),w=Tr(),C=p.useRef("touch"),b=()=>{o||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(b6,{scope:n,value:s,disabled:o,textId:w,isSelected:f,onItemTextChange:p.useCallback(_=>{m(S=>S||((_==null?void 0:_.textContent)??"").trim())},[]),children:r.jsx(Ch.ItemSlot,{scope:n,value:s,disabled:o,textValue:g,children:r.jsx(ve.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:j,onFocus:re(c.onFocus,()=>y(!0)),onBlur:re(c.onBlur,()=>y(!1)),onClick:re(c.onClick,()=>{C.current!=="mouse"&&b()}),onPointerUp:re(c.onPointerUp,()=>{C.current==="mouse"&&b()}),onPointerDown:re(c.onPointerDown,_=>{C.current=_.pointerType}),onPointerMove:re(c.onPointerMove,_=>{var S;C.current=_.pointerType,o?(S=d.onItemLeave)==null||S.call(d):C.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(c.onPointerLeave,_=>{var S;_.currentTarget===document.activeElement&&((S=d.onItemLeave)==null||S.call(d))}),onKeyDown:re(c.onKeyDown,_=>{var P;((P=d.searchRef)==null?void 0:P.current)!==""&&_.key===" "||(o6.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});xC.displayName=zd;var _l="SelectItemText",yC=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:o,...a}=e,c=hi(_l,n),u=fi(_l,n),d=vC(_l,n),f=u6(_l,n),[g,m]=p.useState(null),v=we(t,b=>m(b),d.onItemTextChange,b=>{var _;return(_=u.itemTextRefCallback)==null?void 0:_.call(u,b,d.value,d.disabled)}),y=g==null?void 0:g.textContent,j=p.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=f;return dt(()=>(w(j),()=>C(j)),[w,C,j]),r.jsxs(r.Fragment,{children:[r.jsx(ve.span,{id:d.textId,...a,ref:v}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ci.createPortal(a.children,c.valueNode):null]})});yC.displayName=_l;var wC="SelectItemIndicator",bC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return vC(wC,n).isSelected?r.jsx(ve.span,{"aria-hidden":!0,...s,ref:t}):null});bC.displayName=wC;var Ip="SelectScrollUpButton",_C=p.forwardRef((e,t)=>{const n=fi(Ip,e.__scopeSelect),s=Hv(Ip,e.__scopeSelect),[o,a]=p.useState(!1),c=we(t,s.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;a(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?r.jsx(NC,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});_C.displayName=Ip;var Dp="SelectScrollDownButton",jC=p.forwardRef((e,t)=>{const n=fi(Dp,e.__scopeSelect),s=Hv(Dp,e.__scopeSelect),[o,a]=p.useState(!1),c=we(t,s.onScrollButtonChange);return dt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<f;a(g)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),o?r.jsx(NC,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});jC.displayName=Dp;var NC=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=e,a=fi("SelectScrollButton",n),c=p.useRef(null),u=Sh(n),d=p.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),dt(()=>{var g;const f=u().find(m=>m.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),r.jsx(ve.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:re(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:re(o.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:re(o.onPointerLeave,()=>{d()})})}),_6="SelectSeparator",CC=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ve.div,{"aria-hidden":!0,...s,ref:t})});CC.displayName=_6;var Op="SelectArrow",j6=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,o=Ph(n),a=hi(Op,n),c=fi(Op,n);return a.open&&c.position==="popper"?r.jsx(ov,{...o,...s,ref:t}):null});j6.displayName=Op;function SC(e){return e===""||e===void 0}var PC=p.forwardRef((e,t)=>{const{value:n,...s}=e,o=p.useRef(null),a=we(t,o),c=Nh(n);return p.useEffect(()=>{const u=o.current,d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==n&&g){const m=new Event("change",{bubbles:!0});g.call(u,n),u.dispatchEvent(m)}},[c,n]),r.jsx(vc,{asChild:!0,children:r.jsx("select",{...s,ref:a,defaultValue:n})})});PC.displayName="BubbleSelect";function kC(e){const t=st(e),n=p.useRef(""),s=p.useRef(0),o=p.useCallback(c=>{const u=n.current+c;t(u),function d(f){n.current=f,window.clearTimeout(s.current),f!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),a=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,a]}function EC(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let c=N6(e,Math.max(a,0));o.length===1&&(c=c.filter(f=>f!==n));const d=c.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==n?d:void 0}function N6(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var C6=nC,TC=sC,S6=oC,P6=aC,k6=lC,MC=cC,E6=fC,RC=gC,LC=xC,T6=yC,M6=bC,AC=_C,IC=jC,DC=CC;const We=C6,qe=S6,Be=p.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(TC,{ref:s,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(P6,{asChild:!0,children:r.jsx(w1,{className:"h-4 w-4 opacity-50"})})]}));Be.displayName=TC.displayName;const OC=p.forwardRef(({className:e,...t},n)=>r.jsx(AC,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(UM,{className:"h-4 w-4"})}));OC.displayName=AC.displayName;const zC=p.forwardRef(({className:e,...t},n)=>r.jsx(IC,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(w1,{className:"h-4 w-4"})}));zC.displayName=IC.displayName;const Ue=p.forwardRef(({className:e,children:t,position:n="popper",...s},o)=>r.jsx(k6,{children:r.jsxs(MC,{ref:o,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(OC,{}),r.jsx(E6,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(zC,{})]})}));Ue.displayName=MC.displayName;const R6=p.forwardRef(({className:e,...t},n)=>r.jsx(RC,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));R6.displayName=RC.displayName;const ie=p.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(LC,{ref:s,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(M6,{children:r.jsx(yc,{className:"h-4 w-4"})})}),r.jsx(T6,{children:t})]}));ie.displayName=LC.displayName;const L6=p.forwardRef(({className:e,...t},n)=>r.jsx(DC,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));L6.displayName=DC.displayName;var Wv="Checkbox",[A6,I$]=At(Wv),[I6,D6]=A6(Wv),FC=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:a,required:c,disabled:u,value:d="on",onCheckedChange:f,form:g,...m}=e,[v,y]=p.useState(null),j=we(t,P=>y(P)),w=p.useRef(!1),C=v?g||!!v.closest("form"):!0,[b=!1,_]=is({prop:o,defaultProp:a,onChange:f}),S=p.useRef(b);return p.useEffect(()=>{const P=v==null?void 0:v.form;if(P){const k=()=>_(S.current);return P.addEventListener("reset",k),()=>P.removeEventListener("reset",k)}},[v,_]),r.jsxs(I6,{scope:n,state:b,disabled:u,children:[r.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":Ys(b)?"mixed":b,"aria-required":c,"data-state":UC(b),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:j,onKeyDown:re(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:re(e.onClick,P=>{_(k=>Ys(k)?!0:!k),C&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})}),C&&r.jsx(O6,{control:v,bubbles:!w.current,name:s,value:d,checked:b,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"},defaultChecked:Ys(a)?!1:a})]})});FC.displayName=Wv;var $C="CheckboxIndicator",BC=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...o}=e,a=D6($C,n);return r.jsx(Hn,{present:s||Ys(a.state)||a.state===!0,children:r.jsx(ve.span,{"data-state":UC(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});BC.displayName=$C;var O6=e=>{const{control:t,checked:n,bubbles:s=!0,defaultChecked:o,...a}=e,c=p.useRef(null),u=Nh(n),d=lh(t);p.useEffect(()=>{const g=c.current,m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&y){const j=new Event("click",{bubbles:s});g.indeterminate=Ys(n),y.call(g,Ys(n)?!1:n),g.dispatchEvent(j)}},[u,n,s]);const f=p.useRef(Ys(n)?!1:n);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??f.current,...a,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ys(e){return e==="indeterminate"}function UC(e){return Ys(e)?"indeterminate":e?"checked":"unchecked"}var VC=FC,z6=BC;const $s=p.forwardRef(({className:e,...t},n)=>r.jsx(VC,{ref:n,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(z6,{className:ce("flex items-center justify-center text-current"),children:r.jsx(yc,{className:"h-4 w-4"})})}));$s.displayName=VC.displayName;const qv=({currentStep:e,totalSteps:t,stepTitles:n})=>r.jsx("div",{className:"w-full max-w-2xl mx-auto mb-8",children:r.jsx("div",{className:"flex items-center justify-between",children:Array.from({length:t},(s,o)=>{const a=o+1,c=a<e,u=a===e;return r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsxs("div",{className:"flex items-center flex-col",children:[r.jsx("div",{className:`
                    w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all duration-300
                    ${c?"bg-green-500 text-white":u?"bg-red-500 text-white scale-110":"bg-gray-200 text-gray-500"}
                  `,children:c?r.jsx(yc,{size:16}):a}),r.jsx("div",{className:"mt-2 text-center",children:r.jsx("p",{className:`
                      text-sm font-medium
                      ${c||u?"text-gray-900":"text-gray-500"}
                    `,children:n[o]||`Étape ${a}`})})]}),a<t&&r.jsx("div",{className:`
                    flex-1 h-0.5 mx-4 transition-all duration-300
                    ${c?"bg-green-500":"bg-gray-200"}
                  `})]},a)})})}),zo=({images:e,onImagesChange:t,maxImages:n=8,className:s=""})=>{const[o,a]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(0),{toast:g}=Je(),m=async M=>{const R=M.target.files;if(!R)return;if(e.length+R.length>n){g({title:"Limite d'images atteinte",description:`Vous ne pouvez ajouter que ${n-e.length} image(s) supplémentaire(s)`,variant:"destructive"});return}const T=[];try{for(let z=0;z<R.length;z++){const B=R[z];if(B.type.startsWith("image/")){const D=`product-${Date.now()}-${z}`,K=new FormData;K.append("file",B);const X=localStorage.getItem("token"),G=await fetch(`/api/objects/upload/${D}`,{method:"POST",headers:{...X?{Authorization:`Bearer ${X}`}:{}},body:K});if(G.ok){const de=await G.json();T.push(de.url||de.path)}else console.error("Failed to upload image:",G.statusText),g({title:"Erreur d'upload",description:`Impossible d'uploader ${B.name}`,variant:"destructive"})}}T.length>0&&(t([...e,...T]),g({title:"Images ajoutées",description:`${T.length} image(s) ajoutée(s) avec succès`}))}catch(z){console.error("Error uploading images:",z),g({title:"Erreur",description:"Erreur lors de l'upload des images",variant:"destructive"})}},v=M=>{const R=e.filter((T,z)=>z!==M);t(R)},y=(M,R)=>{const T=[...e],[z]=T.splice(M,1);T.splice(R,0,z),t(T)},j=M=>{a(M)},w=M=>{M.preventDefault()},C=(M,R)=>{M.preventDefault(),o!==null&&o!==R&&y(o,R),a(null)},b=M=>{M!==0&&(y(M,0),g({title:"Image principale mise à jour",description:"Cette image est maintenant l'image principale"}))},_=M=>{f(M),u(!0)},S=()=>{u(!1)},P=()=>{f(M=>(M+1)%e.length)},k=()=>{f(M=>(M-1+e.length)%e.length)};return r.jsxs("div",{className:`space-y-4 ${s}`,children:[r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-gray-400 transition-colors",children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:m,className:"hidden",id:"image-upload-manager"}),r.jsxs("label",{htmlFor:"image-upload-manager",className:"cursor-pointer",children:[r.jsx(Zg,{size:32,className:"mx-auto text-gray-400 mb-3"}),r.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Ajouter des photos"}),r.jsx(V,{type:"button",variant:"outline",className:"mb-4",children:"Sélectionner des images"}),r.jsxs("div",{className:"text-sm text-gray-500",children:[e.length,"/",n," images • PNG, JPG jusqu'à 10MB"]})]})]}),e.length>0&&r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map((M,R)=>r.jsxs("div",{className:`relative group aspect-square rounded-lg overflow-hidden border-2 transition-all ${R===0?"border-red-500 ring-2 ring-red-200":"border-gray-200 hover:border-gray-300"}`,draggable:!0,onDragStart:()=>j(R),onDragOver:w,onDrop:T=>C(T,R),children:[r.jsx("img",{src:M,alt:`Image ${R+1}`,className:"w-full h-full object-cover"}),R===0&&r.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Principale"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>_(R),className:"w-8 h-8 p-0 bg-white/20 hover:bg-white/30 text-white",title:"Voir en plein écran",children:r.jsx(b1,{size:14})}),R!==0&&r.jsx(V,{size:"sm",variant:"secondary",onClick:()=>b(R),className:"w-8 h-8 p-0",title:"Définir comme image principale",children:r.jsx(lR,{size:14})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>v(R),className:"w-8 h-8 p-0",title:"Supprimer l'image",children:r.jsx(gn,{size:14})})]})}),r.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-80 rounded-full flex items-center justify-center cursor-move",children:r.jsx(sR,{size:12,className:"text-gray-600"})})})]},R))}),c&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 text-white hover:bg-white/30",onClick:S,children:r.jsx(gn,{size:20})}),r.jsxs("div",{className:"relative max-w-5xl max-h-full",children:[r.jsx("img",{src:e[d],alt:`Image ${d+1}`,className:"max-w-full max-h-full object-contain"}),e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"ghost",size:"sm",className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 text-white hover:bg-white/30",onClick:k,children:r.jsx(rp,{size:24})}),r.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 text-white hover:bg-white/30",onClick:P,children:r.jsx(Cd,{size:24})}),r.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white text-sm px-3 py-1 rounded-full",children:[d+1," / ",e.length]})]})]})]}),e.length>0&&r.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"font-medium mb-1",children:"💡 Conseils :"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:"• La première image sera l'image principale"}),r.jsx("li",{children:"• Glissez-déposez pour réorganiser"}),r.jsx("li",{children:"• Cliquez sur ⤢ pour voir en plein écran"}),r.jsx("li",{children:"• Cliquez sur l'icône ↻ pour définir comme principale"}),r.jsx("li",{children:"• Utilisez des images de haute qualité (au moins 800x800px)"})]})]})]})},F6=["Toyota","Mercedes","BMW","Audi","Volkswagen","Peugeot","Renault","Ford","Hyundai","Kia","Autre"],$6=[{value:"new",label:"Neuf"},{value:"used",label:"Occasion"},{value:"damaged",label:"Endommagé"}],B6=[{value:"manual",label:"Manuelle"},{value:"automatic",label:"Automatique"},{value:"semi-automatic",label:"Semi-automatique"}],U6=[{value:"gasoline",label:"Essence"},{value:"diesel",label:"Diesel"},{value:"electric",label:"Électrique"},{value:"hybrid",label:"Hybride"}],V6=["Climatisation","ABS","Airbags","Direction assistée","Système audio","Bluetooth","GPS/Navigation","Caméra de recul","Capteurs de stationnement","Toit ouvrant","Sièges en cuir","Sièges chauffants","Régulateur de vitesse","Jantes alliage"],H6=({onSubmit:e,onCancel:t})=>{const[n,s]=p.useState(1),[o,a]=p.useState(""),[c,u]=p.useState([]),[d,f]=p.useState(""),[g,m]=p.useState([]),{toast:v}=Je(),[y,j]=p.useState({title:"",brand:"",model:"",series:"",year:"",mileage:"",price:"",location:"",isPaid:!0,condition:"",transmission:"",fuelType:"",engineSize:"",doors:"",seats:"",color:"",equipment:[],description:"",nonSmoking:!1}),w=["Modèle & Infos","Photos extérieures","Photos intérieures","Détails"],C=()=>{if(n===1){if(!y.title||!y.brand||!y.model||!y.year||!y.mileage||!y.location){v({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}if(!o){v({title:"Erreur",description:"Veuillez ajouter au moins une photo principale",variant:"destructive"});return}}if(n===2&&c.length===0){v({title:"Erreur",description:"Veuillez ajouter au moins une photo extérieure",variant:"destructive"});return}n<4&&s(n+1)},b=()=>{n>1&&s(n-1)},_=()=>{if(!y.description){v({title:"Erreur",description:"Veuillez ajouter une description",variant:"destructive"});return}const k=[o,...c,d,...g].filter(Boolean),M={title:y.title,description:y.description,price:y.isPaid?y.price:"Free",location:y.location,category:"voiture",is_free:!y.isPaid,image_url:o,images:JSON.stringify(k),car_brand:y.brand,car_model:y.model,car_year:y.year?parseInt(y.year):void 0,car_condition:y.condition,car_mileage:y.mileage?parseInt(y.mileage):void 0,car_transmission:y.transmission,car_fuel_type:y.fuelType,car_engine_size:y.engineSize,car_doors:y.doors?parseInt(y.doors):void 0,car_seats:y.seats?parseInt(y.seats):void 0,car_color:y.color,car_non_smoking:y.nonSmoking,car_equipment:JSON.stringify(y.equipment)};e(M)},S=k=>{j(M=>({...M,equipment:M.equipment.includes(k)?M.equipment.filter(R=>R!==k):[...M.equipment,k]}))},P=(k,M)=>{j(R=>({...R,[k]:M}))};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Oi,{className:"text-blue-500",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vendre une voiture"})]}),r.jsx("p",{className:"text-gray-600",children:"Complétez les 4 étapes pour publier votre annonce"})]}),r.jsx(qv,{currentStep:n,totalSteps:4,stepTitles:w}),r.jsx(ae,{className:"bg-white shadow-sm border border-gray-200",children:r.jsxs(le,{className:"p-6",children:[n===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ve,{className:"px-0 pt-0",children:r.jsx(Ze,{className:"text-xl font-semibold text-gray-900",children:"Modèle et informations principales"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photo principale *"}),r.jsx(zo,{images:o?[o]:[],onImagesChange:k=>a(k[0]||""),maxImages:1,className:"border-2 border-dashed border-gray-300 rounded-lg p-6"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre de l'annonce *"}),r.jsx(_e,{value:y.title,onChange:k=>P("title",k.target.value),placeholder:"ex: Peugeot 208 GTI",className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Marque *"}),r.jsxs(We,{value:y.brand,onValueChange:k=>P("brand",k),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Sélectionnez la marque"})}),r.jsx(Ue,{children:F6.map(k=>r.jsx(ie,{value:k,children:k},k))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modèle *"}),r.jsx(_e,{value:y.model,onChange:k=>P("model",k.target.value),placeholder:"ex: 208",className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Série"}),r.jsx(_e,{value:y.series,onChange:k=>P("series",k.target.value),placeholder:"ex: GTI, Sport, Premium",className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Année *"}),r.jsx(_e,{type:"number",value:y.year,onChange:k=>P("year",k.target.value),placeholder:"ex: 2020",min:"1900",max:new Date().getFullYear()+1,className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kilométrage (km) *"}),r.jsx(_e,{type:"number",value:y.mileage,onChange:k=>P("mileage",k.target.value),placeholder:"ex: 50000",className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix (TND) *"}),r.jsx(_e,{type:"number",value:y.price,onChange:k=>P("price",k.target.value),placeholder:"ex: 25000",className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Localisation *"}),r.jsx(_e,{value:y.location,onChange:k=>P("location",k.target.value),placeholder:"ex: Tunis, Ariana",className:"w-full"})]})]})]}),n===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ve,{className:"px-0 pt-0",children:r.jsx(Ze,{className:"text-xl font-semibold text-gray-900",children:"Photos extérieures"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photos extérieures du véhicule (jusqu'à 8 photos) *"}),r.jsx(zo,{images:c,onImagesChange:u,maxImages:8,className:"border-2 border-dashed border-gray-300 rounded-lg p-6"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Ajoutez des photos de face, arrière, côtés, et détails extérieurs"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photo supplémentaire"}),r.jsx(zo,{images:d?[d]:[],onImagesChange:k=>f(k[0]||""),maxImages:1,className:"border-2 border-dashed border-gray-300 rounded-lg p-6"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Photo optionnelle pour mettre en valeur un détail particulier"})]})]})]}),n===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ve,{className:"px-0 pt-0",children:r.jsx(Ze,{className:"text-xl font-semibold text-gray-900",children:"Photos intérieures"})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photos de l'intérieur du véhicule"}),r.jsx(zo,{images:g,onImagesChange:m,maxImages:6,className:"border-2 border-dashed border-gray-300 rounded-lg p-6"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Ajoutez des photos des sièges, tableau de bord, volant, espace arrière, etc."})]})]}),n===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ve,{className:"px-0 pt-0",children:r.jsx(Ze,{className:"text-xl font-semibold text-gray-900",children:"Détails et caractéristiques"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"État *"}),r.jsxs(We,{value:y.condition,onValueChange:k=>P("condition",k),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Sélectionnez l'état"})}),r.jsx(Ue,{children:$6.map(k=>r.jsx(ie,{value:k.value,children:k.label},k.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Transmission *"}),r.jsxs(We,{value:y.transmission,onValueChange:k=>P("transmission",k),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Sélectionnez la transmission"})}),r.jsx(Ue,{children:B6.map(k=>r.jsx(ie,{value:k.value,children:k.label},k.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Carburant *"}),r.jsxs(We,{value:y.fuelType,onValueChange:k=>P("fuelType",k),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Sélectionnez le carburant"})}),r.jsx(Ue,{children:U6.map(k=>r.jsx(ie,{value:k.value,children:k.label},k.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cylindrée"}),r.jsx(_e,{value:y.engineSize,onChange:k=>P("engineSize",k.target.value),placeholder:"ex: 1.6L",className:"w-full"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de portes"}),r.jsxs(We,{value:y.doors,onValueChange:k=>P("doors",k),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Nombre de portes"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"3",children:"3 portes"}),r.jsx(ie,{value:"5",children:"5 portes"}),r.jsx(ie,{value:"4",children:"4 portes"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de places"}),r.jsxs(We,{value:y.seats,onValueChange:k=>P("seats",k),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Nombre de places"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"2",children:"2 places"}),r.jsx(ie,{value:"4",children:"4 places"}),r.jsx(ie,{value:"5",children:"5 places"}),r.jsx(ie,{value:"7",children:"7 places"}),r.jsx(ie,{value:"9",children:"9 places"})]})]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Couleur"}),r.jsx(_e,{value:y.color,onChange:k=>P("color",k.target.value),placeholder:"ex: Rouge, Blanc, Noir",className:"w-full"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Équipements disponibles"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:V6.map(k=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{id:k,checked:y.equipment.includes(k),onCheckedChange:()=>S(k)}),r.jsx("label",{htmlFor:k,className:"text-sm text-gray-700 cursor-pointer",children:k})]},k))})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{id:"nonSmoking",checked:y.nonSmoking,onCheckedChange:k=>P("nonSmoking",!!k)}),r.jsx("label",{htmlFor:"nonSmoking",className:"text-sm text-gray-700 cursor-pointer",children:"Véhicule non fumeur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description *"}),r.jsx(kc,{value:y.description,onChange:k=>P("description",k.target.value),placeholder:"Décrivez votre véhicule en détail...",rows:4,className:"w-full"})]})]}),r.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex gap-2",children:[n>1&&r.jsxs(V,{type:"button",variant:"outline",onClick:b,className:"flex items-center gap-2",children:[r.jsx(ir,{size:16}),"Précédent"]}),r.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Annuler"})]}),r.jsx("div",{children:n<4?r.jsxs(V,{type:"button",onClick:C,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700",children:["Suivant",r.jsx(Vg,{size:16})]}):r.jsx(V,{type:"button",onClick:_,className:"bg-red-600 hover:bg-red-700",children:"Publier l'annonce"})})]})]})})]})})},hw="/assets/ad-1-DAMbr7uR.jpeg",fw="/assets/ad-2-DsZ3vHtJ.jpeg",W6=({onSubmit:e,onCancel:t})=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto flex gap-6 px-4 py-6",children:[r.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:r.jsx("div",{className:"sticky top-6",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("img",{src:hw,alt:"Publicité",className:"w-full h-auto object-cover cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>window.open("#","_blank")}),r.jsx("div",{className:"p-3 text-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Publicité"})})]})})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx(H6,{onSubmit:e,onCancel:t})}),r.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:r.jsx("div",{className:"sticky top-6",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("img",{src:fw,alt:"Publicité",className:"w-full h-auto object-cover cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>window.open("#","_blank")}),r.jsx("div",{className:"p-3 text-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Publicité"})})]})})})]}),r.jsx("div",{className:"lg:hidden px-4 pb-6",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("img",{src:hw,alt:"Publicité",className:"w-full h-auto object-cover cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>window.open("#","_blank")}),r.jsx("div",{className:"p-3 text-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Publicité"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("img",{src:fw,alt:"Publicité",className:"w-full h-auto object-cover cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>window.open("#","_blank")}),r.jsx("div",{className:"p-3 text-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Publicité"})})]})]})})]}),q6=[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"villa",label:"Villa"},{value:"office",label:"Bureau"},{value:"commercial",label:"Local commercial"},{value:"land",label:"Terrain"}],Z6=[{value:"excellent",label:"Excellent état"},{value:"good",label:"Bon état"},{value:"to_renovate",label:"À rénover"}],K6=({onSubmit:e,onCancel:t})=>{const[n,s]=p.useState(1),[o,a]=p.useState([]),{toast:c}=Je(),[u,d]=p.useState({title:"",realEstateType:"",price:"",location:"",isPaid:!0,rooms:"",bathrooms:"",surface:"",floor:"",condition:"",furnished:!1,parking:!1,garden:!1,balcony:!1,description:""}),f=["Informations","Caractéristiques","Options"],g=()=>{if(n===1&&(!u.title||!u.realEstateType||!u.location)){c({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n<3&&s(n+1)},m=()=>{n>1&&s(n-1)},v=()=>{if(!u.description){c({title:"Erreur",description:"Veuillez ajouter une description",variant:"destructive"});return}const y={title:u.title,description:u.description,price:u.isPaid?u.price:"Free",location:u.location,category:"immobilier",is_free:!u.isPaid,image_url:o[0]||"",images:JSON.stringify(o),real_estate_type:u.realEstateType,real_estate_rooms:u.rooms?parseInt(u.rooms):void 0,real_estate_bathrooms:u.bathrooms?parseInt(u.bathrooms):void 0,real_estate_surface:u.surface?parseInt(u.surface):void 0,real_estate_floor:u.floor?parseInt(u.floor):void 0,real_estate_furnished:u.furnished,real_estate_parking:u.parking,real_estate_garden:u.garden,real_estate_balcony:u.balcony,real_estate_condition:u.condition};e(y)};return r.jsx("div",{className:"min-h-screen pb-20 bg-gray-50",children:r.jsx("div",{className:"px-4 py-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Wi,{className:"text-green-500",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publier un bien immobilier"})]}),r.jsx("p",{className:"text-gray-600",children:"Complétez les 3 étapes pour publier votre annonce"})]}),r.jsx(qv,{currentStep:n,totalSteps:3,stepTitles:f}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informations générales"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photos du bien *"}),r.jsx(zo,{images:o,onImagesChange:a,maxImages:8})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de l'annonce *"}),r.jsx(_e,{placeholder:"Ex: Appartement 3 pièces avec balcon",value:u.title,onChange:y=>d(j=>({...j,title:y.target.value})),className:"h-12"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de bien *"}),r.jsxs(We,{value:u.realEstateType,onValueChange:y=>d(j=>({...j,realEstateType:y})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Choisir le type"})}),r.jsx(Ue,{children:q6.map(y=>r.jsx(ie,{value:y.value,children:y.label},y.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Localisation *"}),r.jsx(_e,{placeholder:"Ville, quartier",value:u.location,onChange:y=>d(j=>({...j,location:y.target.value})),className:"h-12"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{type:"button",variant:u.isPaid?"default":"outline",onClick:()=>d(y=>({...y,isPaid:!0})),className:"px-6",children:"Vente/Location"}),r.jsx(V,{type:"button",variant:u.isPaid?"outline":"default",onClick:()=>d(y=>({...y,isPaid:!1})),className:"px-6",children:"Gratuit"})]}),u.isPaid&&r.jsx(_e,{placeholder:"Prix en TND",value:u.price,onChange:y=>d(j=>({...j,price:y.target.value})),className:"h-12 max-w-xs"})]})]}),n===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Caractéristiques du bien"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de chambres"}),r.jsxs(We,{value:u.rooms,onValueChange:y=>d(j=>({...j,rooms:y})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Nombre de chambres"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"1",children:"1 chambre"}),r.jsx(ie,{value:"2",children:"2 chambres"}),r.jsx(ie,{value:"3",children:"3 chambres"}),r.jsx(ie,{value:"4",children:"4 chambres"}),r.jsx(ie,{value:"5",children:"5+ chambres"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de salles de bain"}),r.jsxs(We,{value:u.bathrooms,onValueChange:y=>d(j=>({...j,bathrooms:y})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Salles de bain"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"1",children:"1 salle de bain"}),r.jsx(ie,{value:"2",children:"2 salles de bain"}),r.jsx(ie,{value:"3",children:"3+ salles de bain"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Surface (m²)"}),r.jsx(_e,{type:"number",placeholder:"120",value:u.surface,onChange:y=>d(j=>({...j,surface:y.target.value})),className:"h-12"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Étage"}),r.jsx(_e,{type:"number",placeholder:"2",value:u.floor,onChange:y=>d(j=>({...j,floor:y.target.value})),className:"h-12"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"État du bien"}),r.jsxs(We,{value:u.condition,onValueChange:y=>d(j=>({...j,condition:y})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Choisir l'état"})}),r.jsx(Ue,{children:Z6.map(y=>r.jsx(ie,{value:y.value,children:y.label},y.value))})]})]})]})]}),n===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Options et description"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Options disponibles"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{id:"furnished",checked:u.furnished,onCheckedChange:y=>d(j=>({...j,furnished:!!y}))}),r.jsx("label",{htmlFor:"furnished",className:"text-sm text-gray-700",children:"Meublé"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{id:"parking",checked:u.parking,onCheckedChange:y=>d(j=>({...j,parking:!!y}))}),r.jsx("label",{htmlFor:"parking",className:"text-sm text-gray-700",children:"Place de parking"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{id:"garden",checked:u.garden,onCheckedChange:y=>d(j=>({...j,garden:!!y}))}),r.jsx("label",{htmlFor:"garden",className:"text-sm text-gray-700",children:"Jardin"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{id:"balcony",checked:u.balcony,onCheckedChange:y=>d(j=>({...j,balcony:!!y}))}),r.jsx("label",{htmlFor:"balcony",className:"text-sm text-gray-700",children:"Balcon/Terrasse"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description détaillée *"}),r.jsx(kc,{placeholder:"Décrivez votre bien : localisation exacte, proximités, particularités...",value:u.description,onChange:y=>d(j=>({...j,description:y.target.value})),rows:6,className:"resize-none"})]})]}),r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[r.jsxs(V,{type:"button",variant:"outline",onClick:n===1?t:m,className:"px-6",children:[r.jsx(ir,{size:16,className:"mr-2"}),n===1?"Annuler":"Précédent"]}),r.jsxs(V,{type:"button",onClick:n===3?v:g,className:"px-6 bg-green-500 hover:bg-green-600",children:[n===3?"Publier l'annonce":"Suivant",n<3&&r.jsx(Vg,{size:16,className:"ml-2"})]})]})]})]})})})},G6=[{value:"cdi",label:"CDI (Contrat à durée indéterminée)"},{value:"cdd",label:"CDD (Contrat à durée déterminée)"},{value:"stage",label:"Stage"},{value:"freelance",label:"Freelance/Indépendant"},{value:"part_time",label:"Temps partiel"},{value:"internship",label:"Alternance"}],Q6=[{value:"informatique",label:"Informatique/IT"},{value:"commerce",label:"Commerce/Vente"},{value:"sante",label:"Santé/Médical"},{value:"education",label:"Éducation/Formation"},{value:"finance",label:"Finance/Banque"},{value:"marketing",label:"Marketing/Communication"},{value:"ingenierie",label:"Ingénierie"},{value:"rh",label:"Ressources Humaines"},{value:"juridique",label:"Juridique"},{value:"restauration",label:"Restauration/Hôtellerie"},{value:"construction",label:"Construction/BTP"},{value:"transport",label:"Transport/Logistique"},{value:"autre",label:"Autre secteur"}],Y6=[{value:"debutant",label:"Débutant (0-1 an)"},{value:"junior",label:"Junior (1-3 ans)"},{value:"confirme",label:"Confirmé (3-5 ans)"},{value:"senior",label:"Senior (5-10 ans)"},{value:"expert",label:"Expert (10+ ans)"}],X6=[{value:"bac",label:"Baccalauréat"},{value:"bac2",label:"Bac+2 (BTS/DUT)"},{value:"bac3",label:"Bac+3 (Licence)"},{value:"bac5",label:"Bac+5 (Master/Ingénieur)"},{value:"doctorat",label:"Doctorat/PhD"},{value:"aucun",label:"Aucun diplôme requis"}],J6=[{value:"normal",label:"Normal"},{value:"urgent",label:"Urgent"},{value:"tres_urgent",label:"Très urgent"}],eF=({onSubmit:e,onCancel:t})=>{const[n,s]=p.useState(1),{toast:o}=Je(),[a,c]=p.useState(""),[u,d]=p.useState({title:"",company:"",jobType:"",jobSector:"",location:"",salaryMin:"",salaryMax:"",jobExperience:"",jobEducation:"",jobUrgency:"",remote:!1,description:"",benefits:[],images:[]}),f=["Informations","Exigences","Description & Photos"],g=()=>{if(n===1&&(!u.title||!u.company||!u.jobType||!u.jobSector||!u.location)){o({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}n<3&&s(n+1)},m=()=>{n>1&&s(n-1)},v=()=>{if(!u.description){o({title:"Erreur",description:"Veuillez ajouter une description du poste",variant:"destructive"});return}const w={title:u.title,description:u.description,price:u.salaryMin&&u.salaryMax?`${u.salaryMin} - ${u.salaryMax} TND`:"Salaire à négocier",location:u.location,category:"emplois",is_free:!0,image_url:u.images.length>0?u.images[0]:"",images:JSON.stringify(u.images),job_type:u.jobType,job_sector:u.jobSector,job_experience:u.jobExperience,job_education:u.jobEducation,job_salary_min:u.salaryMin?parseInt(u.salaryMin):void 0,job_salary_max:u.salaryMax?parseInt(u.salaryMax):void 0,job_remote:u.remote,job_urgency:u.jobUrgency,job_company:u.company,job_benefits:JSON.stringify(u.benefits)};e(w)},y=()=>{a.trim()&&!u.benefits.includes(a.trim())&&(d(w=>({...w,benefits:[...w.benefits,a.trim()]})),c(""))},j=w=>{d(C=>({...C,benefits:C.benefits.filter(b=>b!==w)}))};return r.jsx("div",{className:"min-h-screen pb-20 bg-gray-50",children:r.jsx("div",{className:"px-4 py-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(ei,{className:"text-purple-500",size:24}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Publier une offre d'emploi"})]}),r.jsx("p",{className:"text-gray-600",children:"Complétez les 3 étapes pour publier votre annonce"})]}),r.jsx(qv,{currentStep:n,totalSteps:3,stepTitles:f}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informations générales"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre du poste *"}),r.jsx(_e,{placeholder:"Ex: Développeur Web Full Stack",value:u.title,onChange:w=>d(C=>({...C,title:w.target.value})),className:"h-12"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entreprise *"}),r.jsx(_e,{placeholder:"Nom de l'entreprise",value:u.company,onChange:w=>d(C=>({...C,company:w.target.value})),className:"h-12"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de contrat *"}),r.jsxs(We,{value:u.jobType,onValueChange:w=>d(C=>({...C,jobType:w})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Choisir le type"})}),r.jsx(Ue,{children:G6.map(w=>r.jsx(ie,{value:w.value,children:w.label},w.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secteur d'activité *"}),r.jsxs(We,{value:u.jobSector,onValueChange:w=>d(C=>({...C,jobSector:w})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Choisir le secteur"})}),r.jsx(Ue,{children:Q6.map(w=>r.jsx(ie,{value:w.value,children:w.label},w.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Localisation *"}),r.jsx(_e,{placeholder:"Ville, région",value:u.location,onChange:w=>d(C=>({...C,location:w.target.value})),className:"h-12"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rémunération (optionnel)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md",children:[r.jsx(_e,{placeholder:"Salaire min (TND)",value:u.salaryMin,onChange:w=>d(C=>({...C,salaryMin:w.target.value})),className:"h-12",type:"number"}),r.jsx(_e,{placeholder:"Salaire max (TND)",value:u.salaryMax,onChange:w=>d(C=>({...C,salaryMax:w.target.value})),className:"h-12",type:"number"})]})]})]}),n===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Exigences du poste"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expérience requise"}),r.jsxs(We,{value:u.jobExperience,onValueChange:w=>d(C=>({...C,jobExperience:w})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Niveau d'expérience"})}),r.jsx(Ue,{children:Y6.map(w=>r.jsx(ie,{value:w.value,children:w.label},w.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau d'études"}),r.jsxs(We,{value:u.jobEducation,onValueChange:w=>d(C=>({...C,jobEducation:w})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Niveau requis"})}),r.jsx(Ue,{children:X6.map(w=>r.jsx(ie,{value:w.value,children:w.label},w.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgence du recrutement"}),r.jsxs(We,{value:u.jobUrgency,onValueChange:w=>d(C=>({...C,jobUrgency:w})),children:[r.jsx(Be,{className:"h-12",children:r.jsx(qe,{placeholder:"Urgence"})}),r.jsx(Ue,{children:J6.map(w=>r.jsx(ie,{value:w.value,children:w.label},w.value))})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{id:"remote",checked:u.remote,onCheckedChange:w=>d(C=>({...C,remote:!!w}))}),r.jsx("label",{htmlFor:"remote",className:"text-sm text-gray-700",children:"Télétravail possible"})]})]}),n===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description et avantages"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description du poste *"}),r.jsx(kc,{placeholder:"Décrivez le poste, les missions, les responsabilités, le profil recherché...",value:u.description,onChange:w=>d(C=>({...C,description:w.target.value})),rows:8,className:"resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Photos du poste (optionnelles)"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Ajoutez des photos de l'entreprise, de l'équipe ou du lieu de travail"}),r.jsx(zo,{images:u.images,onImagesChange:w=>d(C=>({...C,images:w})),maxImages:5,className:"mb-6"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Avantages proposés"}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx(_e,{placeholder:"Ex: Mutuelle, tickets restaurant...",value:a,onChange:w=>c(w.target.value),className:"h-10",onKeyPress:w=>w.key==="Enter"&&(w.preventDefault(),y())}),r.jsx(V,{type:"button",onClick:y,className:"h-10 px-4",variant:"outline",children:r.jsx(qi,{size:16})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.benefits.map((w,C)=>r.jsxs("div",{className:"flex items-center gap-1 bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm",children:[w,r.jsx("button",{type:"button",onClick:()=>j(w),className:"ml-1 text-purple-600 hover:text-purple-800",children:r.jsx(gn,{size:14})})]},C))})]})]}),r.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[r.jsxs(V,{type:"button",variant:"outline",onClick:n===1?t:m,className:"px-6",children:[r.jsx(ir,{size:16,className:"mr-2"}),n===1?"Annuler":"Précédent"]}),r.jsxs(V,{type:"button",onClick:n===3?v:g,className:"px-6 bg-purple-500 hover:bg-purple-600",children:[n===3?"Publier l'offre":"Suivant",n<3&&r.jsx(Vg,{size:16,className:"ml-2"})]})]})]})]})})})},tF={voiture:{name:"Voiture",icon:Oi,color:"bg-blue-500"},immobilier:{name:"Immobilier",icon:Wi,color:"bg-green-500"},emplois:{name:"Emploi",icon:ei,color:"bg-purple-500"},autres:{name:"Autres",icon:va,color:"bg-gray-500"}},nF=({activeTab:e,onTabChange:t,selectedCategory:n})=>{const[s,o]=p.useState(n||""),{toast:a}=Je(),{user:c}=It(),u=Ge({mutationFn:g=>Ce.createProduct(g),onSuccess:()=>{a({title:"Succès!",description:"Votre annonce a été publiée avec succès"}),o(""),Xt.invalidateQueries({queryKey:["/api/products"]}),t==null||t("home")},onError:g=>{console.error("Error creating product:",g),a({title:"Erreur",description:g.message||"Impossible de publier l'annonce",variant:"destructive"})}}),d=g=>{if(!c){a({title:"Erreur",description:"Vous devez être connecté pour publier une annonce",variant:"destructive"});return}u.mutate(g)},f=()=>{o(""),t==null||t("home")};return s?r.jsxs("div",{children:[s==="voiture"&&r.jsx(W6,{onSubmit:d,onCancel:f}),s==="immobilier"&&r.jsx(K6,{onSubmit:d,onCancel:f}),s==="emplois"&&r.jsx(eF,{onSubmit:d,onCancel:f}),s==="autres"&&r.jsx("div",{className:"min-h-screen pb-20 bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center p-8",children:[r.jsx(va,{size:48,className:"mx-auto mb-4 text-gray-400"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:'Catégorie "Autres" en cours de développement'}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Cette catégorie sera bientôt disponible"}),r.jsx(V,{onClick:f,children:"Retour"})]})})]}):r.jsx("div",{className:"min-h-screen pb-20 bg-gray-50",children:r.jsx("div",{className:"px-4 py-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Publier une annonce"}),r.jsx("p",{className:"text-gray-600",children:"Choisissez une catégorie pour commencer"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(tF).map(([g,m])=>{const v=m.icon;return r.jsx(ae,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 border-2 hover:border-red-500",onClick:()=>o(g),children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center ${m.color}`,children:r.jsx(v,{size:32,className:"text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[g==="voiture"&&"Vendez votre véhicule rapidement",g==="immobilier"&&"Publiez votre bien immobilier",g==="emplois"&&"Diffusez une offre d'emploi",g==="autres"&&"Autres produits et services"]})]})},g)})})]})})})};var rF="Label",HC=p.forwardRef((e,t)=>r.jsx(ve.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HC.displayName=rF;var WC=HC;const sF=xc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ye=p.forwardRef(({className:e,...t},n)=>r.jsx(WC,{ref:n,className:ce(sF(),e),...t}));ye.displayName=WC.displayName;function iF(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,o,a,c=[],u="",d=e.split("/");for(d[0]||d.shift();o=d.shift();)n=o[0],n==="*"?(c.push(n),u+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=o.indexOf("?",1),a=o.indexOf(".",1),c.push(o.substring(1,~s?s:~a?a:o.length)),u+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(u+=(~s?"?":"")+"\\"+o.substring(a))):u+="/"+o;return{keys:c,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var qC={exports:{}},ZC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=p;function oF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aF=typeof Object.is=="function"?Object.is:oF,lF=ba.useState,cF=ba.useEffect,uF=ba.useLayoutEffect,dF=ba.useDebugValue;function hF(e,t){var n=t(),s=lF({inst:{value:n,getSnapshot:t}}),o=s[0].inst,a=s[1];return uF(function(){o.value=n,o.getSnapshot=t,sm(o)&&a({inst:o})},[e,n,t]),cF(function(){return sm(o)&&a({inst:o}),e(function(){sm(o)&&a({inst:o})})},[e]),dF(n),n}function sm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aF(e,n)}catch{return!0}}function fF(e,t){return t()}var mF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fF:hF;ZC.useSyncExternalStore=ba.useSyncExternalStore!==void 0?ba.useSyncExternalStore:mF;qC.exports=ZC;var pF=qC.exports;const gF=Kp.useInsertionEffect,vF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xF=vF?p.useLayoutEffect:p.useEffect,yF=gF||xF,KC=e=>{const t=p.useRef([e,(...n)=>t[0](...n)]).current;return yF(()=>{t[0]=e}),t[1]},wF="popstate",Zv="pushState",Kv="replaceState",bF="hashchange",mw=[wF,Zv,Kv,bF],_F=e=>{for(const t of mw)addEventListener(t,e);return()=>{for(const t of mw)removeEventListener(t,e)}},GC=(e,t)=>pF.useSyncExternalStore(_F,e,t),jF=()=>location.search,NF=({ssrSearch:e=""}={})=>GC(jF,()=>e),pw=()=>location.pathname,CF=({ssrPath:e}={})=>GC(pw,e?()=>e:pw),SF=(e,{replace:t=!1,state:n=null}={})=>history[t?Kv:Zv](n,"",e),PF=(e={})=>[CF(e),SF],gw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[gw]>"u"){for(const e of[Zv,Kv]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,gw,{value:!0})}const kF=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",QC=(e="")=>e==="/"?"":e,EF=(e,t)=>e[0]==="~"?e.slice(1):QC(t)+e,TF=(e="",t)=>kF(vw(QC(e)),vw(t)),vw=e=>{try{return decodeURI(e)}catch{return e}},MF={hook:PF,searchHook:NF,parser:iF,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},RF=p.createContext(MF),YC=()=>p.useContext(RF),LF={};p.createContext(LF);const XC=e=>{const[t,n]=e.hook(e);return[TF(e.base,t),KC((s,o)=>n(EF(s,e.base),o))]},AF=()=>XC(YC()),IF=p.forwardRef((e,t)=>{const n=YC(),[s,o]=XC(n),{to:a="",href:c=a,onClick:u,asChild:d,children:f,className:g,replace:m,state:v,...y}=e,j=KC(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(u==null||u(C),C.defaultPrevented||(C.preventDefault(),o(c,e)))}),w=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return d&&p.isValidElement(f)?p.cloneElement(f,{onClick:j,href:w}):p.createElement("a",{...y,onClick:j,href:w,className:g!=null&&g.call?g(s===c):g,children:f,ref:t})});function DF({currentAvatarUrl:e,onSuccess:t}){const[n,s]=p.useState(!1),[o,a]=p.useState(null),[c,u]=p.useState(null),{toast:d}=Je(),f=lr(),g=Ge({mutationFn:async j=>{const w=localStorage.getItem("authToken")||localStorage.getItem("token");console.log("Upload attempt - Token:",w?"present":"missing");const C=await fetch("/api/objects/upload",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`}});if(!C.ok){const R=await C.json();throw new Error(R.error||"Erreur lors de la récupération de l'URL")}const{uploadURL:b}=await C.json(),_=b.split("/").pop(),S=new FormData;S.append("file",j);const P=await fetch(`/api/objects/upload/${_}`,{method:"POST",body:S,headers:{Authorization:`Bearer ${w}`}});if(!P.ok){const R=await P.json();throw new Error(R.error||"Erreur lors du téléchargement du fichier")}const k=await P.json(),M=await fetch("/api/profile/avatar",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({avatarURL:k.url})});if(!M.ok){const R=await M.json();throw new Error(R.error||"Erreur lors de la mise à jour")}return await M.json()},onSuccess:()=>{f.invalidateQueries({queryKey:["/api/profile"]}),f.refetchQueries({queryKey:["/api/profile"]}),s(!1),a(null),u(null),t==null||t(),d({title:"🎉 C'est parfait !",description:"Votre nouvelle photo de profil est magnifique ✨"}),setTimeout(()=>{f.clear(),window.location.reload()},500)},onError:j=>{d({title:"😔 Oups, quelque chose s'est mal passé",description:"Essayons encore une fois ? Votre photo est importante pour nous ! 💖",variant:"destructive"})}}),m=j=>{var C;const w=(C=j.target.files)==null?void 0:C[0];if(w){if(!w.type.startsWith("image/")){d({title:"🖼️ Hmm, ce n'est pas une image",description:"Choisissez une belle photo JPG, PNG ou GIF ! 📸",variant:"destructive"});return}if(w.size>200*1024*1024){d({title:"📏 Cette image est un peu trop grande",description:"Essayez avec une image plus petite (moins de 200MB) 🤏",variant:"destructive"});return}a(w);const b=new FileReader;b.onload=_=>{var S;u((S=_.target)==null?void 0:S.result)},b.readAsDataURL(w)}},v=()=>{o&&g.mutate(o)},y=()=>{a(null),u(null),s(!1)};return r.jsxs(Ji,{open:n,onOpenChange:s,children:[r.jsx(wh,{asChild:!0,children:r.jsx(V,{variant:"outline",size:"sm",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full p-0 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110",children:r.jsx(np,{className:"h-4 w-4 text-white"})})}),r.jsxs(ii,{className:"sm:max-w-md",children:[r.jsxs(eo,{children:[r.jsxs(to,{className:"flex items-center gap-2",children:[r.jsx(np,{className:"h-5 w-5 text-blue-500"}),"Changer la photo de profil"]}),r.jsxs(bh,{className:"text-center",children:[r.jsx("span",{className:"text-base",children:"Ajoutez une touche personnelle à votre profil ! ✨"}),r.jsx("br",{}),r.jsx("span",{className:"text-sm text-purple-600 font-medium",children:"Montrez votre plus beau sourire 😊"}),r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:"JPG, PNG, GIF (max 200MB)"})]})]}),r.jsxs("div",{className:"space-y-4",children:[e&&!c&&r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:e,alt:"Photo actuelle",className:"w-24 h-24 rounded-full object-cover border-3 border-blue-200 shadow-lg group-hover:shadow-xl transition-all duration-300"}),r.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 bg-blue-100 px-2 py-1 rounded-full",children:r.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"💫 Actuelle"})})]})}),c&&r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"relative group animate-pulse",children:[r.jsx("img",{src:c,alt:"Nouvelle photo",className:"w-24 h-24 rounded-full object-cover border-3 border-green-300 shadow-lg animate-bounce"}),r.jsx(V,{variant:"outline",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 bg-red-100 hover:bg-red-200 border-red-300",onClick:()=>{a(null),u(null)},children:r.jsx(gn,{className:"h-3 w-3 text-red-500"})}),r.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-green-100 to-blue-100 px-3 py-1 rounded-full",children:r.jsx("span",{className:"text-xs text-green-600 font-bold",children:"🌟 Nouvelle"})})]})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("label",{className:"cursor-pointer group",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden"}),r.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 border-2 border-dashed border-blue-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-all duration-200 group-hover:scale-105",children:[r.jsx(Zg,{className:"h-5 w-5 text-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-blue-600",children:o?"Changer l'image":"📸 Choisir une photo"})]})]})}),o&&r.jsxs("div",{className:"text-center bg-gradient-to-r from-blue-50 to-purple-50 p-3 rounded-lg border border-blue-200",children:[r.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["📎 ",o.name]}),r.jsxs("p",{className:"text-xs text-purple-600",children:["📏 ",Math.round(o.size/1024)," KB - Parfait ! ✨"]})]})]}),r.jsxs(Fv,{className:"gap-2",children:[r.jsx(V,{variant:"outline",onClick:y,children:"Annuler"}),r.jsx(V,{onClick:v,disabled:!o||g.isPending,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:g.isPending?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Téléchargement..."]}):r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(en,{className:"h-4 w-4"}),"Sauvegarder"]})})]})]})]})}function JC(){const{user:e,signOut:t}=It(),[,n]=AF(),{toast:s}=Je(),o=lr(),[a,c]=p.useState(!1),[u,d]=p.useState({display_name:"",bio:""}),{data:f,isLoading:g}=Xe({queryKey:["/api/profile"],enabled:!!e});p.useEffect(()=>{f&&d({display_name:f.display_name||"",bio:f.bio||""})},[f]);const m=Ge({mutationFn:async C=>Ce.request("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/profile"]}),c(!1),s({title:"Succès",description:"Profil mis à jour avec succès"})},onError:C=>{s({title:"Erreur",description:C.message||"Erreur lors de la mise à jour du profil",variant:"destructive"})}}),v=()=>{m.mutate(u)},y=()=>{f&&d({display_name:f.display_name||"",bio:f.bio||""}),c(!1)},j=async()=>{try{await t(),s({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès"}),n("/")}catch{s({title:"Erreur",description:"Impossible de se déconnecter",variant:"destructive"})}},w=(C,b)=>C?C.charAt(0).toUpperCase():b?b.charAt(0).toUpperCase():"U";return g?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Chargement du profil..."})]})}):r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>n("/"),className:"flex items-center gap-2",children:[r.jsx(ir,{className:"w-4 h-4"}),"Retour"]}),r.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"})]}),r.jsxs(ae,{className:"mb-6",children:[r.jsx(Ve,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(zn,{className:"w-20 h-20 border-4 border-white shadow-lg",children:f!=null&&f.avatar_url?r.jsx(iN,{src:f.avatar_url,alt:"Photo de profil"}):r.jsx(Fn,{className:"text-2xl bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:w(f==null?void 0:f.display_name,e==null?void 0:e.email)})}),r.jsx(DF,{currentAvatarUrl:f==null?void 0:f.avatar_url,onSuccess:()=>{o.invalidateQueries({queryKey:["/api/profile"]}),o.refetchQueries({queryKey:["/api/profile"]}),s({title:"Photo mise à jour",description:"Votre photo de profil a été mise à jour avec succès"})}})]}),r.jsxs("div",{children:[r.jsx(Ze,{className:"text-xl",children:(f==null?void 0:f.display_name)||(e==null?void 0:e.display_name)||"Utilisateur"}),r.jsx(Yi,{children:e==null?void 0:e.email})]})]}),a?r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:y,className:"flex items-center gap-2",children:[r.jsx(gn,{className:"w-4 h-4"}),"Annuler"]}),r.jsxs(V,{size:"sm",onClick:v,disabled:m.isPending,className:"flex items-center gap-2",children:[r.jsx(S1,{className:"w-4 h-4"}),"Sauvegarder"]})]}):r.jsxs(V,{variant:"outline",onClick:()=>c(!0),className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4"}),"Modifier"]})]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"display_name",children:"Nom d'affichage"}),a?r.jsx(_e,{id:"display_name",value:u.display_name,onChange:C=>d(b=>({...b,display_name:C.target.value})),placeholder:"Votre nom d'affichage"}):r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(f==null?void 0:f.display_name)||"Non renseigné"})]}),r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"bio",children:"Biographie"}),a?r.jsx("textarea",{id:"bio",value:u.bio,onChange:C=>d(b=>({...b,bio:C.target.value})),placeholder:"Parlez-nous de vous...",className:"w-full p-2 border rounded-md min-h-[80px] resize-none"}):r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(f==null?void 0:f.bio)||"Aucune biographie"})]})]})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(ti,{className:"w-5 h-5"}),"Informations du compte"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(eR,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ti,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Membre depuis"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:f!=null&&f.created_at?new Date(f.created_at).toLocaleDateString("fr-FR"):"Date inconnue"})]})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(V,{onClick:j,variant:"outline",className:"w-full flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200 hover:border-red-300",children:[r.jsx(N1,{className:"w-4 h-4"}),"Se déconnecter"]})})]})]})]})})}const OF=({activeTab:e,onTabChange:t})=>r.jsx("div",{className:"min-h-screen pb-20",children:r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:r.jsxs("div",{className:"text-center px-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx(en,{size:40,className:"text-gray-400 stroke-2"})}),r.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center absolute -top-2 -right-2",children:r.jsx(en,{size:32,className:"text-gray-400 stroke-2"})})]})}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed max-w-md",children:"votre liste de favoris est encore vide. Commencez à explorer et ajoutez à vos favoris"})]})})}),zF=()=>{const e=lr(),{data:t=[],isLoading:n,error:s}=Xe({queryKey:["/api/notifications"],queryFn:()=>Ce.request("/notifications"),refetchInterval:3e4,enabled:!!localStorage.getItem("token")}),{data:o=0}=Xe({queryKey:["/api/notifications/unread-count"],queryFn:()=>Ce.request("/notifications/unread-count").then(d=>d.count),refetchInterval:15e3,enabled:!!localStorage.getItem("token")}),a=Ge({mutationFn:d=>Ce.request(`/notifications/${d}/read`,{method:"PATCH"}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),c=Ge({mutationFn:()=>Ce.request("/notifications/mark-all-read",{method:"PATCH"}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}}),u=Ge({mutationFn:d=>Ce.request(`/notifications/${d}`,{method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/notifications"]}),e.invalidateQueries({queryKey:["/api/notifications/unread-count"]})}});return{notifications:t,unreadCount:o,isLoading:n,error:s,markAsRead:a.mutate,markAllAsRead:c.mutate,deleteNotification:u.mutate,isMarkingAsRead:a.isPending,isMarkingAllAsRead:c.isPending,isDeleting:u.isPending}},FF=({activeTab:e,onTabChange:t})=>{const{user:n}=It(),{toast:s}=Je(),{notifications:o,unreadCount:a,isLoading:c,markAsRead:u,markAllAsRead:d,deleteNotification:f,isMarkingAllAsRead:g}=zF(),m=C=>{switch(C){case"like":return en;case"message":return hn;case"review":return Fs;default:return yl}},v=C=>{const b=new Date(C),S=Math.floor((new Date().getTime()-b.getTime())/(1e3*60));return S<1?"À l'instant":S<60?`${S} min`:S<1440?`${Math.floor(S/60)}h`:`${Math.floor(S/1440)}j`},y=C=>{u(C)},j=()=>{d(),s({title:"Succès",description:"Toutes les notifications ont été marquées comme lues"})},w=C=>{f(C),s({title:"Supprimé",description:"Notification supprimée"})};return n?r.jsx("div",{className:"min-h-screen pb-20",children:r.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yl,{size:24,className:"text-gray-700"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),a>0&&r.jsx(ke,{variant:"destructive",className:"rounded-full",children:a})]}),a>0&&r.jsxs(V,{variant:"outline",size:"sm",onClick:j,disabled:g,children:[r.jsx(yc,{size:16,className:"mr-2"}),"Tout marquer comme lu"]})]}),c?r.jsx("div",{className:"space-y-3",children:[1,2,3].map(C=>r.jsx(ae,{className:"animate-pulse",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},C))}):r.jsx("div",{className:"space-y-3",children:o.map(C=>{const b=m(C.type);return r.jsx(ae,{className:`transition-all duration-200 hover:shadow-md cursor-pointer ${C.is_read?"":"border-l-4 border-l-blue-500 bg-blue-50/50"}`,onClick:()=>!C.is_read&&y(C.id),children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${C.type==="like"?"bg-red-100 text-red-600":C.type==="message"?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:r.jsx(b,{size:16})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:C.title}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:v(C.created_at)}),r.jsx(V,{variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),w(C.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(os,{size:14})})]})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:C.message})]}),!C.is_read&&r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]})})},C.id)})}),!c&&o.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(yl,{size:48,className:"text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune notification"}),r.jsx("p",{className:"text-gray-500",children:"Vous recevrez ici les notifications sur vos produits et messages."})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsx(V,{variant:"outline",onClick:()=>t==null?void 0:t("home"),children:"Retour à l'accueil"})})]})}):r.jsx("div",{className:"min-h-screen pb-20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(yl,{size:48,className:"text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connexion requise"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Vous devez être connecté pour voir vos notifications."}),r.jsx(V,{onClick:()=>t==null?void 0:t("auth"),children:"Se connecter"})]})})};var Gv="Switch",[$F,D$]=At(Gv),[BF,UF]=$F(Gv),eS=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:a,required:c,disabled:u,value:d="on",onCheckedChange:f,form:g,...m}=e,[v,y]=p.useState(null),j=we(t,S=>y(S)),w=p.useRef(!1),C=v?g||!!v.closest("form"):!0,[b=!1,_]=is({prop:o,defaultProp:a,onChange:f});return r.jsxs(BF,{scope:n,checked:b,disabled:u,children:[r.jsx(ve.button,{type:"button",role:"switch","aria-checked":b,"aria-required":c,"data-state":rS(b),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:j,onClick:re(e.onClick,S=>{_(P=>!P),C&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})}),C&&r.jsx(VF,{control:v,bubbles:!w.current,name:s,value:d,checked:b,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});eS.displayName=Gv;var tS="SwitchThumb",nS=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,o=UF(tS,n);return r.jsx(ve.span,{"data-state":rS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});nS.displayName=tS;var VF=e=>{const{control:t,checked:n,bubbles:s=!0,...o}=e,a=p.useRef(null),c=Nh(n),u=lh(t);return p.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const v=new Event("click",{bubbles:s});m.call(d,n),d.dispatchEvent(v)}},[c,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rS(e){return e?"checked":"unchecked"}var sS=eS,HF=nS;const ot=p.forwardRef(({className:e,...t},n)=>r.jsx(sS,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(HF,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ot.displayName=sS.displayName;var WF=Kp[" useInsertionEffect ".trim().toString()]||dt;function qF({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,a,c]=ZF({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:o;{const g=p.useRef(e!==void 0);p.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,s])}const f=p.useCallback(g=>{var m;if(u){const v=KF(g)?g(e):g;v!==e&&((m=c.current)==null||m.call(c,v))}else a(g)},[u,e,a,c]);return[d,f]}function ZF({defaultProp:e,onChange:t}){const[n,s]=p.useState(e),o=p.useRef(n),a=p.useRef(t);return WF(()=>{a.current=t},[t]),p.useEffect(()=>{var c;o.current!==n&&((c=a.current)==null||c.call(a,n),o.current=n)},[n,o]),[n,s,a]}function KF(e){return typeof e=="function"}function zp(e){const t=GF(e),n=p.forwardRef((s,o)=>{const{children:a,...c}=s,u=p.Children.toArray(a),d=u.find(YF);if(d){const f=d.props.children,g=u.map(m=>m===d?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:m);return r.jsx(t,{...c,ref:o,children:p.isValidElement(f)?p.cloneElement(f,void 0,g):null})}return r.jsx(t,{...c,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}function GF(e){const t=p.forwardRef((n,s)=>{const{children:o,...a}=n;if(p.isValidElement(o)){const c=JF(o),u=XF(a,o.props);return o.type!==p.Fragment&&(u.ref=s?Ca(s,c):c),p.cloneElement(o,u)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QF=Symbol("radix.slottable");function YF(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QF}function XF(e,t){const n={...t};for(const s in t){const o=e[s],a=t[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...u)=>{const d=a(...u);return o(...u),d}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function JF(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var e8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tc=e8.reduce((e,t)=>{const n=zp(`Primitive.${t}`),s=p.forwardRef((o,a)=>{const{asChild:c,...u}=o,d=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...u,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function t8(e){const t=e+"CollectionProvider",[n,s]=At(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:C,children:b}=w,_=Y.useRef(null),S=Y.useRef(new Map).current;return r.jsx(o,{scope:C,itemMap:S,collectionRef:_,children:b})};c.displayName=t;const u=e+"CollectionSlot",d=zp(u),f=Y.forwardRef((w,C)=>{const{scope:b,children:_}=w,S=a(u,b),P=we(C,S.collectionRef);return r.jsx(d,{ref:P,children:_})});f.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",v=zp(g),y=Y.forwardRef((w,C)=>{const{scope:b,children:_,...S}=w,P=Y.useRef(null),k=we(C,P),M=a(g,b);return Y.useEffect(()=>(M.itemMap.set(P,{ref:P,...S}),()=>void M.itemMap.delete(P))),r.jsx(v,{[m]:"",ref:k,children:_})});y.displayName=g;function j(w){const C=a(e+"CollectionConsumer",w);return Y.useCallback(()=>{const _=C.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((M,R)=>S.indexOf(M.ref.current)-S.indexOf(R.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:f,ItemSlot:y},j,s]}var iS=["PageUp","PageDown"],oS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],aS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Oa="Slider",[Fp,n8,r8]=t8(Oa),[lS,O$]=At(Oa,[r8]),[s8,kh]=lS(Oa),cS=p.forwardRef((e,t)=>{const{name:n,min:s=0,max:o=100,step:a=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[s],value:g,onValueChange:m=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:j,...w}=e,C=p.useRef(new Set),b=p.useRef(0),S=c==="horizontal"?i8:o8,[P=[],k]=qF({prop:g,defaultProp:f,onChange:D=>{var X;(X=[...C.current][b.current])==null||X.focus(),m(D)}}),M=p.useRef(P);function R(D){const K=d8(P,D);B(D,K)}function T(D){B(D,b.current)}function z(){const D=M.current[b.current];P[b.current]!==D&&v(P)}function B(D,K,{commit:X}={commit:!1}){const G=p8(a),de=g8(Math.round((D-s)/a)*a+s,G),Z=ic(de,[s,o]);k((W=[])=>{const O=c8(W,Z,K);if(m8(O,d*a)){b.current=O.indexOf(Z);const H=String(O)!==String(W);return H&&X&&v(O),H?O:W}else return W})}return r.jsx(s8,{scope:e.__scopeSlider,name:n,disabled:u,min:s,max:o,valueIndexToChangeRef:b,thumbs:C.current,values:P,orientation:c,form:j,children:r.jsx(Fp.Provider,{scope:e.__scopeSlider,children:r.jsx(Fp.Slot,{scope:e.__scopeSlider,children:r.jsx(S,{"aria-disabled":u,"data-disabled":u?"":void 0,...w,ref:t,onPointerDown:re(w.onPointerDown,()=>{u||(M.current=P)}),min:s,max:o,inverted:y,onSlideStart:u?void 0:R,onSlideMove:u?void 0:T,onSlideEnd:u?void 0:z,onHomeKeyDown:()=>!u&&B(s,0,{commit:!0}),onEndKeyDown:()=>!u&&B(o,P.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:K})=>{if(!u){const de=iS.includes(D.key)||D.shiftKey&&oS.includes(D.key)?10:1,Z=b.current,W=P[Z],O=a*de*K;B(W+O,Z,{commit:!0})}}})})})})});cS.displayName=Oa;var[uS,dS]=lS(Oa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),i8=p.forwardRef((e,t)=>{const{min:n,max:s,dir:o,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:d,onStepKeyDown:f,...g}=e,[m,v]=p.useState(null),y=we(t,S=>v(S)),j=p.useRef(void 0),w=Ia(o),C=w==="ltr",b=C&&!a||!C&&a;function _(S){const P=j.current||m.getBoundingClientRect(),k=[0,P.width],R=Qv(k,b?[n,s]:[s,n]);return j.current=P,R(S-P.left)}return r.jsx(uS,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:r.jsx(hS,{dir:w,"data-orientation":"horizontal",...g,ref:y,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const P=_(S.clientX);c==null||c(P)},onSlideMove:S=>{const P=_(S.clientX);u==null||u(P)},onSlideEnd:()=>{j.current=void 0,d==null||d()},onStepKeyDown:S=>{const k=aS[b?"from-left":"from-right"].includes(S.key);f==null||f({event:S,direction:k?-1:1})}})})}),o8=p.forwardRef((e,t)=>{const{min:n,max:s,inverted:o,onSlideStart:a,onSlideMove:c,onSlideEnd:u,onStepKeyDown:d,...f}=e,g=p.useRef(null),m=we(t,g),v=p.useRef(void 0),y=!o;function j(w){const C=v.current||g.current.getBoundingClientRect(),b=[0,C.height],S=Qv(b,y?[s,n]:[n,s]);return v.current=C,S(w-C.top)}return r.jsx(uS,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:r.jsx(hS,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const C=j(w.clientY);a==null||a(C)},onSlideMove:w=>{const C=j(w.clientY);c==null||c(C)},onSlideEnd:()=>{v.current=void 0,u==null||u()},onStepKeyDown:w=>{const b=aS[y?"from-bottom":"from-top"].includes(w.key);d==null||d({event:w,direction:b?-1:1})}})})}),hS=p.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:d,...f}=e,g=kh(Oa,n);return r.jsx(Tc.span,{...f,ref:t,onKeyDown:re(e.onKeyDown,m=>{m.key==="Home"?(c(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):iS.concat(oS).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:re(e.onPointerDown,m=>{const v=m.target;v.setPointerCapture(m.pointerId),m.preventDefault(),g.thumbs.has(v)?v.focus():s(m)}),onPointerMove:re(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&o(m)}),onPointerUp:re(e.onPointerUp,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&(v.releasePointerCapture(m.pointerId),a(m))})})}),fS="SliderTrack",mS=p.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,o=kh(fS,n);return r.jsx(Tc.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...s,ref:t})});mS.displayName=fS;var $p="SliderRange",pS=p.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,o=kh($p,n),a=dS($p,n),c=p.useRef(null),u=we(t,c),d=o.values.length,f=o.values.map(v=>xS(v,o.min,o.max)),g=d>1?Math.min(...f):0,m=100-Math.max(...f);return r.jsx(Tc.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...s,ref:u,style:{...e.style,[a.startEdge]:g+"%",[a.endEdge]:m+"%"}})});pS.displayName=$p;var Bp="SliderThumb",gS=p.forwardRef((e,t)=>{const n=n8(e.__scopeSlider),[s,o]=p.useState(null),a=we(t,u=>o(u)),c=p.useMemo(()=>s?n().findIndex(u=>u.ref.current===s):-1,[n,s]);return r.jsx(a8,{...e,ref:a,index:c})}),a8=p.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:o,...a}=e,c=kh(Bp,n),u=dS(Bp,n),[d,f]=p.useState(null),g=we(t,_=>f(_)),m=d?c.form||!!d.closest("form"):!0,v=lh(d),y=c.values[s],j=y===void 0?0:xS(y,c.min,c.max),w=u8(s,c.values.length),C=v==null?void 0:v[u.size],b=C?h8(C,j,u.direction):0;return p.useEffect(()=>{if(d)return c.thumbs.add(d),()=>{c.thumbs.delete(d)}},[d,c.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${j}% + ${b}px)`},children:[r.jsx(Fp.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(Tc.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":c.min,"aria-valuenow":y,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...a,ref:g,style:y===void 0?{display:"none"}:e.style,onFocus:re(e.onFocus,()=>{c.valueIndexToChangeRef.current=s})})}),m&&r.jsx(vS,{name:o??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:y},s)]})});gS.displayName=Bp;var l8="RadioBubbleInput",vS=p.forwardRef(({__scopeSlider:e,value:t,...n},s)=>{const o=p.useRef(null),a=we(o,s),c=Nh(t);return p.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==t&&g){const m=new Event("input",{bubbles:!0});g.call(u,t),u.dispatchEvent(m)}},[c,t]),r.jsx(Tc.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});vS.displayName=l8;function c8(e=[],t,n){const s=[...e];return s[n]=t,s.sort((o,a)=>o-a)}function xS(e,t,n){const a=100/(n-t)*(e-t);return ic(a,[0,100])}function u8(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function d8(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),s=Math.min(...n);return n.indexOf(s)}function h8(e,t,n){const s=e/2,a=Qv([0,50],[0,s]);return(s-a(t)*n)*n}function f8(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function m8(e,t){if(t>0){const n=f8(e);return Math.min(...n)>=t}return!0}function Qv(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function p8(e){return(String(e).split(".")[1]||"").length}function g8(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var yS=cS,v8=mS,x8=pS,y8=gS;const oc=p.forwardRef(({className:e,...t},n)=>r.jsxs(yS,{ref:n,className:ce("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(v8,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:r.jsx(x8,{className:"absolute h-full bg-primary"})}),r.jsx(y8,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));oc.displayName=yS.displayName;function w8({trigger:e}){const{preferences:t,updatePreferences:n,isLoading:s}=aD(),[o,a]=p.useState(!1);if(!t)return null;const c=async(d,f)=>{await n({[d]:f})},u=r.jsxs(V,{variant:"outline",size:"sm",children:[r.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Préférences"]});return r.jsxs(Ji,{open:o,onOpenChange:a,children:[r.jsx(wh,{asChild:!0,children:e||u}),r.jsxs(ii,{className:"sm:max-w-[425px] bg-white border border-black",children:[r.jsxs(eo,{children:[r.jsx(to,{className:"text-black",children:"Préférences utilisateur"}),r.jsx(bh,{className:"text-black",children:"Personnalisez votre expérience Tomati selon vos préférences."})]}),r.jsxs("div",{className:"grid gap-6 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(ye,{htmlFor:"theme",className:"text-black font-medium",children:"Thème"}),r.jsxs(We,{value:t.theme,onValueChange:d=>c("theme",d),children:[r.jsx(Be,{className:"border-black bg-white text-black",children:r.jsx(qe,{})}),r.jsxs(Ue,{className:"bg-white border border-black",children:[r.jsx(ie,{value:"light",className:"text-black",children:"Clair"}),r.jsx(ie,{value:"dark",className:"text-black",children:"Sombre"}),r.jsx(ie,{value:"auto",className:"text-black",children:"Automatique"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(ye,{htmlFor:"language",className:"text-black font-medium",children:"Langue"}),r.jsxs(We,{value:t.language,onValueChange:d=>c("language",d),children:[r.jsx(Be,{className:"border-black bg-white text-black",children:r.jsx(qe,{})}),r.jsxs(Ue,{className:"bg-white border border-black",children:[r.jsx(ie,{value:"fr",className:"text-black",children:"Français"}),r.jsx(ie,{value:"ar",className:"text-black",children:"العربية"}),r.jsx(ie,{value:"en",className:"text-black",children:"English"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(ye,{htmlFor:"currency",className:"text-black font-medium",children:"Devise"}),r.jsxs(We,{value:t.currency,onValueChange:d=>c("currency",d),children:[r.jsx(Be,{className:"border-black bg-white text-black",children:r.jsx(qe,{})}),r.jsxs(Ue,{className:"bg-white border border-black",children:[r.jsx(ie,{value:"TND",className:"text-black",children:"TND (Dinar tunisien)"}),r.jsx(ie,{value:"EUR",className:"text-black",children:"EUR (Euro)"}),r.jsx(ie,{value:"USD",className:"text-black",children:"USD (Dollar US)"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(ye,{htmlFor:"view_mode",className:"text-black font-medium",children:"Mode d'affichage des produits"}),r.jsxs(We,{value:t.view_mode,onValueChange:d=>c("view_mode",d),children:[r.jsx(Be,{className:"border-black bg-white text-black",children:r.jsx(qe,{})}),r.jsxs(Ue,{className:"bg-white border border-black",children:[r.jsx(ie,{value:"grid",className:"text-black",children:"Grille"}),r.jsx(ie,{value:"list",className:"text-black",children:"Liste"}),r.jsx(ie,{value:"compact",className:"text-black",children:"Compact"})]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(ye,{htmlFor:"items_per_page",className:"text-black font-medium",children:["Produits par page: ",t.items_per_page]}),r.jsx(oc,{value:[t.items_per_page],onValueChange:([d])=>c("items_per_page",d),max:50,min:5,step:5,className:"w-full"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(ye,{htmlFor:"font_size",className:"text-black font-medium",children:"Taille de police"}),r.jsxs(We,{value:t.font_size,onValueChange:d=>c("font_size",d),children:[r.jsx(Be,{className:"border-black bg-white text-black",children:r.jsx(qe,{})}),r.jsxs(Ue,{className:"bg-white border border-black",children:[r.jsx(ie,{value:"small",className:"text-black",children:"Petite"}),r.jsx(ie,{value:"medium",className:"text-black",children:"Moyenne"}),r.jsx(ie,{value:"large",className:"text-black",children:"Grande"}),r.jsx(ie,{value:"extra-large",className:"text-black",children:"Très grande"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{htmlFor:"show_price_in_list",className:"text-black font-medium",children:"Afficher les prix dans les listes"}),r.jsx(ot,{id:"show_price_in_list",checked:t.show_price_in_list,onCheckedChange:d=>c("show_price_in_list",d)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{htmlFor:"auto_refresh",className:"text-black font-medium",children:"Actualisation automatique"}),r.jsx(ot,{id:"auto_refresh",checked:t.auto_refresh,onCheckedChange:d=>c("auto_refresh",d)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{htmlFor:"high_contrast",className:"text-black font-medium",children:"Contraste élevé"}),r.jsx(ot,{id:"high_contrast",checked:t.high_contrast,onCheckedChange:d=>c("high_contrast",d)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{htmlFor:"large_clickable_areas",className:"text-black font-medium",children:"Zones cliquables étendues"}),r.jsx(ot,{id:"large_clickable_areas",checked:t.large_clickable_areas,onCheckedChange:d=>c("large_clickable_areas",d)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{htmlFor:"reduced_motion",className:"text-black font-medium",children:"Mouvement réduit"}),r.jsx(ot,{id:"reduced_motion",checked:t.reduced_motion,onCheckedChange:d=>c("reduced_motion",d)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{htmlFor:"email_notifications",className:"text-black font-medium",children:"Notifications par email"}),r.jsx(ot,{id:"email_notifications",checked:t.email_notifications,onCheckedChange:d=>c("email_notifications",d)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ye,{htmlFor:"push_notifications",className:"text-black font-medium",children:"Notifications push"}),r.jsx(ot,{id:"push_notifications",checked:t.push_notifications,onCheckedChange:d=>c("push_notifications",d)})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{onClick:()=>a(!1),className:"bg-red-600 hover:bg-red-700 text-white border-none",children:"Fermer"})})]})]})}const wS=({activeTab:e,onTabChange:t,onSearch:n})=>{const{user:s,signOut:o}=It(),[a,c]=p.useState(""),u=En(),{toast:d}=Je(),f=v=>{v.preventDefault(),a.trim()&&(n?n(a.trim()):u(`/search?q=${encodeURIComponent(a.trim())}`))},g=()=>{console.log("Header - handleConnect called, user:",s),s?(console.log("Navigating to /profile"),u("/profile")):(console.log("Navigating to /auth"),u("/auth"))},m=async()=>{try{await o(),d({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès"}),u("/")}catch{d({title:"Erreur",description:"Impossible de se déconnecter",variant:"destructive"})}};return r.jsx("header",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>u("/"),children:r.jsx("div",{className:"text-2xl font-bold text-black",children:"tomati"})}),r.jsx("div",{className:"flex-1 max-w-xl mx-4",children:r.jsx("form",{onSubmit:f,className:"relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx(_e,{type:"text",placeholder:"Rechercher sur tomati",value:a,onChange:v=>c(v.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"})]})})}),r.jsx("div",{className:"flex items-center gap-2",children:s?r.jsxs(g2,{children:[r.jsx(v2,{asChild:!0,children:r.jsxs(V,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50 px-3 py-2 rounded font-medium flex items-center gap-2 text-sm",children:[r.jsx(ti,{size:16}),r.jsx("span",{className:"hidden sm:inline",children:s.display_name||"Mon compte"})]})}),r.jsxs(Ev,{align:"end",className:"w-56",children:[r.jsxs(_r,{onClick:g,children:[r.jsx(ti,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Mon profil"})]}),r.jsxs(_r,{onClick:()=>t==null?void 0:t("add"),children:[r.jsx(qi,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Publier une annonce"})]}),r.jsxs(_r,{onClick:()=>t==null?void 0:t("favorites"),children:[r.jsx(Wt,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Mes favoris"})]}),r.jsx(_r,{asChild:!0,children:r.jsx(w8,{trigger:r.jsxs("div",{className:"flex items-center cursor-pointer w-full px-2 py-1.5 hover:bg-gray-100 rounded",children:[r.jsx(Cs,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Préférences"})]})})}),(s==null?void 0:s.role)==="admin"&&r.jsxs(_r,{onClick:()=>u("/admin"),children:[r.jsx(Zi,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Dashboard Admin"})]}),r.jsx(x2,{}),r.jsxs(_r,{onClick:m,className:"text-red-600 focus:text-red-600",children:[r.jsx(N1,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Se déconnecter"})]})]})]}):r.jsxs(V,{onClick:g,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded font-medium flex items-center gap-2 text-sm",children:[r.jsx(JM,{size:16}),r.jsx("span",{children:"Se connecter"})]})})]})})})},b8=({activeTab:e,onTabChange:t})=>{const{t:n}=Aa(),s=[{id:"home",icon:Gr,label:n("home")},{id:"search",icon:Wt,label:n("search")},{id:"map",icon:Pr,label:"Carte"},{id:"messages",icon:hn,label:n("messages")},{id:"profile",icon:ti,label:n("profile")}];return r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border px-4 py-2 z-50",children:r.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:s.map(({id:o,icon:a,label:c})=>r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>t(o),className:ce("flex flex-col items-center gap-1 p-2 h-auto rounded-lg transition-all duration-300",e===o?"text-tomati-red bg-tomati-red/10 shadow-sm scale-105":"text-muted-foreground hover:text-tomati-red hover:bg-tomati-red/5"),children:[r.jsx(a,{size:20}),r.jsx("span",{className:"text-xs font-medium",children:c})]},o))})})},im=[{id:"voiture",name:"Voiture",icon:Oi},{id:"immobilier",name:"Immobilier",icon:Wi},{id:"emplois",name:"Emplois",icon:ei},{id:"autres",name:"Autres",icon:va}],xw=()=>{const[e,t]=p.useState("home"),[n,s]=p.useState("main"),[o,a]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(""),[g,m]=p.useState(""),{toast:v}=Je(),{user:y,loading:j}=It(),w=En(),C=T=>{e==="home"?f(T):t("search")};p.useEffect(()=>{const z=new URLSearchParams(window.location.search).get("tab");window.location.pathname==="/post"?t("add"):z&&t(z)},[]);const b=T=>{if((T==="add"||T==="messages")&&!y){v({title:"Authentication Required",description:"Please sign in to access this feature.",variant:"destructive"}),w("/auth");return}if(T==="map"){w("/map");return}t(T);const z=new URL(window.location.href);T!=="home"?z.searchParams.set("tab",T):z.searchParams.delete("tab"),window.history.replaceState({},"",z.toString())},_=T=>{a(T),s("product")},S=()=>{s("main"),a(null)},P=T=>{t("add"),s("main"),a(null);const z=new URL(window.location.href);z.searchParams.set("tab","add"),z.searchParams.set("edit",T),window.history.replaceState({},"",z.toString()),v({title:"Mode édition",description:"Vous pouvez maintenant modifier votre produit"})},k=T=>{var z;u(!1),v({title:"Catégorie sélectionnée",description:`Vous avez sélectionné: ${(z=im.find(B=>B.id===T))==null?void 0:z.name}`})},M=T=>{var z;if(!y){v({title:"Connexion requise",description:"Veuillez vous connecter pour publier une annonce.",variant:"destructive"}),w("/auth");return}t("add"),m(T),v({title:"Catégorie sélectionnée",description:`Ajout d'une annonce: ${(z=im.find(B=>B.id===T))==null?void 0:z.name}`})},R=()=>{switch(e){case"home":return r.jsx(q0,{onProductClick:_,activeTab:e,onTabChange:b,searchTerm:d});case"search":return r.jsx(s6,{activeTab:e,onTabChange:b,onProductClick:_});case"add":return r.jsx(nF,{activeTab:e,onTabChange:b,selectedCategory:g});case"messages":return r.jsx(y2,{});case"profile":return r.jsx(JC,{});case"favorites":return r.jsx(OF,{activeTab:e,onTabChange:b});case"notifications":return r.jsx(FF,{activeTab:e,onTabChange:b});default:return r.jsx(q0,{onProductClick:_,activeTab:e,onTabChange:b,searchTerm:d})}};return r.jsx("div",{className:"min-h-screen",children:n==="product"?r.jsx(t6,{productId:o,onBack:S,onEdit:P}):r.jsxs(r.Fragment,{children:[r.jsx(wS,{activeTab:e,onTabChange:b,onSearch:C}),R(),r.jsx(b8,{activeTab:e,onTabChange:b}),r.jsx(Ji,{open:c,onOpenChange:u,children:r.jsx(ii,{className:"max-w-sm mx-auto p-0 bg-white rounded-2xl",children:r.jsxs("div",{className:"p-6 space-y-4",children:[im.map(T=>r.jsxs("button",{onClick:()=>k(T.id),className:"w-full flex items-center gap-4 p-4 text-left hover:bg-gray-50 rounded-lg transition-colors",children:[r.jsx(T.icon,{size:24,className:"text-gray-600"}),r.jsx("span",{className:"text-base font-medium text-gray-900",children:T.name})]},T.id)),r.jsx(V,{onClick:()=>u(!1),variant:"ghost",size:"icon",className:"absolute top-4 right-4 rounded-full",children:r.jsx(gn,{size:20})})]})})}),r.jsx(cD,{onCategorySelect:M})]})})};var Yv="Tabs",[_8,z$]=At(Yv,[ph]),bS=ph(),[j8,Xv]=_8(Yv),_S=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:d="automatic",...f}=e,g=Ia(u),[m,v]=is({prop:s,onChange:o,defaultProp:a});return r.jsx(j8,{scope:n,baseId:Tr(),value:m,onValueChange:v,orientation:c,dir:g,activationMode:d,children:r.jsx(ve.div,{dir:g,"data-orientation":c,...f,ref:t})})});_S.displayName=Yv;var jS="TabsList",NS=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...o}=e,a=Xv(jS,n),c=bS(n);return r.jsx(fN,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(ve.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});NS.displayName=jS;var CS="TabsTrigger",SS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...a}=e,c=Xv(CS,n),u=bS(n),d=ES(c.baseId,s),f=TS(c.baseId,s),g=s===c.value;return r.jsx(mN,{asChild:!0,...u,focusable:!o,active:g,children:r.jsx(ve.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...a,ref:t,onMouseDown:re(e.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?c.onValueChange(s):m.preventDefault()}),onKeyDown:re(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(s)}),onFocus:re(e.onFocus,()=>{const m=c.activationMode!=="manual";!g&&!o&&m&&c.onValueChange(s)})})})});SS.displayName=CS;var PS="TabsContent",kS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:o,children:a,...c}=e,u=Xv(PS,n),d=ES(u.baseId,s),f=TS(u.baseId,s),g=s===u.value,m=p.useRef(g);return p.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),r.jsx(Hn,{present:o||g,children:({present:v})=>r.jsx(ve.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:v&&a})})});kS.displayName=PS;function ES(e,t){return`${e}-trigger-${t}`}function TS(e,t){return`${e}-content-${t}`}var N8=_S,MS=NS,RS=SS,LS=kS;const AS=N8,Jv=p.forwardRef(({className:e,...t},n)=>r.jsx(MS,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Jv.displayName=MS.displayName;const Si=p.forwardRef(({className:e,...t},n)=>r.jsx(RS,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Si.displayName=RS.displayName;const Pi=p.forwardRef(({className:e,...t},n)=>r.jsx(LS,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Pi.displayName=LS.displayName;const C8=xc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),IS=p.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:ce(C8({variant:t}),e),...n}));IS.displayName="Alert";const S8=p.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));S8.displayName="AlertTitle";const DS=p.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));DS.displayName="AlertDescription";function P8(){const[e,t]=p.useState(""),[n,s]=p.useState(""),[o,a]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(""),[g,m]=p.useState("fr"),{signUp:v,signIn:y,user:j}=It(),{toast:w}=Je(),C=En(),_={fr:{title:"Tomati Market",subtitle:"Rejoignez notre communauté d'acheteurs et de vendeurs",signIn:"Se connecter",signUp:"S'inscrire",signInTitle:"Se connecter",signInDesc:"Bon retour ! Connectez-vous à votre compte pour continuer.",signUpTitle:"S'inscrire",signUpDesc:"Créez un nouveau compte pour commencer à acheter et vendre.",email:"Email",password:"Mot de passe",displayName:"Nom d'affichage (Optionnel)",emailPlaceholder:"Entrez votre email",passwordPlaceholder:"Entrez votre mot de passe",createPasswordPlaceholder:"Créez un mot de passe",displayNamePlaceholder:"Entrez votre nom d'affichage",fillFields:"Veuillez remplir tous les champs",signUpFailed:"Échec de l'inscription",signInFailed:"Échec de la connexion",checkEmail:"Vérifiez votre email",checkEmailDesc:"Nous vous avons envoyé un lien de confirmation pour compléter votre inscription.",welcome:"Bienvenue !",welcomeDesc:"Vous vous êtes connecté avec succès.",terms:"En continuant, vous acceptez nos Conditions d'utilisation et notre Politique de confidentialité."},ar:{title:"سوق طماطي",subtitle:"انضم إلى مجتمعنا من المشترين والبائعين",signIn:"تسجيل الدخول",signUp:"إنشاء حساب",signInTitle:"تسجيل الدخول",signInDesc:"أهلاً بعودتك! سجل دخولك لحسابك للمتابعة.",signUpTitle:"إنشاء حساب",signUpDesc:"أنشئ حساب جديد لتبدأ بالشراء والبيع.",email:"البريد الإلكتروني",password:"كلمة المرور",displayName:"اسم العرض (اختياري)",emailPlaceholder:"أدخل بريدك الإلكتروني",passwordPlaceholder:"أدخل كلمة مرورك",createPasswordPlaceholder:"أنشئ كلمة مرور",displayNamePlaceholder:"أدخل اسم العرض",fillFields:"يرجى ملء جميع الحقول",signUpFailed:"فشل التسجيل",signInFailed:"فشل تسجيل الدخول",checkEmail:"تحقق من بريدك الإلكتروني",checkEmailDesc:"لقد أرسلنا لك رابط تأكيد لإتمام التسجيل.",welcome:"أهلاً وسهلاً",welcomeDesc:"لقد سجلت الدخول بنجاح.",terms:"بالمتابعة، أنت توافق على شروط الخدمة وسياسة الخصوصية."}}[g];p.useEffect(()=>{j&&C("/")},[j,C]);const S=async k=>{if(k.preventDefault(),!e||!n){f(_.fillFields);return}u(!0),f("");const{error:M}=await v(e,n,o);M?(f(M.message),w({title:_.signUpFailed,description:M.message,variant:"destructive"})):w({title:_.checkEmail,description:_.checkEmailDesc}),u(!1)},P=async k=>{if(k.preventDefault(),!e||!n){f(_.fillFields);return}u(!0),f("");const{error:M}=await y(e,n);M?(f(M.message),w({title:_.signInFailed,description:M.message,variant:"destructive"})):(w({title:_.welcome,description:_.welcomeDesc}),C("/")),u(!1)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>m(g==="fr"?"ar":"fr"),className:"flex items-center gap-2",children:[r.jsx(YM,{size:16}),g==="fr"?"العربية":"Français"]})}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[r.jsx("img",{src:"/tomati-logo.jpg",alt:"Tomati Market Logo",className:"w-10 h-10 rounded-full object-cover shadow-md"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:_.title})]}),r.jsx("p",{className:"text-gray-600",children:_.subtitle})]}),r.jsxs(AS,{defaultValue:"signin",className:"space-y-4",children:[r.jsxs(Jv,{className:"grid w-full grid-cols-2",children:[r.jsx(Si,{value:"signin",children:_.signIn}),r.jsx(Si,{value:"signup",children:_.signUp})]}),d&&r.jsx(IS,{variant:"destructive",children:r.jsx(DS,{children:d})}),r.jsx(Pi,{value:"signin",children:r.jsxs(ae,{children:[r.jsxs(Ve,{children:[r.jsx(Ze,{children:_.signInTitle}),r.jsx(Yi,{children:_.signInDesc})]}),r.jsxs("form",{onSubmit:P,children:[r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"signin-email",children:_.email}),r.jsx(_e,{id:"signin-email",type:"email",placeholder:_.emailPlaceholder,value:e,onChange:k=>t(k.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"signin-password",children:_.password}),r.jsx(_e,{id:"signin-password",type:"password",placeholder:_.passwordPlaceholder,value:n,onChange:k=>s(k.target.value),required:!0})]})]}),r.jsx(kp,{className:"pt-6",children:r.jsxs(V,{type:"submit",className:"w-full bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-md",disabled:c,children:[c&&r.jsx(sp,{className:"mr-2 h-4 w-4 animate-spin"}),_.signIn]})})]})]})}),r.jsx(Pi,{value:"signup",children:r.jsxs(ae,{children:[r.jsxs(Ve,{children:[r.jsx(Ze,{children:_.signUpTitle}),r.jsx(Yi,{children:_.signUpDesc})]}),r.jsxs("form",{onSubmit:S,children:[r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"signup-name",children:_.displayName}),r.jsx(_e,{id:"signup-name",type:"text",placeholder:_.displayNamePlaceholder,value:o,onChange:k=>a(k.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"signup-email",children:_.email}),r.jsx(_e,{id:"signup-email",type:"email",placeholder:_.emailPlaceholder,value:e,onChange:k=>t(k.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"signup-password",children:_.password}),r.jsx(_e,{id:"signup-password",type:"password",placeholder:_.createPasswordPlaceholder,value:n,onChange:k=>s(k.target.value),required:!0})]})]}),r.jsx(kp,{className:"pt-6",children:r.jsxs(V,{type:"submit",className:"w-full bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-md",disabled:c,children:[c&&r.jsx(sp,{className:"mr-2 h-4 w-4 animate-spin"}),_.signUp]})})]})]})})]}),r.jsx("div",{className:"text-center text-sm text-gray-600",children:r.jsx("p",{children:_.terms})})]})})}function k8(){const[e,t]=p.useState({name:"",icon:""}),[n,s]=p.useState(!1),{toast:o}=Je(),{data:a=[],isLoading:c,refetch:u}=Xe({queryKey:["/api/admin/categories"],queryFn:()=>Ce.request("/admin/categories")}),d=Ge({mutationFn:async m=>Ce.request("/admin/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),onSuccess:()=>{o({title:"Succès",description:"Catégorie créée avec succès"}),Xt.invalidateQueries({queryKey:["/api/admin/categories"]}),Xt.invalidateQueries({queryKey:["/api/admin/stats"]}),t({name:"",icon:""}),s(!1),u()},onError:m=>{o({title:"Erreur",description:m.message||"Impossible de créer la catégorie",variant:"destructive"})}}),f=()=>{if(!e.name.trim()){o({title:"Erreur",description:"Le nom de la catégorie est requis",variant:"destructive"});return}d.mutate(e)},g=["🚗","🏠","💼","📱","👕","⚽","🎮","📚","🛋️","🍽️"];return c?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4 mx-auto"}),r.jsx("div",{className:"space-y-3",children:[1,2,3].map(m=>r.jsx("div",{className:"h-16 bg-gray-200 rounded"},m))})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestion des Catégories"}),r.jsx("p",{className:"text-gray-600",children:"Gérez les catégories de produits de la marketplace"})]}),r.jsxs(Ji,{open:n,onOpenChange:s,children:[r.jsx(wh,{asChild:!0,children:r.jsxs(V,{className:"flex items-center gap-2",children:[r.jsx(qi,{className:"h-4 w-4"}),"Nouvelle Catégorie"]})}),r.jsxs(ii,{children:[r.jsxs(eo,{children:[r.jsx(to,{children:"Créer une nouvelle catégorie"}),r.jsx(bh,{children:"Ajoutez une nouvelle catégorie pour organiser les produits de la marketplace."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"categoryName",children:"Nom de la catégorie"}),r.jsx(_e,{id:"categoryName",placeholder:"Ex: Électronique, Voitures, Immobilier...",value:e.name,onChange:m=>t({...e,name:m.target.value})})]}),r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"categoryIcon",children:"Icône (optionnel)"}),r.jsx(_e,{id:"categoryIcon",placeholder:"Ex: 🚗, 🏠, 💼...",value:e.icon,onChange:m=>t({...e,icon:m.target.value})}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[r.jsx("p",{className:"text-sm text-gray-600 w-full",children:"Icônes populaires :"}),g.map((m,v)=>r.jsx(V,{variant:"outline",size:"sm",onClick:()=>t({...e,icon:m}),className:"text-lg p-2",children:m},v))]})]})]}),r.jsxs(Fv,{children:[r.jsx(V,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),r.jsx(V,{onClick:f,disabled:d.isPending,children:d.isPending?"Création...":"Créer"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Catégories"}),r.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),r.jsx(x0,{className:"h-8 w-8 text-blue-500"})]})})})}),r.jsx("div",{className:"grid gap-4",children:a.length===0?r.jsx(ae,{children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx(x0,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune catégorie"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Commencez par créer votre première catégorie"}),r.jsxs(V,{onClick:()=>s(!0),children:[r.jsx(qi,{className:"h-4 w-4 mr-2"}),"Créer une catégorie"]})]})}):a.map(m=>r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-2xl",children:m.icon||"📁"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:m.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Créée le ",new Date(m.created_at).toLocaleDateString("fr-FR")]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ke,{variant:"secondary",className:"bg-green-100 text-green-700",children:"Active"}),r.jsx(V,{variant:"outline",size:"sm",children:r.jsx(Xl,{className:"h-4 w-4"})})]})]})})},m.id))})]})}var OS="AlertDialog",[E8,F$]=At(OS,[b2]),hs=b2(),zS=e=>{const{__scopeAlertDialog:t,...n}=e,s=hs(t);return r.jsx(O2,{...s,...n,modal:!0})};zS.displayName=OS;var T8="AlertDialogTrigger",FS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=hs(n);return r.jsx(z2,{...o,...s,ref:t})});FS.displayName=T8;var M8="AlertDialogPortal",$S=e=>{const{__scopeAlertDialog:t,...n}=e,s=hs(t);return r.jsx(F2,{...s,...n})};$S.displayName=M8;var R8="AlertDialogOverlay",BS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=hs(n);return r.jsx(Av,{...o,...s,ref:t})});BS.displayName=R8;var Qo="AlertDialogContent",[L8,A8]=E8(Qo),I8=K_("AlertDialogContent"),US=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...o}=e,a=hs(n),c=p.useRef(null),u=we(t,c),d=p.useRef(null);return r.jsx(C5,{contentName:Qo,titleName:VS,docsSlug:"alert-dialog",children:r.jsx(L8,{scope:n,cancelRef:d,children:r.jsxs(Iv,{role:"alertdialog",...a,...o,ref:u,onOpenAutoFocus:re(o.onOpenAutoFocus,f=>{var g;f.preventDefault(),(g=d.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[r.jsx(I8,{children:s}),r.jsx(O8,{contentRef:c})]})})})});US.displayName=Qo;var VS="AlertDialogTitle",HS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=hs(n);return r.jsx(Dv,{...o,...s,ref:t})});HS.displayName=VS;var WS="AlertDialogDescription",qS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=hs(n);return r.jsx(Ov,{...o,...s,ref:t})});qS.displayName=WS;var D8="AlertDialogAction",ZS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,o=hs(n);return r.jsx(zv,{...o,...s,ref:t})});ZS.displayName=D8;var KS="AlertDialogCancel",GS=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:o}=A8(KS,n),a=hs(n),c=we(t,o);return r.jsx(zv,{...a,...s,ref:c})});GS.displayName=KS;var O8=({contentRef:e})=>{const t=`\`${Qo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qo}\` by passing a \`${WS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},z8=zS,F8=FS,$8=$S,QS=BS,YS=US,XS=ZS,JS=GS,eP=HS,tP=qS;const ex=z8,nP=F8,B8=$8,rP=p.forwardRef(({className:e,...t},n)=>r.jsx(QS,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));rP.displayName=QS.displayName;const Eh=p.forwardRef(({className:e,...t},n)=>r.jsxs(B8,{children:[r.jsx(rP,{}),r.jsx(YS,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Eh.displayName=YS.displayName;const Th=({className:e,...t})=>r.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});Th.displayName="AlertDialogHeader";const Mh=({className:e,...t})=>r.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Mh.displayName="AlertDialogFooter";const Rh=p.forwardRef(({className:e,...t},n)=>r.jsx(eP,{ref:n,className:ce("text-lg font-semibold",e),...t}));Rh.displayName=eP.displayName;const Lh=p.forwardRef(({className:e,...t},n)=>r.jsx(tP,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Lh.displayName=tP.displayName;const Ah=p.forwardRef(({className:e,...t},n)=>r.jsx(XS,{ref:n,className:ce(vv(),e),...t}));Ah.displayName=XS.displayName;const Ih=p.forwardRef(({className:e,...t},n)=>r.jsx(JS,{ref:n,className:ce(vv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ih.displayName=JS.displayName;function U8(){const[e,t]=p.useState(""),[n,s]=p.useState(!1),[o,a]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState({title:"",description:"",price:"0",location:"",category:"",is_promoted:!1,is_reserved:!1,is_free:!1,is_advertisement:!1}),{toast:g}=Je(),m=lr(),{data:v=[],isLoading:y,refetch:j}=Xe({queryKey:["/api/admin/products"],queryFn:()=>Ce.request("/admin/products")}),{data:w=[]}=Xe({queryKey:["/api/categories"],queryFn:()=>Ce.request("/categories")}),C=Ge({mutationFn:async D=>Ce.request("/admin/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),onSuccess:()=>{g({title:"Succès",description:"Produit créé avec succès"}),m.invalidateQueries({queryKey:["/api/admin/products"]}),m.invalidateQueries({queryKey:["/api/admin/stats"]}),S(),s(!1),j()},onError:D=>{g({title:"Erreur",description:D.message||"Impossible de créer le produit",variant:"destructive"})}}),b=Ge({mutationFn:async({id:D,data:K})=>Ce.request(`/admin/products/${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),onSuccess:()=>{g({title:"Succès",description:"Produit modifié avec succès"}),m.invalidateQueries({queryKey:["/api/admin/products"]}),m.invalidateQueries({queryKey:["/api/admin/stats"]}),a(null),S(),j()},onError:D=>{g({title:"Erreur",description:D.message||"Impossible de modifier le produit",variant:"destructive"})}}),_=Ge({mutationFn:async D=>Ce.request(`/admin/products/${D}`,{method:"DELETE"}),onSuccess:()=>{g({title:"Succès",description:"Produit supprimé avec succès"}),m.invalidateQueries({queryKey:["/api/admin/products"]}),m.invalidateQueries({queryKey:["/api/admin/stats"]}),u(null),j()},onError:D=>{g({title:"Erreur",description:D.message||"Impossible de supprimer le produit",variant:"destructive"})}}),S=()=>{f({title:"",description:"",price:"0",location:"",category:"",is_promoted:!1,is_reserved:!1,is_free:!1,is_advertisement:!1})},P=D=>{a(D),f({title:D.title,description:D.description||"",price:D.price,location:D.location,category:D.category,is_promoted:D.is_promoted,is_reserved:D.is_reserved,is_free:D.is_free,is_advertisement:D.is_advertisement})},k=()=>{if(!d.title.trim()){g({title:"Erreur",description:"Le titre du produit est requis",variant:"destructive"});return}if(!d.category){g({title:"Erreur",description:"La catégorie est requise",variant:"destructive"});return}C.mutate(d)},M=()=>{if(o){if(!d.title.trim()){g({title:"Erreur",description:"Le titre du produit est requis",variant:"destructive"});return}b.mutate({id:o.id,data:d})}},R=()=>{c&&_.mutate(c.id)},T=v.filter(D=>D.title.toLowerCase().includes(e.toLowerCase())||D.category.toLowerCase().includes(e.toLowerCase())||D.location.toLowerCase().includes(e.toLowerCase())),z=D=>{const K=[];return D.is_promoted&&K.push(r.jsxs(ke,{className:"bg-yellow-100 text-yellow-700",children:[r.jsx(Fs,{className:"w-3 h-3 mr-1"}),"Promu"]},"promoted")),D.is_reserved&&K.push(r.jsx(ke,{variant:"secondary",children:"Réservé"},"reserved")),D.is_free&&K.push(r.jsx(ke,{className:"bg-green-100 text-green-700",children:"Gratuit"},"free")),K};if(y)return r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4 mx-auto"}),r.jsx("div",{className:"space-y-3",children:[1,2,3].map(D=>r.jsx("div",{className:"h-24 bg-gray-200 rounded"},D))})]})});const B=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"title",children:"Titre *"}),r.jsx(_e,{id:"title",placeholder:"Titre du produit",value:d.title,onChange:D=>f({...d,title:D.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"category",children:"Catégorie *"}),r.jsxs(We,{value:d.category,onValueChange:D=>f({...d,category:D}),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Sélectionner une catégorie"})}),r.jsx(Ue,{children:w.map(D=>r.jsx(ie,{value:D.name,children:D.name},D.id))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"description",children:"Description"}),r.jsx(kc,{id:"description",placeholder:"Description du produit",value:d.description,onChange:D=>f({...d,description:D.target.value}),rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"price",children:"Prix (TND)"}),r.jsx(_e,{id:"price",type:"number",min:"0",step:"0.01",value:d.price,onChange:D=>f({...d,price:D.target.value}),disabled:d.is_free})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ye,{htmlFor:"location",children:"Localisation"}),r.jsx(_e,{id:"location",placeholder:"Ville, région",value:d.location,onChange:D=>f({...d,location:D.target.value})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ot,{id:"is_free",checked:d.is_free,onCheckedChange:D=>f({...d,is_free:D,price:D?"0":d.price})}),r.jsx(ye,{htmlFor:"is_free",children:"Gratuit"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ot,{id:"is_promoted",checked:d.is_promoted,onCheckedChange:D=>f({...d,is_promoted:D})}),r.jsx(ye,{htmlFor:"is_promoted",children:"Promouvoir ce produit"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ot,{id:"is_reserved",checked:d.is_reserved,onCheckedChange:D=>f({...d,is_reserved:D})}),r.jsx(ye,{htmlFor:"is_reserved",children:"Marqué comme réservé"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ot,{id:"is_advertisement",checked:d.is_advertisement,onCheckedChange:D=>f({...d,is_advertisement:D})}),r.jsx(ye,{htmlFor:"is_advertisement",children:"Marquer comme publicité"})]})]})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestion des Produits"}),r.jsx("p",{className:"text-gray-600",children:"Créer, modifier et supprimer les produits de la marketplace Tomati"})]}),r.jsxs(Ji,{open:n,onOpenChange:s,children:[r.jsx(wh,{asChild:!0,children:r.jsxs(V,{className:"bg-red-600 hover:bg-red-700",onClick:S,children:[r.jsx(qi,{className:"h-4 w-4 mr-2"}),"Nouveau Produit"]})}),r.jsxs(ii,{className:"max-w-2xl",children:[r.jsx(eo,{children:r.jsx(to,{children:"Créer un nouveau produit"})}),r.jsx(B,{}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),r.jsx(V,{onClick:k,disabled:C.isPending,className:"bg-red-600 hover:bg-red-700",children:C.isPending?"Création...":"Créer"})]})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(_e,{placeholder:"Rechercher par titre, catégorie ou localisation...",value:e,onChange:D=>t(D.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Produits"}),r.jsx("p",{className:"text-2xl font-bold",children:v.length})]}),r.jsx(zi,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Promus"}),r.jsx("p",{className:"text-2xl font-bold",children:v.filter(D=>D.is_promoted).length})]}),r.jsx(Fs,{className:"h-8 w-8 text-yellow-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Réservés"}),r.jsx("p",{className:"text-2xl font-bold",children:v.filter(D=>D.is_reserved).length})]}),r.jsx(k1,{className:"h-8 w-8 text-orange-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Gratuits"}),r.jsx("p",{className:"text-2xl font-bold",children:v.filter(D=>D.is_free).length})]}),r.jsx(en,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Résultats"}),r.jsx("p",{className:"text-2xl font-bold",children:T.length})]}),r.jsx(Wt,{className:"h-8 w-8 text-purple-500"})]})})})]}),r.jsx("div",{className:"grid gap-4",children:T.length===0?r.jsx(ae,{children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx(zi,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun produit trouvé"}),r.jsx("p",{className:"text-gray-600",children:"Aucun produit ne correspond à votre recherche"})]})}):T.map(D=>r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden",children:D.image_url?r.jsx("img",{src:D.image_url,alt:D.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r.jsx(zi,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:D.title}),z(D)]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:D.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold text-green-600",children:D.is_free?"Gratuit":`${D.price} TND`}),r.jsxs("span",{children:["📍 ",D.location]}),r.jsx(ke,{variant:"outline",children:D.category})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(en,{className:"w-3 h-3"}),D.like_count," likes"]}),r.jsxs("span",{children:["Créé le ",new Date(D.created_at).toLocaleDateString("fr-FR")]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>window.open(`/products/${D.id}`,"_blank"),children:[r.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Voir"]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>P(D),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[r.jsx(oR,{className:"h-4 w-4 mr-1"}),"Modifier"]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>u(D),className:"text-red-600 border-red-200 hover:bg-red-50",children:[r.jsx(os,{className:"h-4 w-4 mr-1"}),"Supprimer"]})]})]})})},D.id))}),r.jsx(Ji,{open:o!==null,onOpenChange:D=>!D&&a(null),children:r.jsxs(ii,{className:"max-w-2xl",children:[r.jsx(eo,{children:r.jsx(to,{children:"Modifier le produit"})}),r.jsx(B,{}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(V,{variant:"outline",onClick:()=>a(null),children:"Annuler"}),r.jsx(V,{onClick:M,disabled:b.isPending,className:"bg-blue-600 hover:bg-blue-700",children:b.isPending?"Modification...":"Modifier"})]})]})}),r.jsx(ex,{open:c!==null,onOpenChange:D=>!D&&u(null),children:r.jsxs(Eh,{children:[r.jsxs(Th,{children:[r.jsx(Rh,{children:"Supprimer le produit"}),r.jsxs(Lh,{children:['Êtes-vous sûr de vouloir supprimer "',c==null?void 0:c.title,'" ? Cette action est irréversible et supprimera également tous les messages et likes associés.']})]}),r.jsxs(Mh,{children:[r.jsx(Ih,{onClick:()=>u(null),children:"Annuler"}),r.jsx(Ah,{onClick:R,className:"bg-red-600 hover:bg-red-700",disabled:_.isPending,children:_.isPending?"Suppression...":"Supprimer définitivement"})]})]})})]})}function V8(){const[e,t]=p.useState(""),{data:n=[],isLoading:s}=Xe({queryKey:["/api/admin/users"],queryFn:()=>Ce.request("/admin/users")}),o=n.filter(u=>u.email.toLowerCase().includes(e.toLowerCase())||u.display_name&&u.display_name.toLowerCase().includes(e.toLowerCase())),a=u=>u==="admin"?r.jsx(ke,{className:"bg-red-100 text-red-700",children:"Administrateur"}):r.jsx(ke,{variant:"secondary",children:"Utilisateur"}),c=(u,d)=>u?u.charAt(0).toUpperCase():d?d.charAt(0).toUpperCase():"U";return s?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4 mx-auto"}),r.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>r.jsx("div",{className:"h-20 bg-gray-200 rounded"},u))})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestion des Utilisateurs"}),r.jsx("p",{className:"text-gray-600",children:"Gérez tous les utilisateurs de la plateforme Tomati"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(_e,{placeholder:"Rechercher par email ou nom...",value:e,onChange:u=>t(u.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Utilisateurs"}),r.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),r.jsx(Qs,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Administrateurs"}),r.jsx("p",{className:"text-2xl font-bold",children:n.filter(u=>u.role==="admin").length})]}),r.jsx(Zi,{className:"h-8 w-8 text-red-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Utilisateurs Standard"}),r.jsx("p",{className:"text-2xl font-bold",children:n.filter(u=>u.role==="user").length})]}),r.jsx(ti,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Résultats"}),r.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),r.jsx(Wt,{className:"h-8 w-8 text-purple-500"})]})})})]}),r.jsx("div",{className:"grid gap-4",children:o.length===0?r.jsx(ae,{children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun utilisateur trouvé"}),r.jsx("p",{className:"text-gray-600",children:"Aucun utilisateur ne correspond à votre recherche"})]})}):o.map(u=>r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(zn,{className:"h-12 w-12 border-2 border-white shadow-sm",children:r.jsx(Fn,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold",children:c(u.display_name,u.email)})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:u.display_name||"Nom non défini"}),a(u.role)]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:u.email}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:["Inscrit le ",new Date(u.created_at).toLocaleDateString("fr-FR")]}),r.jsxs("span",{children:["Mis à jour le ",new Date(u.updated_at).toLocaleDateString("fr-FR")]})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:u.role==="admin"&&r.jsx(ke,{variant:"destructive",className:"bg-red-100 text-red-700",children:"Privilégié"})})]})})},u.id))})]})}function H8(){const e=En(),[t,n]=p.useState("dashboard");Je();const{data:s={},isLoading:o}=Xe({queryKey:["/api/admin/stats"],queryFn:()=>Ce.request("/admin/stats")}),a=[{title:"Total Produits",value:s.totalProducts||0,icon:zi,description:`+${s.recentProducts||0} ce mois`,color:"text-blue-600",bgColor:"bg-blue-50",gradient:"from-blue-500 to-blue-600"},{title:"Utilisateurs",value:s.totalUsers||0,icon:Qs,description:`${s.activeUsers||0} actifs`,color:"text-green-600",bgColor:"bg-green-50",gradient:"from-green-500 to-green-600"},{title:"Catégories",value:s.totalCategories||0,icon:va,description:"Gestion complète",color:"text-purple-600",bgColor:"bg-purple-50",gradient:"from-purple-500 to-purple-600"},{title:"Publicités",value:s.totalAdvertisements||0,icon:ip,description:`${s.promotedProducts||0} promus`,color:"text-orange-600",bgColor:"bg-orange-50",gradient:"from-orange-500 to-orange-600"},{title:"Total Likes",value:s.totalLikes||0,icon:en,description:"Engagement",color:"text-pink-600",bgColor:"bg-pink-50",gradient:"from-pink-500 to-pink-600"}],c=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:r.jsxs("div",{className:"space-y-8 p-8",children:[r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"floating-element",children:r.jsx("h1",{className:"text-6xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-red-500 bg-clip-text text-transparent",children:"Dashboard Administrateur"})}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto font-medium",children:"Contrôlez et gérez votre plateforme e-commerce Tomati avec style et élégance"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(ke,{variant:"default",className:"bg-green-100 text-green-800 px-6 py-3 rounded-full modern-shadow-lg text-lg",children:[r.jsx(k1,{size:20,className:"mr-3"}),"Système opérationnel"]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 max-w-7xl mx-auto",children:a.map((u,d)=>{const f=u.icon;return r.jsx(ae,{className:"glass-card card-3d group hover:modern-shadow-lg border-0",children:r.jsxs(le,{className:"p-6 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/20 to-gray-50/30 group-hover:to-gray-100/40 transition-all duration-500"}),r.jsxs("div",{className:"relative z-10 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:`p-3 rounded-xl ${u.bgColor} group-hover:scale-110 transition-transform duration-300 modern-shadow`,children:r.jsx(f,{size:24,className:`${u.color} drop-shadow-sm`})}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider",children:u.title})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-3xl font-black bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:o?r.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded-lg"}):u.value}),r.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:u.description})]})]}),r.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${u.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]})},d)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto",children:[r.jsxs(ae,{className:"glass-card card-3d group border-0 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-blue-100 opacity-50"}),r.jsx(Ve,{className:"pb-4 relative z-10",children:r.jsxs(Ze,{className:"flex items-center gap-4 text-2xl",children:[r.jsx("div",{className:"p-3 rounded-xl bg-blue-100 group-hover:bg-blue-200 transition-colors modern-shadow",children:r.jsx(zi,{size:28,className:"text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"Gestion des Produits"}),r.jsx("p",{className:"text-sm text-muted-foreground font-normal",children:"Centre de contrôle produits"})]})]})}),r.jsx(le,{className:"relative z-10",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-muted-foreground",children:"Gérez les produits, catégories et inventaire de votre plateforme avec des outils avancés."}),r.jsx(V,{onClick:()=>n("products"),className:"w-full h-12 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 modern-shadow-lg font-semibold text-lg transition-all duration-300 hover:scale-105",children:"Accéder au centre de gestion"})]})})]}),r.jsxs(ae,{className:"glass-card card-3d group border-0 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-green-100 opacity-50"}),r.jsx(Ve,{className:"pb-4 relative z-10",children:r.jsxs(Ze,{className:"flex items-center gap-4 text-2xl",children:[r.jsx("div",{className:"p-3 rounded-xl bg-green-100 group-hover:bg-green-200 transition-colors modern-shadow",children:r.jsx(Qs,{size:28,className:"text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"Gestion des Utilisateurs"}),r.jsx("p",{className:"text-sm text-muted-foreground font-normal",children:"Administration utilisateurs"})]})]})}),r.jsx(le,{className:"relative z-10",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-muted-foreground",children:"Administrez les comptes utilisateurs, leurs permissions et surveillez l'activité."}),r.jsx(V,{onClick:()=>n("users"),className:"w-full h-12 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 modern-shadow-lg font-semibold text-lg transition-all duration-300 hover:scale-105",children:"Accéder au centre de gestion"})]})})]})]})]})});return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:[r.jsx("div",{className:"glass-card border-0 rounded-none border-b border-white/20",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-20",children:[r.jsxs(V,{variant:"ghost",onClick:()=>e("/"),className:"flex items-center gap-3 hover:bg-white/10 h-12 px-6 rounded-xl transition-all duration-300 hover:scale-105",children:[r.jsx(ir,{size:20}),r.jsx("span",{className:"font-semibold",children:"Retour au site"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(ke,{variant:"outline",className:"bg-blue-100 text-blue-800 px-4 py-2 modern-shadow",children:"Super Admin"}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold text-gray-900",children:"Administrateur"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"admin@tomati.com"})]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs(AS,{value:t,onValueChange:n,className:"w-full",children:[r.jsx("div",{className:"px-8 pt-8",children:r.jsxs(Jv,{className:"grid w-full max-w-md mx-auto grid-cols-4 glass-card border-0 modern-shadow",children:[r.jsxs(Si,{value:"dashboard",className:"font-semibold",children:[r.jsx(BM,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),r.jsxs(Si,{value:"products",className:"font-semibold",children:[r.jsx(zi,{className:"w-4 h-4 mr-2"}),"Produits"]}),r.jsxs(Si,{value:"users",className:"font-semibold",children:[r.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Utilisateurs"]}),r.jsxs(Si,{value:"categories",className:"font-semibold",children:[r.jsx(va,{className:"w-4 h-4 mr-2"}),"Catégories"]})]})}),r.jsx(Pi,{value:"dashboard",className:"mt-0",children:r.jsx(c,{})}),r.jsx(Pi,{value:"products",className:"mt-8 px-8",children:r.jsx("div",{className:"glass-card p-8 rounded-2xl border-0 modern-shadow-lg",children:r.jsx(U8,{})})}),r.jsx(Pi,{value:"users",className:"mt-8 px-8",children:r.jsx("div",{className:"glass-card p-8 rounded-2xl border-0 modern-shadow-lg",children:r.jsx(V8,{})})}),r.jsx(Pi,{value:"categories",className:"mt-8 px-8",children:r.jsx("div",{className:"glass-card p-8 rounded-2xl border-0 modern-shadow-lg",children:r.jsx(k8,{})})})]})})]})}function sP(e,t){const n=p.useRef(t);p.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const W8=1;function q8(e){return Object.freeze({__version:W8,map:e})}function Z8(e,t){return Object.freeze({...e,...t})}const iP=p.createContext(null),oP=iP.Provider;function aP(){const e=p.useContext(iP);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function K8(e){function t(n,s){const{instance:o,context:a}=e(n).current;return p.useImperativeHandle(s,()=>o),n.children==null?null:Y.createElement(oP,{value:a},n.children)}return p.forwardRef(t)}function G8(e){function t(n,s){const[o,a]=p.useState(!1),{instance:c}=e(n,a).current;p.useImperativeHandle(s,()=>c),p.useEffect(function(){o&&c.update()},[c,o,n.children]);const u=c._contentNode;return u?ci.createPortal(n.children,u):null}return p.forwardRef(t)}function Q8(e){function t(n,s){const{instance:o}=e(n).current;return p.useImperativeHandle(s,()=>o),null}return p.forwardRef(t)}function lP(e,t){const n=p.useRef();p.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function tx(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Y8(e,t){return function(s,o){const a=aP(),c=e(tx(s,a),a);return sP(a.map,s.attribution),lP(c.current,s.eventHandlers),t(c.current,a,s,o),c}}function nx(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function rx(e,t){return t==null?function(s,o){const a=p.useRef();return a.current||(a.current=e(s,o)),a}:function(s,o){const a=p.useRef();a.current||(a.current=e(s,o));const c=p.useRef(s),{instance:u}=a.current;return p.useEffect(function(){c.current!==s&&(t(u,s,c.current),c.current=s)},[u,s,o]),a}}function X8(e,t){p.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function cP(e){return function(n){const s=aP(),o=e(tx(n,s),s);return sP(s.map,n.attribution),lP(o.current,n.eventHandlers),X8(o.current,s),o}}function J8(e,t){const n=rx(e,t),s=cP(n);return K8(s)}function e$(e,t){const n=rx(e),s=Y8(n,t);return G8(s)}function t$(e,t){const n=rx(e,t),s=cP(n);return Q8(s)}function n$(e,t,n){const{opacity:s,zIndex:o}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function Up(){return Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Up.apply(this,arguments)}function r$({bounds:e,boundsOptions:t,center:n,children:s,className:o,id:a,placeholder:c,style:u,whenReady:d,zoom:f,...g},m){const[v]=p.useState({className:o,id:a,style:u}),[y,j]=p.useState(null);p.useImperativeHandle(m,()=>(y==null?void 0:y.map)??null,[y]);const w=p.useCallback(b=>{if(b!==null&&y===null){const _=new di.Map(b,g);n!=null&&f!=null?_.setView(n,f):e!=null&&_.fitBounds(e,t),d!=null&&_.whenReady(d),j(q8(_))}},[]);p.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const C=y?Y.createElement(oP,{value:y},s):c??null;return Y.createElement("div",Up({},v,{ref:w}),C)}const s$=p.forwardRef(r$),yw=J8(function({position:t,...n},s){const o=new di.Marker(t,n);return nx(o,Z8(s,{overlayContainer:o}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),ww=e$(function(t,n){const s=new di.Popup(t,n.overlayContainer);return nx(s,n)},function(t,n,{position:s},o){p.useEffect(function(){const{instance:c}=t;function u(f){f.popup===c&&(c.update(),o(!0))}function d(f){f.popup===c&&o(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(s!=null&&c.setLatLng(s),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){var g;n.map.off({popupopen:u,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(c)}},[t,n,o,s])}),i$=t$(function({url:t,...n},s){const o=new di.TileLayer(t,tx(n,s));return nx(o,s)},function(t,n,s){n$(t,n,s);const{url:o}=n;o!=null&&o!==s.url&&t.setUrl(o)});delete di.Icon.Default.prototype._getIconUrl;di.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const jo=e=>new di.Icon({iconUrl:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${e}.png`,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),bw={Électronique:jo("blue"),Sport:jo("green"),Voiture:jo("red"),Bureautique:jo("orange"),"Jeux vidéo":jo("violet"),Mobilier:jo("yellow")},o$=["Électronique","Sport","Voiture","Bureautique","Jeux vidéo","Mobilier"],a$={Tunis:[36.8065,10.1815],Sfax:[34.7406,10.7603],Sousse:[35.8256,10.6369],Monastir:[35.7777,10.8263],Bizerte:[37.2746,9.8739],Gabès:[33.8815,10.0982],Kairouan:[35.6781,10.0963],Nabeul:[36.4561,10.7376]};function l$(){const[e,t]=p.useState(null),[n,s]=p.useState(""),[o,a]=p.useState([0,2e3]),[c,u]=p.useState(50),[d,f]=p.useState(""),[g,m]=p.useState(!1),{toast:v}=Je();It(),p.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(b=>{t([b.coords.latitude,b.coords.longitude]),v({title:"Position trouvée",description:"Votre position actuelle a été détectée."})},b=>{console.error("Error getting location:",b),t([36.8065,10.1815]),v({title:"Position par défaut",description:"Utilisation de Tunis comme position par défaut.",variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):(t([36.8065,10.1815]),v({title:"Géolocalisation non supportée",description:"Utilisation de Tunis comme position par défaut.",variant:"destructive"}))},[v]);const{data:y=[],isLoading:j}=Xe({queryKey:["/api/products"],queryFn:()=>Ce.getProducts()}),C=y.map(b=>{const _=a$[b.location]||[36.8065,10.1815],S=()=>(Math.random()-.5)*.01,P=_[0]+S(),k=_[1]+S();let M=0;if(e){const T=(P-e[0])*Math.PI/180,z=(k-e[1])*Math.PI/180,B=Math.sin(T/2)*Math.sin(T/2)+Math.cos(e[0]*Math.PI/180)*Math.cos(P*Math.PI/180)*Math.sin(z/2)*Math.sin(z/2);M=2*6371*Math.atan2(Math.sqrt(B),Math.sqrt(1-B))}return{...b,lat:P,lng:k,distance:Math.round(M*10)/10}}).filter(b=>{const _=b.title.toLowerCase().includes(d.toLowerCase())||b.description.toLowerCase().includes(d.toLowerCase()),S=!n||b.category===n,P=b.is_free?0:parseFloat(b.price.replace(/[^0-9.]/g,""))||0,k=P>=o[0]&&P<=o[1],M=!b.distance||b.distance<=c;return _&&S&&k&&M});return e?r.jsxs("div",{className:"min-h-screen",children:[r.jsx(wS,{onSearch:f}),r.jsx("div",{className:"bg-white border-b p-4",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(Pr,{className:"text-primary"}),"Carte Interactive"]}),r.jsxs(ke,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx(C1,{size:12}),C.length," produits trouvés"]})]}),r.jsxs(V,{variant:"outline",onClick:()=>m(!g),className:"flex items-center gap-2",children:[r.jsx(Hg,{size:16}),"Filtres"]})]})})}),r.jsxs("div",{className:"flex",children:[g&&r.jsxs("div",{className:"w-80 bg-white border-r p-6 h-screen overflow-y-auto",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Filtres de recherche"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recherche"}),r.jsx(_e,{placeholder:"Rechercher un produit...",value:d,onChange:b=>f(b.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Catégorie"}),r.jsxs(We,{value:n||"all",onValueChange:b=>s(b==="all"?"":b),children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Toutes catégories"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"all",children:"Toutes catégories"}),o$.map(b=>r.jsx(ie,{value:b,children:b},b))]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Prix: ",o[0],"TND - ",o[1],"TND"]}),r.jsx(oc,{value:o,onValueChange:b=>a(b),max:2e3,min:0,step:50,className:"mt-2"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Distance max: ",c," km"]}),r.jsx(oc,{value:[c],onValueChange:([b])=>u(b),max:100,min:1,step:5,className:"mt-2"})]}),r.jsx(V,{variant:"outline",onClick:()=>{s(""),a([0,2e3]),u(50),f("")},className:"w-full",children:"Réinitialiser les filtres"})]})]}),r.jsx("div",{className:"flex-1 relative",children:j?r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsxs(s$,{center:e,zoom:13,className:"h-screen w-full",children:[r.jsx(i$,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(yw,{position:e,children:r.jsx(ww,{children:r.jsxs("div",{className:"text-center",children:[r.jsx("strong",{children:"Votre position"}),r.jsx("br",{}),r.jsx("small",{children:"Position actuelle détectée"})]})})}),C.map(b=>r.jsx(yw,{position:[b.lat,b.lng],icon:bw[b.category]||bw.Électronique,children:r.jsx(ww,{maxWidth:320,className:"custom-popup",children:r.jsxs(ae,{className:"border-0 shadow-none",children:[r.jsxs(Ve,{className:"p-3 pb-2",children:[r.jsx(Ze,{className:"text-base",children:b.title}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(ke,{variant:"outline",children:b.category}),b.distance&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Pr,{size:12}),b.distance," km"]})]})]}),r.jsxs(le,{className:"p-3 pt-0",children:[b.image_url&&r.jsx("div",{className:"mb-3",children:r.jsx("img",{src:b.image_url,alt:b.title,className:"w-full h-32 object-cover rounded-lg border",onError:_=>{_.currentTarget.style.display="none"}})}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:b.description}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-lg font-bold text-primary",children:b.is_free?r.jsx(ke,{variant:"secondary",children:"Gratuit"}):b.price}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[r.jsx(en,{size:12}),b.likes||0]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(V,{size:"sm",onClick:()=>{console.log("Contact seller for product:",b.id)},className:"flex-1 bg-primary hover:bg-primary/90",children:"Contacter"})}),b.is_reserved&&r.jsx(ke,{variant:"destructive",className:"w-full text-xs",children:"Réservé"})]})]})]})})},b.id))]})})]})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4",children:"Détection de votre position..."})]})})}const c$=()=>{const e=En();return r.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Zi,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Espace Administrateur"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Accès restreint aux comptes administrateurs de Tomati Market"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(ae,{children:[r.jsxs(Ve,{children:[r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(QM,{className:"w-5 h-5 text-blue-600"}),"Compte Administrateur de Test"]}),r.jsx(Yi,{children:"Utilisez ces identifiants pour tester l'accès administrateur"})]}),r.jsxs(le,{className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsxs("p",{className:"font-mono text-sm",children:[r.jsx("strong",{children:"Email:"})," admin@tomati.com",r.jsx("br",{}),r.jsx("strong",{children:"Mot de passe:"})," admin123"]})}),r.jsxs("div",{className:"flex items-start gap-2 text-sm text-amber-600",children:[r.jsx(VM,{className:"w-4 h-4 mt-0.5"}),r.jsx("p",{children:"Ce compte est créé uniquement à des fins de démonstration"})]})]})]}),r.jsxs(ae,{children:[r.jsxs(Ve,{children:[r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(ti,{className:"w-5 h-5 text-green-600"}),"Fonctionnalités Admin"]}),r.jsx(Yi,{children:"Ce que vous pouvez faire avec un compte administrateur"})]}),r.jsx(le,{className:"space-y-3",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm",children:"Créer des produits"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm",children:"Modifier tous les produits"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm",children:"Supprimer des produits"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm",children:"Gérer les catégories"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm",children:"Accès au tableau de bord"})]})]})})]})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsx(Ze,{children:"Comment accéder au tableau de bord administrateur"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[r.jsx("li",{children:"Connectez-vous avec le compte administrateur (admin@tomati.com)"}),r.jsx("li",{children:"Une fois connecté, cliquez sur votre avatar dans l'en-tête"}),r.jsx("li",{children:'Sélectionnez "Administration" dans le menu déroulant'}),r.jsx("li",{children:"Vous accédez au tableau de bord avec toutes les fonctionnalités de gestion"})]}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsxs("p",{className:"text-blue-800 text-sm",children:[r.jsx("strong",{children:"Note:"}),` Les utilisateurs normaux ne verront pas l'option "Administration" dans leur menu et seront redirigés s'ils tentent d'accéder directement à l'URL /admin.`]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{onClick:()=>e("/auth"),className:"flex-1",children:"Se connecter en tant qu'admin"}),r.jsx(V,{variant:"outline",onClick:()=>e("/"),className:"flex-1",children:"Retour à l'accueil"})]})]})]})]})})};var u$="Separator",_w="horizontal",d$=["horizontal","vertical"],uP=p.forwardRef((e,t)=>{const{decorative:n,orientation:s=_w,...o}=e,a=h$(s)?s:_w,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(ve.div,{"data-orientation":a,...u,...o,ref:t})});uP.displayName=u$;function h$(e){return d$.includes(e)}var dP=uP;const hP=p.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},o)=>r.jsx(dP,{ref:o,decorative:n,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));hP.displayName=dP.displayName;const f$=({onBack:e})=>{var _,S;const{user:t}=It(),{toast:n}=Je(),s=En(),[o,a]=p.useState({email:!0,push:!0,marketing:!1,newMessages:!0,productUpdates:!0,likes:!0}),[c,u]=p.useState({profileVisible:!0,showEmail:!1,showPhone:!0,allowMessages:!0}),[d,f]=p.useState({theme:"light",language:"fr",compactMode:!1}),[g,m]=p.useState({displayName:(t==null?void 0:t.display_name)||"",email:(t==null?void 0:t.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[v,y]=p.useState({current:!1,new:!1,confirm:!1});Xe({queryKey:["/profile"],queryFn:()=>Ce.getProfile()});const j=Ge({mutationFn:P=>Ce.request("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}),onSuccess:()=>{n({title:"Succès",description:"Profil mis à jour avec succès"}),Xt.invalidateQueries({queryKey:["/api/profile"]})},onError:P=>{n({title:"Erreur",description:P.message||"Impossible de mettre à jour le profil",variant:"destructive"})}}),w=Ge({mutationFn:()=>Ce.request("/auth/delete-account",{method:"DELETE"}),onSuccess:()=>{n({title:"Compte supprimé",description:"Votre compte a été supprimé avec succès"}),logout()},onError:P=>{n({title:"Erreur",description:P.message||"Impossible de supprimer le compte",variant:"destructive"})}}),C=()=>{if(g.newPassword&&g.newPassword!==g.confirmPassword){n({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}const P={display_name:g.displayName};g.newPassword&&(P.currentPassword=g.currentPassword,P.newPassword=g.newPassword),j.mutate(P)},b=()=>{window.confirm("Êtes-vous sûr de vouloir supprimer votre compte ? Cette action est irréversible.")&&w.mutate()};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"bg-white dark:bg-gray-900 border-b border-border sticky top-0 z-40",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>e?e():s(-1),className:"flex items-center gap-2",children:[r.jsx(ir,{size:20}),"Retour"]}),r.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Paramètres"})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(ti,{size:20}),"Profil"]})}),r.jsxs(le,{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx(zn,{className:"w-16 h-16",children:r.jsx(Fn,{className:"bg-primary/10 text-primary font-medium text-lg",children:((_=t==null?void 0:t.display_name)==null?void 0:_.charAt(0))||((S=t==null?void 0:t.email)==null?void 0:S.charAt(0))||"U"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:(t==null?void 0:t.display_name)||"Utilisateur"}),r.jsx("p",{className:"text-muted-foreground",children:t==null?void 0:t.email}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx(ke,{variant:(t==null?void 0:t.role)==="admin"?"default":"secondary",children:(t==null?void 0:t.role)==="admin"?"Administrateur":"Utilisateur"}),r.jsx(ke,{variant:"outline",className:"text-green-600 border-green-600",children:"Vérifié"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"displayName",children:"Nom d'affichage"}),r.jsx(_e,{id:"displayName",value:g.displayName,onChange:P=>m(k=>({...k,displayName:P.target.value})),placeholder:"Votre nom d'affichage"})]}),r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"email",children:"Email"}),r.jsx(_e,{id:"email",value:g.email,disabled:!0,className:"bg-muted"})]})]}),r.jsx(hP,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-foreground",children:"Changer le mot de passe"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),r.jsxs("div",{className:"relative",children:[r.jsx(_e,{id:"currentPassword",type:v.current?"text":"password",value:g.currentPassword,onChange:P=>m(k=>({...k,currentPassword:P.target.value})),placeholder:"Mot de passe actuel"}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>y(P=>({...P,current:!P.current})),children:v.current?r.jsx(Uf,{size:14}):r.jsx(Gs,{size:14})})]})]}),r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(_e,{id:"newPassword",type:v.new?"text":"password",value:g.newPassword,onChange:P=>m(k=>({...k,newPassword:P.target.value})),placeholder:"Nouveau mot de passe"}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>y(P=>({...P,new:!P.new})),children:v.new?r.jsx(Uf,{size:14}):r.jsx(Gs,{size:14})})]})]}),r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"confirmPassword",children:"Confirmer"}),r.jsxs("div",{className:"relative",children:[r.jsx(_e,{id:"confirmPassword",type:v.confirm?"text":"password",value:g.confirmPassword,onChange:P=>m(k=>({...k,confirmPassword:P.target.value})),placeholder:"Confirmer le mot de passe"}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>y(P=>({...P,confirm:!P.confirm})),children:v.confirm?r.jsx(Uf,{size:14}):r.jsx(Gs,{size:14})})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{onClick:C,disabled:j.isPending,className:"flex items-center gap-2",children:[r.jsx(S1,{size:16}),j.isPending?"Sauvegarde...":"Sauvegarder"]})})]})]})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(yl,{size:20}),"Notifications"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"email-notif",children:"Notifications par email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications par email"})]}),r.jsx(ot,{id:"email-notif",checked:o.email,onCheckedChange:P=>a(k=>({...k,email:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"push-notif",children:"Notifications push"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevoir des notifications sur l'appareil"})]}),r.jsx(ot,{id:"push-notif",checked:o.push,onCheckedChange:P=>a(k=>({...k,push:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"messages-notif",children:"Nouveaux messages"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Être notifié des nouveaux messages"})]}),r.jsx(ot,{id:"messages-notif",checked:o.newMessages,onCheckedChange:P=>a(k=>({...k,newMessages:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"products-notif",children:"Mises à jour produits"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications sur vos produits"})]}),r.jsx(ot,{id:"products-notif",checked:o.productUpdates,onCheckedChange:P=>a(k=>({...k,productUpdates:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"likes-notif",children:"J'aimes et favoris"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Quand quelqu'un aime vos produits"})]}),r.jsx(ot,{id:"likes-notif",checked:o.likes,onCheckedChange:P=>a(k=>({...k,likes:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"marketing-notif",children:"Emails marketing"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Offres spéciales et nouveautés"})]}),r.jsx(ot,{id:"marketing-notif",checked:o.marketing,onCheckedChange:P=>a(k=>({...k,marketing:P}))})]})]})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(Zi,{size:20}),"Confidentialité"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"profile-visible",children:"Profil public"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Permettre aux autres de voir votre profil"})]}),r.jsx(ot,{id:"profile-visible",checked:c.profileVisible,onCheckedChange:P=>u(k=>({...k,profileVisible:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"show-email",children:"Afficher l'email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer votre email sur votre profil"})]}),r.jsx(ot,{id:"show-email",checked:c.showEmail,onCheckedChange:P=>u(k=>({...k,showEmail:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"show-phone",children:"Afficher le téléphone"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Montrer votre numéro sur vos annonces"})]}),r.jsx(ot,{id:"show-phone",checked:c.showPhone,onCheckedChange:P=>u(k=>({...k,showPhone:P}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"allow-messages",children:"Autoriser les messages"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Permettre aux utilisateurs de vous contacter"})]}),r.jsx(ot,{id:"allow-messages",checked:c.allowMessages,onCheckedChange:P=>u(k=>({...k,allowMessages:P}))})]})]})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(KM,{size:20}),"Apparence et langue"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"theme",children:"Thème"}),r.jsxs(We,{value:d.theme,onValueChange:P=>f(k=>({...k,theme:P})),children:[r.jsx(Be,{children:r.jsx(qe,{})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"light",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hR,{size:16}),"Clair"]})}),r.jsx(ie,{value:"dark",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rR,{size:16}),"Sombre"]})}),r.jsx(ie,{value:"system",children:"Système"})]})]})]}),r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"language",children:"Langue"}),r.jsxs(We,{value:d.language,onValueChange:P=>f(k=>({...k,language:P})),children:[r.jsx(Be,{children:r.jsx(qe,{})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"fr",children:"Français"}),r.jsx(ie,{value:"en",children:"English"}),r.jsx(ie,{value:"es",children:"Español"}),r.jsx(ie,{value:"de",children:"Deutsch"})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ye,{htmlFor:"compact-mode",children:"Mode compact"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Interface plus dense"})]}),r.jsx(ot,{id:"compact-mode",checked:d.compactMode,onCheckedChange:P=>f(k=>({...k,compactMode:P}))})]})]})]}),r.jsxs(ae,{className:"border-red-200 dark:border-red-800",children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2 text-red-600",children:[r.jsx(os,{size:20}),"Zone de danger"]})}),r.jsx(le,{children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Supprimer le compte"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Une fois supprimé, votre compte ne peut pas être récupéré. Toutes vos données seront définitivement effacées."}),r.jsxs(V,{variant:"destructive",onClick:b,disabled:w.isPending,className:"flex items-center gap-2",children:[r.jsx(os,{size:16}),w.isPending?"Suppression...":"Supprimer mon compte"]})]})})})]})]})]})},m$=()=>{const{user:e}=It(),{toast:t}=Je(),[n,s]=p.useState(null),{data:o,refetch:a}=Xe({queryKey:["/products"],queryFn:()=>Ce.getProducts()}),c=Ge({mutationFn:async m=>{const v=localStorage.getItem("authToken");console.log("TestPromotion like - Token:",v?`Present (${v.substring(0,20)}...)`:"Missing");const y=await fetch(`/api/products/${m}/like`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`}});if(!y.ok){const j=await y.json().catch(()=>({error:"Request failed"}));throw new Error(j.error||"Request failed")}return y.json()},onSuccess:(m,v)=>{t({title:"✅ Produit aimé !",description:m.message||"Produit ajouté aux favoris"}),a(),Xt.invalidateQueries({queryKey:["/products",v]})},onError:m=>{t({title:"❌ Erreur",description:m.message||"Impossible d'aimer ce produit",variant:"destructive"})}}),{data:u,refetch:d}=Xe({queryKey:["/products/promoted"],queryFn:()=>Ce.request("/products/promoted")}),f=m=>{s(m),c.mutate(m)},g=()=>{a(),d()};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx("div",{className:"bg-white dark:bg-gray-900 border-b border-border sticky top-0 z-40",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(IF,{href:"/",children:r.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[r.jsx(ir,{size:20}),"Retour"]})}),r.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Test Promotion Automatique"})]}),r.jsxs(V,{onClick:g,variant:"outline",className:"flex items-center gap-2",children:[r.jsx(aR,{size:16}),"Actualiser"]})]})})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6",children:[r.jsxs(ae,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950 dark:border-blue-800",children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[r.jsx(Fs,{size:20}),"Comment tester la promotion automatique"]})}),r.jsx(le,{children:r.jsxs("div",{className:"space-y-2 text-blue-600 dark:text-blue-300",children:[r.jsx("p",{children:"• Sélectionnez un produit qui n'est pas le vôtre"}),r.jsx("p",{children:`• Cliquez sur le bouton "❤️ J'aime" 3 fois (ou demandez à 3 utilisateurs différents)`}),r.jsx("p",{children:"• Le produit sera automatiquement promu après 3 j'aimes"}),r.jsx("p",{children:"• Une notification sera envoyée au propriétaire du produit"}),r.jsx("p",{children:'• Le produit apparaîtra dans la section "Produits Promus"'})]})})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(mR,{size:20,className:"text-yellow-500"}),"Produits Promus (3+ j'aimes)"]})}),r.jsx(le,{children:Array.isArray(u)&&u.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(m=>r.jsx(ae,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ke,{variant:"default",className:"bg-yellow-500 text-white",children:"🎉 PROMU"}),r.jsxs(ke,{variant:"outline",children:["❤️ ",m.like_count||0]})]}),r.jsx("h3",{className:"font-semibold text-foreground mb-1",children:m.title}),r.jsx("p",{className:"text-2xl font-bold text-green-600 mb-2",children:m.price}),r.jsx("p",{className:"text-sm text-muted-foreground",children:m.location}),m.promoted_at&&r.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:["Promu le: ",new Date(m.promoted_at).toLocaleDateString("fr-FR")]})]})},m.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucun produit promu pour le moment. Likez des produits pour les voir apparaître ici !"})})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(en,{size:20}),"Tous les produits - Test des j'aimes"]})}),r.jsx(le,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o==null?void 0:o.map(m=>r.jsx(ae,{className:"relative",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ke,{variant:"secondary",children:m.category}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ke,{variant:"outline",className:"flex items-center gap-1",children:["❤️ ",m.like_count||0]}),m.is_promoted&&r.jsx(ke,{variant:"default",className:"bg-yellow-500 text-white",children:"PROMU"})]})]}),r.jsx("h3",{className:"font-semibold text-foreground mb-1",children:m.title}),r.jsx("p",{className:"text-lg font-bold text-green-600 mb-2",children:m.price}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:m.location}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:m.user_id===(e==null?void 0:e.id)?"Votre produit":"Autre utilisateur"}),r.jsxs(V,{size:"sm",variant:m.user_id===(e==null?void 0:e.id)?"secondary":"outline",disabled:m.user_id===(e==null?void 0:e.id)||c.isPending&&n===m.id,onClick:()=>f(m.id),className:"flex items-center gap-1",children:[r.jsx(en,{size:14}),m.user_id===(e==null?void 0:e.id)?"Votre produit":c.isPending&&n===m.id?"En cours...":"J'aime"]})]}),!m.is_promoted&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[r.jsx("span",{children:"Progression vers promotion"}),r.jsxs("span",{children:[Math.min(m.like_count||0,3),"/3"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((m.like_count||0)/3*100,100)}%`}})})]})]})},m.id))})})]}),r.jsxs(ae,{className:"border-gray-200 bg-gray-50 dark:bg-gray-900",children:[r.jsx(Ve,{children:r.jsx(Ze,{children:"Informations de test"})}),r.jsx(le,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Système de promotion"}),r.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[r.jsx("li",{children:"• Auto-promotion à 3 j'aimes"}),r.jsx("li",{children:"• Notification automatique au vendeur"}),r.jsx("li",{children:'• Badge "PROMU" visible'}),r.jsx("li",{children:"• Horodatage de promotion"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Règles"}),r.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[r.jsx("li",{children:"• Impossible d'aimer son propre produit"}),r.jsx("li",{children:"• Compteur de j'aimes en temps réel"}),r.jsx("li",{children:"• Barre de progression vers promotion"}),r.jsx("li",{children:"• Actualisation automatique des données"})]})]})]})})]})]})]})};function p$(){const[e,t]=p.useState(""),[n,s]=p.useState("all"),[o,a]=p.useState("all"),{toast:c}=Je(),u=lr(),{data:d=[],isLoading:f}=Xe({queryKey:["/api/products"]}),{data:g=[]}=Xe({queryKey:["/api/categories"]}),m=Ge({mutationFn:w=>Ci(`/api/products/${w}`,{method:"DELETE"}),onSuccess:()=>{c({title:"Succès",description:"Produit supprimé avec succès"}),u.invalidateQueries({queryKey:["/api/products"]})},onError:()=>{c({title:"Erreur",description:"Impossible de supprimer le produit",variant:"destructive"})}}),v=Ge({mutationFn:w=>Ci(`/api/products/${w}/promote`,{method:"POST"}),onSuccess:()=>{c({title:"Succès",description:"Produit promu avec succès"}),u.invalidateQueries({queryKey:["/api/products"]})},onError:()=>{c({title:"Erreur",description:"Impossible de promouvoir le produit",variant:"destructive"})}}),y=d.filter(w=>{const C=w.title.toLowerCase().includes(e.toLowerCase())||w.location.toLowerCase().includes(e.toLowerCase()),b=n==="all"||w.category===n,_=o==="all"||o==="promoted"&&w.promoted||o==="regular"&&!w.promoted||o==="free"&&w.is_free||o==="paid"&&!w.is_free;return C&&b&&_}),j={total:d.length,promoted:d.filter(w=>w.promoted).length,free:d.filter(w=>w.is_free).length,categories:g.length};return r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Produits"}),r.jsxs(V,{children:[r.jsx(qi,{className:"w-4 h-4 mr-2"}),"Ajouter un produit"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{children:r.jsxs(le,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Produits"})]})}),r.jsx(ae,{children:r.jsxs(le,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.promoted}),r.jsx("div",{className:"text-sm text-gray-600",children:"Produits Promus"})]})}),r.jsx(ae,{children:r.jsxs(le,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j.free}),r.jsx("div",{className:"text-sm text-gray-600",children:"Produits Gratuits"})]})}),r.jsx(ae,{children:r.jsxs(le,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:j.categories}),r.jsx("div",{className:"text-sm text-gray-600",children:"Catégories"})]})})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{className:"flex items-center gap-2",children:[r.jsx(Hg,{className:"w-5 h-5"}),"Filtres et Recherche"]})}),r.jsx(le,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Wt,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),r.jsx(_e,{placeholder:"Rechercher par titre ou localisation...",value:e,onChange:w=>t(w.target.value),className:"pl-10"})]}),r.jsxs(We,{value:n,onValueChange:s,children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Toutes les catégories"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"all",children:"Toutes les catégories"}),r.jsx(ie,{value:"vehicles",children:"Véhicules"}),r.jsx(ie,{value:"real_estate",children:"Immobilier"}),r.jsx(ie,{value:"jobs",children:"Emplois"}),r.jsx(ie,{value:"electronics",children:"Électronique"}),r.jsx(ie,{value:"other",children:"Autres"})]})]}),r.jsxs(We,{value:o,onValueChange:a,children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Tous les statuts"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"all",children:"Tous les statuts"}),r.jsx(ie,{value:"promoted",children:"Promus"}),r.jsx(ie,{value:"regular",children:"Réguliers"}),r.jsx(ie,{value:"free",children:"Gratuits"}),r.jsx(ie,{value:"paid",children:"Payants"})]})]}),r.jsx(V,{variant:"outline",onClick:()=>{t(""),s("all"),a("all")},children:"Réinitialiser"})]})})]}),r.jsxs(ae,{children:[r.jsx(Ve,{children:r.jsxs(Ze,{children:["Produits (",y.length,")"]})}),r.jsx(le,{children:f?r.jsx("div",{className:"text-center py-8",children:"Chargement des produits..."}):y.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun produit trouvé"}):r.jsx("div",{className:"space-y-4",children:y.map(w=>r.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:w.title}),w.promoted&&r.jsx(ke,{className:"bg-yellow-500 text-white",children:"Promu"}),w.is_free&&r.jsx(ke,{variant:"secondary",children:"Gratuit"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Catégorie:"})," ",w.category]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Prix:"})," ",w.is_free?"Gratuit":`${w.price} DT`]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Localisation:"})," ",w.location]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Créé:"})," ",new Date(w.created_at).toLocaleDateString("fr-FR")]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(Gs,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"outline",children:r.jsx(Xl,{className:"w-4 h-4"})}),!w.promoted&&r.jsx(V,{size:"sm",variant:"outline",onClick:()=>v.mutate(w.id),disabled:v.isPending,children:"Promouvoir"}),r.jsx(V,{size:"sm",variant:"destructive",onClick:()=>m.mutate(w.id),disabled:m.isPending,children:r.jsx(os,{className:"w-4 h-4"})})]})]})},w.id))})})]})]})}function g$({onFilter:e,onSort:t,onViewModeChange:n,viewMode:s,productCount:o}){const[a,c]=p.useState(""),[u,d]=p.useState("all"),[f,g]=p.useState([0,1e5]),[m,v]=p.useState("all"),[y,j]=p.useState("all"),[w,C]=p.useState("created_at"),[b,_]=p.useState("desc"),[S,P]=p.useState(!1),k=()=>{e({search:a,category:u,priceRange:f,condition:m,location:y})},M=z=>{const B=w===z&&b==="asc"?"desc":"asc";C(z),_(B),t(z,B)},R=()=>{c(""),d("all"),g([0,1e5]),v("all"),j("all"),e({search:"",category:"all",priceRange:[0,1e5],condition:"all",location:"all"})},T=[a!=="",u!=="all",f[0]!==0||f[1]!==1e5,m!=="all",y!=="all"].filter(Boolean).length;return r.jsx(ae,{className:"mb-6",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 mb-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx(_e,{placeholder:"Rechercher des produits...",value:a,onChange:z=>c(z.target.value),className:"pl-10",onKeyPress:z=>z.key==="Enter"&&k()})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{onClick:k,className:"px-6",children:[r.jsx(Wt,{size:16,className:"mr-2"}),"Rechercher"]}),r.jsxs(V,{variant:"outline",onClick:()=>P(!S),className:"relative",children:[r.jsx(Hg,{size:16,className:"mr-2"}),"Filtres",T>0&&r.jsx(ke,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 text-xs",children:T})]})]})]}),S&&r.jsxs("div",{className:"border-t pt-4 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Catégorie"}),r.jsxs(We,{value:u,onValueChange:d,children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Toutes"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"all",children:"Toutes catégories"}),r.jsx(ie,{value:"voiture",children:"Voitures"}),r.jsx(ie,{value:"immobilier",children:"Immobilier"}),r.jsx(ie,{value:"emplois",children:"Emplois"}),r.jsx(ie,{value:"electronique",children:"Électronique"}),r.jsx(ie,{value:"mode",children:"Mode"}),r.jsx(ie,{value:"mobilier",children:"Mobilier"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"État"}),r.jsxs(We,{value:m,onValueChange:v,children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Tous"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"all",children:"Tous états"}),r.jsx(ie,{value:"new",children:"Neuf"}),r.jsx(ie,{value:"like_new",children:"Comme neuf"}),r.jsx(ie,{value:"good",children:"Bon état"}),r.jsx(ie,{value:"used",children:"Utilisé"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Localisation"}),r.jsxs(We,{value:y,onValueChange:j,children:[r.jsx(Be,{children:r.jsx(qe,{placeholder:"Toutes"})}),r.jsxs(Ue,{children:[r.jsx(ie,{value:"all",children:"Toutes régions"}),r.jsx(ie,{value:"tunis",children:"Tunis"}),r.jsx(ie,{value:"sfax",children:"Sfax"}),r.jsx(ie,{value:"sousse",children:"Sousse"}),r.jsx(ie,{value:"bizerte",children:"Bizerte"}),r.jsx(ie,{value:"gabes",children:"Gabès"})]})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs(V,{variant:"outline",onClick:R,className:"w-full",disabled:T===0,children:[r.jsx(gn,{size:16,className:"mr-2"}),"Effacer"]})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium mb-2 block",children:["Prix: ",f[0]," DT - ",f[1]," DT"]}),r.jsx(oc,{value:f,onValueChange:g,max:1e5,min:0,step:500,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"0 DT"}),r.jsx("span",{children:"100,000+ DT"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[o," produit",o!==1?"s":""," trouvé",o!==1?"s":""]}),T>0&&r.jsxs(ke,{variant:"secondary",children:[T," filtre",T!==1?"s":""," actif",T!==1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(V,{variant:w==="created_at"?"default":"outline",size:"sm",onClick:()=>M("created_at"),className:"text-xs",children:["Date",w==="created_at"&&(b==="asc"?r.jsx(g0,{size:12,className:"ml-1"}):r.jsx(p0,{size:12,className:"ml-1"}))]}),r.jsxs(V,{variant:w==="price"?"default":"outline",size:"sm",onClick:()=>M("price"),className:"text-xs",children:["Prix",w==="price"&&(b==="asc"?r.jsx(g0,{size:12,className:"ml-1"}):r.jsx(p0,{size:12,className:"ml-1"}))]})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(V,{variant:s==="grid"?"default":"ghost",size:"sm",onClick:()=>n("grid"),className:"rounded-r-none",children:r.jsx(va,{size:16})}),r.jsx(V,{variant:s==="list"?"default":"ghost",size:"sm",onClick:()=>n("list"),className:"rounded-l-none",children:r.jsx(XM,{size:16})})]})]})]})]})})}function v$({onProductClick:e,onProductLike:t,onProductMessage:n}){const[s,o]=p.useState("grid"),[a,c]=p.useState({search:"",category:"all",priceRange:[0,1e5],condition:"all",location:"all"}),[u,d]=p.useState({sortBy:"created_at",direction:"desc"}),f=v=>{c(v)},g=(v,y)=>{d({sortBy:v,direction:y})},m=v=>{o(v)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(g$,{onFilter:f,onSort:g,onViewModeChange:m,viewMode:s,productCount:0}),r.jsx(Gj,{category:a.category==="all"?"":a.category,searchTerm:a.search,sortBy:`${u.sortBy}-${u.direction}`,onProductClick:e,onProductLike:t,onProductMessage:n,viewMode:s,filters:a})]})}const x$=()=>{const e=En(),{toast:t}=Je(),n=a=>{e(`/product/${a}`)},s=async a=>{try{(await fetch(`/api/products/${a}/like`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok&&t({title:"Produit aimé !",description:"Vous avez aimé ce produit"})}catch{t({title:"Erreur",description:"Impossible d'aimer ce produit",variant:"destructive"})}},o=a=>{e(`/messages?product=${a}`),t({title:"Redirection vers les messages",description:"Ouverture de la conversation avec le vendeur"})};return r.jsx("div",{className:"min-h-screen bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tous les Produits"}),r.jsx("p",{className:"text-gray-600",children:"Explorez et filtrez tous les produits disponibles sur la plateforme"})]}),r.jsx(v$,{onProductClick:n,onProductLike:s,onProductMessage:o})]})})};function y$(){const[e,t]=p.useState(""),{user:n}=It(),{toast:s}=Je(),{data:o=[],isLoading:a,refetch:c}=Xe({queryKey:["/admin/products"],queryFn:()=>Ce.request("/products?admin=true"),enabled:!!n&&n.role==="admin"}),u=Ge({mutationFn:async g=>Ce.request(`/admin/products/${g}`,{method:"DELETE"}),onSuccess:(g,m)=>{s({title:"Produit supprimé",description:"Le produit a été supprimé avec succès"}),Xt.invalidateQueries({queryKey:["/admin/products"]}),Xt.invalidateQueries({queryKey:["/products"]}),c()},onError:g=>{s({title:"Erreur",description:g.message||"Impossible de supprimer le produit",variant:"destructive"})}}),d=g=>{u.mutate(g)},f=o.filter(g=>{var m;return g.title.toLowerCase().includes(e.toLowerCase())||g.category.toLowerCase().includes(e.toLowerCase())||((m=g.seller_name)==null?void 0:m.toLowerCase().includes(e.toLowerCase()))});return!n||n.role!=="admin"?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx(ae,{children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Accès refusé"}),r.jsx("p",{className:"text-gray-600",children:"Vous devez être administrateur pour accéder à cette page."})]})})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Administration des Produits"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Gérez tous les produits de la plateforme Tomati"}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(_e,{placeholder:"Rechercher par titre, catégorie ou vendeur...",value:e,onChange:g=>t(g.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Produits"}),r.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),r.jsx(Gs,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Produits Promus"}),r.jsx("p",{className:"text-2xl font-bold",children:o.filter(g=>g.is_promoted).length})]}),r.jsx(en,{className:"h-8 w-8 text-red-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Résultats"}),r.jsx("p",{className:"text-2xl font-bold",children:f.length})]}),r.jsx(Wt,{className:"h-8 w-8 text-green-500"})]})})})]})]}),a?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{children:"Chargement des produits..."})}):r.jsx("div",{className:"grid gap-4",children:f.length===0?r.jsx(ae,{children:r.jsx(le,{className:"p-8 text-center",children:r.jsx("p",{className:"text-gray-500",children:"Aucun produit trouvé"})})}):f.map(g=>r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden",children:g.images&&g.images.length>0?r.jsx("img",{src:g.images[0],alt:g.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r.jsx(Gs,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:g.title}),g.is_promoted&&r.jsx(ke,{variant:"secondary",className:"bg-red-100 text-red-700",children:"Promu"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"font-medium text-green-600",children:[g.price.toLocaleString()," TND"]}),r.jsx("span",{children:g.category}),g.seller_name&&r.jsxs("span",{children:["Vendeur: ",g.seller_name]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(en,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{children:g.like_count||0})]})]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Créé le ",new Date(g.created_at).toLocaleDateString("fr-FR")]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(ex,{children:[r.jsx(nP,{asChild:!0,children:r.jsxs(V,{variant:"destructive",size:"sm",disabled:u.isPending,children:[r.jsx(os,{className:"h-4 w-4 mr-1"}),"Supprimer"]})}),r.jsxs(Eh,{children:[r.jsxs(Th,{children:[r.jsx(Rh,{children:"Confirmer la suppression"}),r.jsxs(Lh,{children:['Êtes-vous sûr de vouloir supprimer le produit "',g.title,'" ? Cette action est irréversible et supprimera également tous les likes et messages associés.']})]}),r.jsxs(Mh,{children:[r.jsx(Ih,{children:"Annuler"}),r.jsx(Ah,{onClick:()=>d(g.id),className:"bg-red-600 hover:bg-red-700",children:"Supprimer définitivement"})]})]})]})})]})},g.id))})]})}function w$(){const[e,t]=p.useState(""),{user:n}=It(),{toast:s}=Je(),o=En(),{data:a=[],isLoading:c,refetch:u}=Xe({queryKey:["/admin/advertisements"],queryFn:()=>Ce.request("/advertisements/all?admin=true"),enabled:!!n&&n.role==="admin"}),d=Ge({mutationFn:async y=>Ce.request(`/admin/advertisements/${y}`,{method:"DELETE"}),onSuccess:(y,j)=>{s({title:"Publicité supprimée",description:"La publicité a été supprimée avec succès"}),Xt.invalidateQueries({queryKey:["/admin/advertisements"]}),Xt.invalidateQueries({queryKey:["/advertisements"]}),u()},onError:y=>{s({title:"Erreur",description:y.message||"Impossible de supprimer la publicité",variant:"destructive"})}}),f=y=>{d.mutate(y)},g=a.filter(y=>y.title.toLowerCase().includes(e.toLowerCase())||y.description.toLowerCase().includes(e.toLowerCase())||y.advertiser_name.toLowerCase().includes(e.toLowerCase())||y.position.toLowerCase().includes(e.toLowerCase())),m=y=>y.advertiser_name.toLowerCase().includes("ikea")||y.title.toLowerCase().includes("mobilier")||y.description.toLowerCase().includes("livraison gratuite")?"bg-blue-50 border-blue-200":"bg-white",v=y=>{const w={header:{label:"En-tête",color:"bg-purple-100 text-purple-700"},sidebar:{label:"Barre latérale",color:"bg-green-100 text-green-700"},between_products:{label:"Entre produits",color:"bg-blue-100 text-blue-700"},footer:{label:"Pied de page",color:"bg-orange-100 text-orange-700"}}[y]||{label:y,color:"bg-gray-100 text-gray-700"};return r.jsx(ke,{className:w.color,children:w.label})};return!n||n.role!=="admin"?r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx(ae,{children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Accès refusé"}),r.jsx("p",{className:"text-gray-600",children:"Vous devez être administrateur pour accéder à cette page."})]})})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(V,{variant:"ghost",onClick:()=>o("/admin"),className:"flex items-center gap-2",children:[r.jsx(ir,{size:18}),"Retour Dashboard"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Administration des Publicités"}),r.jsx("p",{className:"text-gray-600",children:"Gérez toutes les publicités de la plateforme Tomati"})]})]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(_e,{placeholder:"Rechercher par titre, description, annonceur ou position...",value:e,onChange:y=>t(y.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Publicités"}),r.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),r.jsx(ip,{className:"h-8 w-8 text-blue-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Actives"}),r.jsx("p",{className:"text-2xl font-bold",children:a.filter(y=>y.is_active).length})]}),r.jsx(Gs,{className:"h-8 w-8 text-green-500"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Publicités Bleues"}),r.jsx("p",{className:"text-2xl font-bold",children:a.filter(y=>y.advertiser_name.toLowerCase().includes("ikea")||y.title.toLowerCase().includes("mobilier")).length})]}),r.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full"})]})})}),r.jsx(ae,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Résultats"}),r.jsx("p",{className:"text-2xl font-bold",children:g.length})]}),r.jsx(Wt,{className:"h-8 w-8 text-purple-500"})]})})})]})]}),c?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{children:"Chargement des publicités..."})}):r.jsx("div",{className:"grid gap-4",children:g.length===0?r.jsx(ae,{children:r.jsx(le,{className:"p-8 text-center",children:r.jsx("p",{className:"text-gray-500",children:"Aucune publicité trouvée"})})}):g.map(y=>r.jsx(ae,{className:`p-4 ${m(y)}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden",children:y.image_url?r.jsx("img",{src:y.image_url,alt:y.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r.jsx(ip,{className:"h-6 w-6"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:y.title}),y.advertiser_name.toLowerCase().includes("ikea")&&r.jsx(ke,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Style Bleu"}),!y.is_active&&r.jsx(ke,{variant:"secondary",className:"bg-gray-100 text-gray-700",children:"Inactif"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium text-blue-600",children:y.advertiser_name}),v(y.position),y.category&&r.jsxs("span",{children:["Catégorie: ",y.category]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-1",children:[r.jsxs("span",{children:[y.impression_count," vues"]}),r.jsxs("span",{children:[y.click_count," clics"]}),r.jsxs("span",{children:["Créé le ",new Date(y.created_at).toLocaleDateString("fr-FR")]})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(ex,{children:[r.jsx(nP,{asChild:!0,children:r.jsxs(V,{variant:"destructive",size:"sm",disabled:d.isPending,children:[r.jsx(os,{className:"h-4 w-4 mr-1"}),"Supprimer"]})}),r.jsxs(Eh,{children:[r.jsxs(Th,{children:[r.jsx(Rh,{children:"Confirmer la suppression"}),r.jsxs(Lh,{children:['Êtes-vous sûr de vouloir supprimer la publicité "',y.title,'" de ',y.advertiser_name," ? Cette action est irréversible et supprimera également toutes les statistiques associées."]})]}),r.jsxs(Mh,{children:[r.jsx(Ih,{children:"Annuler"}),r.jsx(Ah,{onClick:()=>f(y.id),className:"bg-red-600 hover:bg-red-700",children:"Supprimer définitivement"})]})]})]})})]})},y.id))})]})}const b$=()=>{const e=ui();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},_$=()=>{const[e,t]=p.useState(null),[n,s]=p.useState(!1),[o,a]=p.useState(!1);p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){a(!0);return}const d=g=>{g.preventDefault(),t(g),setTimeout(()=>{localStorage.getItem("pwa-install-dismissed")||s(!0)},3e4)},f=()=>{a(!0),s(!1),t(null),console.log("PWA was installed")};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const c=async()=>{if(!e)return;e.prompt();const{outcome:d}=await e.userChoice;d==="accepted"?console.log("User accepted the install prompt"):(console.log("User dismissed the install prompt"),localStorage.setItem("pwa-install-dismissed","true")),t(null),s(!1)},u=()=>{s(!1),localStorage.setItem("pwa-install-dismissed","true")};return o||!n||!e?null:r.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:r.jsx(ae,{className:"border-2 border-red-200 bg-white shadow-lg",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center",children:r.jsx(uR,{className:"w-5 h-5 text-white"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Installer Tomati sur votre téléphone"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Accès plus rapide, notifications et utilisation hors ligne"}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsxs(V,{onClick:c,size:"sm",className:"bg-red-500 hover:bg-red-600 text-white flex-1",children:[r.jsx(qM,{className:"w-4 h-4 mr-1"}),"Installer"]}),r.jsx(V,{onClick:u,variant:"outline",size:"sm",className:"flex-shrink-0",children:r.jsx(gn,{className:"w-4 h-4"})})]})]})]})})})})},j$=()=>r.jsx(lD,{children:r.jsx(b4,{client:Xt,children:r.jsx(e4,{children:r.jsx(iD,{children:r.jsx(rD,{children:r.jsxs(oD,{children:[r.jsx(YR,{}),r.jsx(EL,{}),r.jsx(WI,{children:r.jsxs(_I,{children:[r.jsx(Bt,{path:"/",element:r.jsxs(r.Fragment,{children:[r.jsx(xw,{}),r.jsx(_$,{})]})}),r.jsx(Bt,{path:"/auth",element:r.jsx(P8,{})}),r.jsx(Bt,{path:"/admin",element:r.jsx(ws,{children:r.jsx(Pu,{children:r.jsx(H8,{})})})}),r.jsx(Bt,{path:"/profile",element:r.jsx(ws,{children:r.jsx(JC,{})})}),r.jsx(Bt,{path:"/map",element:r.jsx(l$,{})}),r.jsx(Bt,{path:"/messages",element:r.jsx(ws,{children:r.jsx(y2,{})})}),r.jsx(Bt,{path:"/settings",element:r.jsx(ws,{children:r.jsx(f$,{})})}),r.jsx(Bt,{path:"/test-promotion",element:r.jsx(ws,{children:r.jsx(m$,{})})}),r.jsx(Bt,{path:"/products-management",element:r.jsx(ws,{children:r.jsx(Pu,{children:r.jsx(p$,{})})})}),r.jsx(Bt,{path:"/admin/products",element:r.jsx(ws,{children:r.jsx(Pu,{children:r.jsx(y$,{})})})}),r.jsx(Bt,{path:"/admin/advertisements",element:r.jsx(ws,{children:r.jsx(Pu,{children:r.jsx(w$,{})})})}),r.jsx(Bt,{path:"/products",element:r.jsx(x$,{})}),r.jsx(Bt,{path:"/admin-info",element:r.jsx(c$,{})}),r.jsx(Bt,{path:"/post",element:r.jsx(xw,{})}),r.jsx(Bt,{path:"*",element:r.jsx(b$,{})})]})})]})})})})})});q_(document.getElementById("root")).render(r.jsx(j$,{}));
